(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(t,e,n){t.exports=n.p+"static/media/crystal-qubodup-ccby3-32-blue.0f3ced6e.png"},29:function(t,e,n){t.exports=n.p+"static/media/crystal-qubodup-ccby3-32-green.62ee8639.png"},30:function(t,e){t.exports="data:image/png;base64,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"},31:function(t,e,n){t.exports=n.p+"static/media/crystal-qubodup-ccby3-32-orange.6fe51ce6.png"},32:function(t,e,n){t.exports=n.p+"static/media/crystal-qubodup-ccby3-32-pink.0a128285.png"},33:function(t,e,n){t.exports=n.p+"static/media/crystal-qubodup-ccby3-32-yellow.04dee955.png"},36:function(t,e,n){t.exports=n(60)},45:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"CrystalTypes",function(){return I});var a={};n.r(a),n.d(a,"createCrystal",function(){return P}),n.d(a,"getRandomCrystalType",function(){return j});var i={};n.r(i),n.d(i,"getIndex",function(){return _}),n.d(i,"convertCrystal",function(){return U});var o={};n.r(o),n.d(o,"LOCAL_STATE_KEY",function(){return G}),n.d(o,"CRYSTAL_COUNT",function(){return Y});var c={};n.r(c),n.d(c,"selectCrystals",function(){return J}),n.d(c,"selectCrystalTypes",function(){return $});var s={};n.r(s),n.d(s,"LOCAL_STATE_KEY",function(){return tt}),n.d(s,"CRYSTAL_COUNT",function(){return et}),n.d(s,"GROUND_TIME_THRESHOLD",function(){return nt}),n.d(s,"FAST_MOVE_DOWN",function(){return rt});var u={};n.r(u),n.d(u,"selectPosition",function(){return ht}),n.d(u,"selectCrystals",function(){return At}),n.d(u,"selectCrystalTypes",function(){return St}),n.d(u,"selectGroundTime",function(){return gt});var l={};n.r(l),n.d(l,"LOCAL_STATE_KEY",function(){return Ot}),n.d(l,"BoardStatus",function(){return Tt}),n.d(l,"NO_CRYSTAL_CONST",function(){return Rt}),n.d(l,"ROW_COUNT",function(){return Lt}),n.d(l,"COLUMNS_PER_ROW",function(){return kt}),n.d(l,"MIDDLE_COLUMN_INDEX",function(){return bt}),n.d(l,"BUFFER_ZONE_ROW_COUNT",function(){return xt}),n.d(l,"MIN_CHAINED_LINKS",function(){return wt}),n.d(l,"MIN_CRYSTAL_CHAIN_LENGTH",function(){return It});var d={};n.r(d),n.d(d,"isValidCrystal",function(){return Nt}),n.d(d,"createMatrixIndex",function(){return Dt}),n.d(d,"getMatrixWidth",function(){return Pt}),n.d(d,"getMatrixHeight",function(){return jt}),n.d(d,"getMatrixIndex",function(){return Mt}),n.d(d,"createMatrix",function(){return _t}),n.d(d,"cloneMatrix",function(){return Ut}),n.d(d,"flattenMatrix",function(){return Gt}),n.d(d,"isValidRowIndex",function(){return Yt}),n.d(d,"isValidColumnIndex",function(){return Bt}),n.d(d,"isValidMatrixIndex",function(){return Ft}),n.d(d,"isEmptyColumn",function(){return Wt}),n.d(d,"isLastRow",function(){return Kt});var f={};n.r(f),n.d(f,"isBoardFilled",function(){return Re}),n.d(f,"selectBoardStatus",function(){return Ae}),n.d(f,"selectMatrix",function(){return ge}),n.d(f,"selectVisibleCrystals",function(){return pe}),n.d(f,"selectMarkedCrystals",function(){return he}),n.d(f,"selectMarkedCrystalIds",function(){return Ce});var y={};n.r(y),n.d(y,"LOCAL_STATE_KEY",function(){return Le}),n.d(y,"MAX_SPEED_LEVEL",function(){return ke}),n.d(y,"MIN_SPEED_LEVEL",function(){return be}),n.d(y,"RECOVERY_SPEED_LEVEL",function(){return xe}),n.d(y,"GameStatus",function(){return we});var m={};n.r(m),n.d(m,"selectClearedCrystalsCount",function(){return Ve}),n.d(m,"selectGameStatus",function(){return Ke}),n.d(m,"selectLevelCount",function(){return Fe}),n.d(m,"selectSpeedLevel",function(){return We});var E={};n.r(E),n.d(E,"CRYSTAL_SPRITE_MAP",function(){return on}),n.d(E,"SPRITE_FRAMES",function(){return cn}),n.d(E,"CELL_SIZE",function(){return sn}),n.d(E,"SPRITE_FRAME_SIZE",function(){return un});var p={};n.r(p),n.d(p,"convertToMatrixIndex",function(){return Rn}),n.d(p,"convertXToColumnIndex",function(){return Ln}),n.d(p,"convertYToRowIndex",function(){return kn}),n.d(p,"convertRowIndexToY",function(){return bn}),n.d(p,"convertColumnIndexToX",function(){return xn});var v,h,C,A,S=n(0),g=n.n(S),O=n(20),T=n(9),R=(n(45),n(3)),L=n(4),k=n(6),b=n(5),x=n(7),w=n(16),I={BLUE:0,GREEN:1,GREY:2,ORANGE:3,PINK:4,YELLOW:5},N=0,D=Object.keys(I).length,P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return{id:""+N++,type:t}},j=function(){return Math.floor(Math.random()*D)},M=[],_=function(t,e){for(;M.length<=t;)M.push([]);for(var n=M[t];n.length<=e;)n.push({row:t,column:n.length});return n[e]},U=function(t,e,n){return{crystal:t,index:_(e,n)}},G="crystalPreview_2",Y=3,B=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i={type:t,payload:{}};return n.forEach(function(t,e){i.payload[t]=r[e]}),i}},F={SET_CRYSTAL_TYPES:"CrystalsPreviewActions::SET_CRYSTAL_TYPES"},W={setCrystalTypes:B(F.SET_CRYSTAL_TYPES,"crystalTypes")},K=F,V=[],Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case K.SET_CRYSTAL_TYPES:return X(t,r.crystalTypes);default:return t}},X=function(t,e){return Z(e).map(function(t){return a.createCrystal(t)})},Z=function(t){return t.length>Y?t.slice(0,Y):t},z=n(13),H=function(t){return t[G]},q=Object(z.a)(function(t){return t.map(function(t,e){return i.convertCrystal(t,e,0)})}),J=function(t){var e=H(t);return q(e)},$=function(t){return H(t).map(function(t){return t.type})},tt="movingCrystals",et=3,nt=12,rt=70,at=n(19),it=n(1),ot={SET_RESET_POSITION:"MovingCrystalsActions::SET_RESET_POSITION",RESET_POSITION:"MovingCrystalsActions::RESET_POSITION",SET_CRYSTAL_TYPES:"MovingCrystalsActions::SET_CRYSTAL_TYPES",CLEAR_CRYSTALS:"MovingCrystalsActions::CLEAR_CRYSTALS",SET_POSITION:"MovingCrystalsActions::SET_POSITION",CYCLE_CRYSTALS:"MovingCrystalsActions::CYCLE_CRYSTALS",INCREMENT_GROUND_TIME:"MovingCrystalsActions::INCREMENT_GROUND_TIME"},ct={setResetPosition:B(ot.SET_RESET_POSITION,"position"),resetPosition:B(ot.RESET_POSITION),setPosition:B(ot.SET_POSITION,"position"),setCrystalTypes:B(ot.SET_CRYSTAL_TYPES,"crystalTypes"),clearCrystals:B(ot.CLEAR_CRYSTALS),cycleCrystals:B(ot.CYCLE_CRYSTALS),incrementGroundTime:B(ot.INCREMENT_GROUND_TIME)},st=ot,ut={crystals:[],groundTime:0,position:{x:0,y:0},resetPosition:{x:0,y:0}},lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case st.SET_RESET_POSITION:return mt(t,r.position);case st.SET_POSITION:return yt(t,r.position);case st.SET_CRYSTAL_TYPES:return dt(t,r.crystalTypes);case st.CYCLE_CRYSTALS:return Et(t);case st.CLEAR_CRYSTALS:return dt(t,[]);case st.INCREMENT_GROUND_TIME:return pt(t);case st.RESET_POSITION:return yt(t,t.resetPosition);default:return t}},dt=function(t,e){var n=ft(e).map(function(t){return a.createCrystal(t)});return Object(it.a)({},t,{crystals:n,position:t.resetPosition,groundTime:ut.groundTime})},ft=function(t){return t.length>et?t.slice(0,et):t},yt=function(t,e){return Object(it.a)({},t,{position:e})},mt=function(t,e){return Object(it.a)({},t,{resetPosition:e})},Et=function(t){var e=Object(at.a)(t.crystals);return e.unshift(e.pop()),Object(it.a)({},t,{crystals:e})},pt=function(t){return Object(it.a)({},t,{groundTime:t.groundTime+1})},vt=function(t){return t[tt]},ht=function(t,e){var n=vt(t).position;return{x:n.x,y:n.y}},Ct=Object(z.a)(function(t){return t.map(function(t,e){return i.convertCrystal(t,e,0)})}),At=function(t){var e=vt(t).crystals;return Ct(e)},St=function(t){return vt(t).crystals.map(function(t){return t.type})},gt=function(t){return vt(t).groundTime},Ot="crystalBoard",Tt={CRYSTAL_CHAINS_RESOLVED:"BoardStatus::CRYSTAL_CHAINS_RESOLVED",READY:"BoardStatus::READY",PENDING_MARKED_CRYSTALS:"BoardStatus::PENDING_MARKED_CRYSTALS"},Rt=void 0,Lt=11,kt=7,bt=3,xt=3,wt=3,It=3,Nt=function(t){return t!==Rt},Dt=function(t,e){return{row:t,column:e}},Pt=function(t){return t[0].length},jt=function(t){return t.length},Mt=function(t,e){var n=Dt(-1,-1);return t.some(function(t,r){return t.some(function(t,a){return t.id===e&&(n.row=r,n.column=a,!0)})}),n},_t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.from(Array(t),function(){return Array(e).fill(n)})},Ut=function(t){var e=[];return t.forEach(function(t,n){e[n]=Object(at.a)(t)}),e},Gt=function(t){var e;return(e=[]).concat.apply(e,Object(at.a)(t))},Yt=function(t){return t<Lt&&t>-1},Bt=function(t){return t<kt&&t>-1},Ft=function(t){return Yt(t.row)&&Bt(t.column)},Wt=function(t,e){return!Nt(t[e.row][e.column])},Kt=function(t){return t===Lt-1},Vt=[],Qt=function(t,e){var n=[];return t.forEach(function(t){var r=t[e];Nt(r)?n.push(r):n.unshift(Rt)}),n},Xt=function(t,e){var n=new Set([]);return e.forEach(function(e){return zt(t,n,e)}),n.size?Array.from(n):Vt},Zt=function(t,e){t&&t.length>=It&&t.forEach(function(t){e.add(t)})},zt=function(t,e,n){n.forEach(function(n){var r=null,a=[];n.forEach(function(n){var i=t[n.row][n.column];Nt(i)?i.type===r?a.push(i.id):(Zt(a,e),r=i.type,a=[i.id]):(Zt(a,e),r=null,a=null)}),Zt(a,e)})},Ht=function(t,e){var n=t.map(function(t){return t.map(function(t){return Nt(t)&&e.includes(t.id)?Rt:t})});return function(t){for(var e=function(e){var n=Qt(t,e);t.forEach(function(t,r){return t[e]=n[r]})},n=0;n<kt;n++)e(n)}(n),n},qt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Ut(t),a=!1,i=0,o=n>0?n:100;do{var c=Xt(r,e);c.length?(r=Ht(r,c),i++):a=!0}while(!a&&i<o);return i},Jt=function(t,e){return e.length?Ht(Ut(t),e):t},$t=Xt,te=function(t,e){return e.forEach(function(e){return e.forEach(function(e){return e.row+=t})}),e},ee={CLEAR_CRYSTALS:"CrystalBoardActions::CLEAR_CRYSTALS",ADD_DROPPED_CRYSTALS:"CrystalBoardActions::ADD_DROPPED_CRYSTALS",SET_CURRENT_STATUS:"CrystalBoardActions::SET_CURRENT_STATUS",REMOVE_MARKED_CRYSTALS:"CrystalBoardActions::REMOVE_MARKED_CRYSTALS"},ne={addDroppedCrystals:B(ee.ADD_DROPPED_CRYSTALS,"crystalTypes","index"),clearCrystals:B(ee.CLEAR_CRYSTALS),removeMarkedCrystals:B(ee.REMOVE_MARKED_CRYSTALS),setCurrentStatus:B(ee.SET_CURRENT_STATUS,"status")},re=ee,ae=(C=kt,[te(v=xt,function(t,e){for(var n=[],r=0,a=0,i=1,o=t;o-- >0;){for(var c=[];Bt(a);)c.push(Dt(r,a)),a+=i;n.push(c),r++,a+=i*=-1}return n}(h=Lt)),te(v,function(t,e){for(var n=[],r=0,a=0,i=1,o=e;o-- >0;){for(var c=[];Yt(r);)c.push(Dt(r,a)),r+=i;n.push(c),a++,r+=i*=-1}return n}(0,C)),te(v,function(t,e){for(var n=[],r=0,a=0,i=1,o=-1,c=t+e-1;c-- >0;){for(var s=[];Yt(r)&&Bt(a);)s.push(Dt(r,a)),r+=i,a+=o;n.push(s),r===t&&(r--,a+=2),a===e&&(a--,r+=2),-1===a&&a++,-1===r&&r++,i*=-1,o*=-1}return n}(h,C)),te(v,function(t,e){for(var n=[],r=t-1,a=0,i=-1,o=-1,c=t+e-1;c-- >0;){for(var s=[];Yt(r)&&Bt(a);)s.push(Dt(r,a)),r+=i,a+=o;n.push(s),a===e&&(a--,r-=2),r===t&&r--,-1===r&&(r++,a+=2),-1===a&&a++,i*=-1,o*=-1}return n}(h,C))]),ie={matrix:_t(Lt+xt,kt),status:Tt.READY,markedCrystals:{ids:[],linkOriginId:void 0}},oe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case re.CLEAR_CRYSTALS:return de();case re.ADD_DROPPED_CRYSTALS:return fe(t,r.crystalTypes,r.index);case re.SET_CURRENT_STATUS:return le(t,r.status);case re.REMOVE_MARKED_CRYSTALS:return ce(t);default:return t}},ce=function(t){var e=Jt(t.matrix,t.markedCrystals.ids);return ue(Object(it.a)({},t,{matrix:e}))},se=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t=Object(it.a)({},t,{markedCrystals:{ids:e,linkOriginId:n}}),le(t,e.length?Tt.PENDING_MARKED_CRYSTALS:Tt.CRYSTAL_CHAINS_RESOLVED)},ue=function(t){var e=$t(t.matrix,ae);return e.length?se(t,e):function(t){return t=Object(it.a)({},t,{markedCrystals:ie.markedCrystals}),le(t,Tt.CRYSTAL_CHAINS_RESOLVED)}(t)},le=function(t,e){return Object(it.a)({},t,{status:e})},de=function(){return ie},fe=function(t,e,n){var r=Ut(t.matrix),i=[];return e.reverse().forEach(function(t,e){var o=n.row-e+xt,c=a.createCrystal(t);r[o][n.column]=c,i.push(c.id)}),function(t,e){var n=$t(t.matrix,ae),r=void 0;return n.length&&qt(t.matrix,ae,wt)>=wt&&(r=e.find(function(t){return n.includes(t)})),se(t,n,r)}(Object(it.a)({},t,{matrix:r}),i)},ye=Object.freeze([]),me=function(t){return t[Ot]},Ee=Object(z.a)(function(t,e){var n=[];return t.forEach(function(t,r){t.forEach(function(t,a){if(Nt(t)&&!e.includes(t.id)){var o=i.convertCrystal(t,r,a);n.push(o)}})}),n.length?n:ye}),pe=function(t){var e=ge(t),n=Ce(t);return Ee(e,n)},ve=Object(z.a)(function(t,e,n){var r={crystals:[],linkOrigin:void 0};return t.forEach(function(t,a){t.forEach(function(t,o){if(Nt(t)&&e.includes(t.id)){var c=i.convertCrystal(t,a,o);r.crystals.push(c),t.id===n&&(r.linkOrigin=c)}})}),0===r.crystals.length&&(r.crystals=ye),r}),he=function(t){var e=ge(t),n=Ce(t),r=me(t).markedCrystals.linkOriginId;return ve(e,n,r)},Ce=function(t){return me(t).markedCrystals.ids},Ae=function(t){return me(t).status},Se=Object(z.a)(function(t){return t.slice(xt)}),ge=function(t){var e=Oe(t);return Se(e)},Oe=function(t){return me(t).matrix},Te=Dt(xt,bt),Re=function(t){var e=Oe(t);return!Wt(e,Te)},Le="gameState_2",ke=7,be=1,xe=4,we={RUNNING:"GameStatus::RUNNING",GAME_OVER:"GameStatus::GAME_OVER",PAUSED:"GameStatus::PAUSED",UNINITIALIZED:"GameStatus::UNINITIALIZED"},Ie={SET_STATUS:"GameStatusActions::SET_STATUS",RESET:"GameStatusActions::RESET",INCREMENT_CLEARED_CRYSTALS:"GameStatusActions::INCREMENT_CLEARED_CRYSTALS"},Ne={reset:B(Ie.RESET),setStatus:B(Ie.SET_STATUS,"status"),incrementClearedCrystals:B(Ie.INCREMENT_CLEARED_CRYSTALS,"incrementBy")},De=Ie,Pe={status:we.UNINITIALIZED,speedLevel:be,level:1,clearedCrystalsCount:0},je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case De.SET_STATUS:return _e(t,r.status);case De.INCREMENT_CLEARED_CRYSTALS:return Ue(t,r.incrementBy);case De.RESET:return Me(t);default:return t}},Me=function(t){return Pe},_e=function(t,e){return Object(it.a)({},t,{status:e})},Ue=function(t,e){var n=t.clearedCrystalsCount+e,r=Ge(t.level,n),a=r===t.level?t.speedLevel:Ye(t.speedLevel);return Object(it.a)({},t,{clearedCrystalsCount:n,level:r,speedLevel:a})},Ge=function(t,e){return e<30*t?t:t+1},Ye=function(t){return t>=ke?Math.max(be,xe):Math.min(ke,t+1)},Be=function(t){return t[Le]},Fe=function(t){return Be(t).level},We=function(t){return Be(t).speedLevel},Ke=function(t){return Be(t).status},Ve=function(t){return Be(t).clearedCrystalsCount},Qe=n(10),Xe=n(28),Ze=n.n(Xe),ze=n(29),He=n.n(ze),qe=n(30),Je=n.n(qe),$e=n(31),tn=n.n($e),en=n(32),nn=n.n(en),rn=n(33),an=n.n(rn),on=(A={},Object(Qe.a)(A,r.CrystalTypes.NONE,null),Object(Qe.a)(A,r.CrystalTypes.BLUE,Ze.a),Object(Qe.a)(A,r.CrystalTypes.GREEN,He.a),Object(Qe.a)(A,r.CrystalTypes.GREY,Je.a),Object(Qe.a)(A,r.CrystalTypes.ORANGE,tn.a),Object(Qe.a)(A,r.CrystalTypes.PINK,nn.a),Object(Qe.a)(A,r.CrystalTypes.YELLOW,an.a),A),cn=8,sn=31,un=sn+1,ln=n(8),dn=n.n(ln),fn=dn.a.shape({id:dn.a.string.isRequired,type:dn.a.number.isRequired}),yn=dn.a.shape({row:dn.a.number.isRequired,column:dn.a.number.isRequired}),mn=dn.a.shape({crystal:fn.isRequired,index:yn.isRequired}),En=(dn.a.arrayOf(mn),function(t){function e(){var t,n;Object(R.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(k.a)(this,(t=Object(b.a)(e)).call.apply(t,[this].concat(a)))).state={currentFrame:0},n.nextFrame=function(){if(n.props.playing){var t=n.props.frameCount,e=n.state.currentFrame+1;n.setState({currentFrame:e>=t?0:e})}},n}return Object(x.a)(e,t),Object(L.a)(e,[{key:"componentDidMount",value:function(){this.intervallId=setInterval(this.nextFrame,this.props.frameDelay)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervallId)}},{key:"render",value:function(){return(0,this.props.children)(this.state.currentFrame)}}]),e}(g.a.PureComponent));En.defaultProps={playing:!0};var pn=En,vn=function(t){var e=t.spriteSource,n=t.x,r=t.y,a=t.spriteWidth,i=t.spriteHeight,o=t.spriteColumnIndex,c=t.spriteRowIndex,s={position:"absolute",left:"".concat(n,"px"),top:"".concat(r,"px"),width:"".concat(a,"px"),height:"".concat(i,"px"),objectFit:"none",objectPosition:"-".concat(o*a,"px -").concat(c*i,"px")};return g.a.createElement("img",{key:"image",style:s,src:e,alt:""})};vn.defaultProps={x:0,y:0,spriteRowIndex:0,spriteColumnIndex:0};var hn=Object(S.memo)(vn),Cn=function(t){var e=t.crystal,n=t.index,r=t.frameIndex,a=on[e.type];return a?g.a.createElement(hn,{key:"sprite",x:n.column*sn,y:n.row*sn,spriteSource:a,spriteWidth:un,spriteHeight:un,spriteColumnIndex:r}):null};Cn.defaultProps={frameIndex:0};var An=Object(S.memo)(Cn),Sn=Object(S.memo)(function(t){return t.matrixCrystals.map(function(t){var e=t.crystal,n=t.index;return g.a.createElement(An,{key:e.id,crystal:e,index:n})})}),gn=function(t){var e=t.animate,n=t.matrixCrystals;return n&&n.length?g.a.createElement(pn,{key:"looper",playing:e,frameCount:cn,frameDelay:1e3/cn},function(t){return n.map(function(e){var n=e.crystal,r=e.index;return g.a.createElement(An,{key:n.id,crystal:n,index:r,frameIndex:t})})}):null};gn.defaultProps={animate:!0};var On=Object(S.memo)(gn),Tn=An,Rn=function(t,e){var n=kn(e),r=Ln(t);return d.createMatrixIndex(n,r)},Ln=function(t){return Math.min(l.COLUMNS_PER_ROW-1,Math.floor(t/E.CELL_SIZE))},kn=function(t){return Math.min(l.ROW_COUNT-1,Math.floor(t/E.CELL_SIZE))},bn=function(t){return t*E.CELL_SIZE},xn=function(t){return t*E.CELL_SIZE},wn=l.COLUMNS_PER_ROW*E.CELL_SIZE,In=l.ROW_COUNT*E.CELL_SIZE,Nn=Object(S.memo)(function(){var t=function(){for(var t="",e=0,n=0;n<=l.COLUMNS_PER_ROW;n++)t+="M".concat(.5+e,",",0),t+="L".concat(.5+e,",").concat(In),e+=E.CELL_SIZE;for(var r=0,a=0;a<=l.ROW_COUNT;a++)t+="M".concat(0,",",.5+r),t+="L".concat(wn,",").concat(.5+r),r+=E.CELL_SIZE;return t+="Z"}();return g.a.createElement("div",{style:{position:"absolute"}},g.a.createElement("svg",{width:wn,height:In},g.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"lightGray"}),g.a.createElement("rect",{x:l.MIDDLE_COLUMN_INDEX*E.CELL_SIZE,y:"0",width:E.CELL_SIZE,height:"100%",fill:"#a1c5da",fillOpacity:"0.4"}),g.a.createElement("g",{stroke:"white",fill:"none",strokeWidth:"1"},g.a.createElement("path",{d:t})),g.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"none",stroke:"darkGray",strokeWidth:"2"})))}),Dn=n(11),Pn=n.n(Dn),jn=n(17),Mn=n(2),_n=Mn.Keyframes.Spring(function(){var t=Object(jn.a)(Pn.a.mark(function t(e,n,r){var a,i,o;return Pn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r.repeats,i=r.startDelay,o=0;case 2:if(!(o<a)){t.next=10;break}return t.next=5,e({from:{opacity:1},to:{opacity:0},config:{tension:1200,friction:120,duration:100,delay:0===o?i:r.delay}});case 5:return t.next=7,e({to:{opacity:1},config:{tension:1200,friction:120,duration:100}},o===a-1);case 7:o++,t.next=2;break;case 10:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()),Un=function(t){var e=t.repeatCount,n=t.delay,r=t.onAnimationFinished,a=t.children;return g.a.createElement(_n,{native:!0,reset:!0,repeats:e,startDelay:n,onRest:r},function(t){var e=t.opacity;return g.a.createElement(Mn.animated.div,{style:{opacity:e}},a)})};Un.defaultProps={delay:0,repeatCount:1,onAnimationFinished:void 0};var Gn=Object(S.memo)(Un),Yn=function(t){var e=t.matrixCrystal,n=t.duration,r=t.onAnimationFinished,a=e.index,i=E.CELL_SIZE/2,o=xn(a.column)+i,c=bn(a.row)+i;return g.a.createElement(Mn.Spring,{native:!0,reset:!0,from:{value:0},to:{value:1},config:{tension:1200,friction:80,duration:n},onRest:r},function(t){var e=t.value;return g.a.createElement("svg",{width:wn,height:In},g.a.createElement("g",{transform:"translate(".concat(o,",").concat(c,")")},g.a.createElement(Mn.animated.g,{style:{opacity:e.interpolate(function(t){return t>=1?0:1}),transform:e.interpolate(function(t){return"rotate(".concat(Math.round(360*t),"deg)")})}},function(t){var e=function(t){return"0,0 ".concat(t,",").concat(-30," ").concat(t,",").concat(30)}(t);return[0,90,180,270].map(function(t){return g.a.createElement("polygon",{key:t,fill:"yellow",fillOpacity:"0.7",transform:"rotate(".concat(t," 0 0)"),points:e})})}(In+E.CELL_SIZE))))})};Yn.defaultProps={duration:500,onAnimationFinished:void 0};var Bn=Object(S.memo)(Yn),Fn=function(t){function e(){var t,n;Object(R.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(k.a)(this,(t=Object(b.a)(e)).call.apply(t,[this].concat(a)))).state={lightBeamFinished:!1},n.markLightBeamAsFinished=function(){n.setState({lightBeamFinished:!0})},n}return Object(x.a)(e,t),Object(L.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({lightBeamFinished:!1})}},{key:"renderCrystalsWithLightBeams",value:function(t,e,n){return g.a.createElement(g.a.Fragment,{key:"fragment"},g.a.createElement(On,{key:"animatedMatrix",matrixCrystals:t}),g.a.createElement("div",{key:"div",style:{position:"absolute"}},g.a.createElement(Bn,{key:"lightBeams",onAnimationFinished:n,matrixCrystal:e,duration:2e3})))}},{key:"renderBlinkingCrystals",value:function(t,e){return g.a.createElement(Gn,{key:"blink",delay:250,repeatCount:3,onAnimationFinished:e},g.a.createElement(Sn,{key:"matrix",matrixCrystals:t}))}},{key:"render",value:function(){var t=this.props,e=t.matrixCrystals,n=t.linkOrigin,r=t.onAnimationFinished;return e&&e.length?n?this.state.lightBeamFinished?this.renderBlinkingCrystals(e,r):this.renderCrystalsWithLightBeams(e,n,this.markLightBeamAsFinished):this.renderBlinkingCrystals(e,r):null}}]),e}(g.a.PureComponent);Fn.defaultProps={matrixCrystals:[],linkOrigin:void 0,lightBeamsIndex:void 0,onAnimationFinished:void 0};var Wn=Fn,Kn=function(t){return t},Vn=function(t){return t*t},Qn=function(t){return t*(2-t)},Xn=1/(l.ROW_COUNT-1),Zn=1/(l.COLUMNS_PER_ROW-1),zn=100*l.ROW_COUNT,Hn=60*l.COLUMNS_PER_ROW,qn=[1,-.1,0,0,0,0,0],Jn=(l.ROW_COUNT+1)*E.CELL_SIZE,$n=function(t){var e=t.matrixCrystals,n=t.delay,r=t.minCrystalDelay,a=t.animationFinishedHandler,i=function(t,e,n){return t.map(function(t){var r=t.index,a=zn*Qn(r.row*Xn),i=r.column*Zn+qn[r.column],o=n+Hn*Kn(i);return e+a+o})}(e,n,r),o=i.reduce(function(t,e,n,r){return e>r[t]?n:t},0),c=e.length-1;return e.map(function(t,n){var r=c-n,s=e[r],u=s.crystal,l=s.index;return g.a.createElement(Mn.Spring,{native:!0,key:u.id,delay:i[r],from:{x:0,y:0,opacity:1},to:{x:50,y:Jn,opacity:0},onRest:r===o?a:null},function(t){var e=t.x,n=t.y,r=t.opacity;return g.a.createElement(Mn.animated.div,{style:{opacity:r,transform:Object(Mn.interpolate)([e,n],function(t,e){return"translate(".concat(t,"px,").concat(e,"px)")})}},g.a.createElement(Tn,{crystal:u,index:l}))})})};$n.defaultProps={delay:0,minCrystalDelay:45,animationFinishedHandler:void 0};var tr=Object(S.memo)($n),er=Mn.Keyframes.Spring(function(){var t=Object(jn.a)(Pn.a.mark(function t(e,n,r){return Pn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({delay:r.startDelay,from:{scale:0,opacity:0},to:{scale:1,opacity:1},config:Mn.config.wobbly});case 2:return 3,t.next=5,e({from:{countdown:3},to:{countdown:0},config:{clamp:!0,duration:3e3}},!0);case 5:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()),nr=function(t){var e=t.delay,n=t.onAnimationFinished;return g.a.createElement("div",{style:{position:"absolute",width:wn,height:In}},g.a.createElement(er,{native:!0,revert:!0,startDelay:e,onRest:n},function(t){return[(n=t.scale,r=t.opacity,g.a.createElement(Mn.animated.div,{key:"gameOver",style:{opacity:r,transform:n.interpolate(function(t){return"scale(".concat(t,")")})}},g.a.createElement("svg",{height:"100%",width:"100%"},g.a.createElement("text",{y:"40",fontSize:"4em",fontWeight:"600",fill:"black",stroke:"rgba(255,255,255,0.9)",strokeWidth:"2px",strokeLinejoin:"round",textAnchor:"middle",dominantBaseline:"middle"},g.a.createElement("tspan",{x:"50%"},"Game"),g.a.createElement("tspan",{x:"50%",dy:"1em"},"Over"))))),(e=t.countdown,e?g.a.createElement("svg",{height:"100%",width:"100%",key:"countdown"},g.a.createElement(Mn.animated.text,{y:"40",x:"50%",fontSize:"4em",fontWeight:"600",fill:"black",stroke:"rgba(255,255,255,0.9)",strokeWidth:"2px",strokeLinejoin:"round",textAnchor:"middle",dominantBaseline:"middle"},e.interpolate(function(t){return Math.round(t)}))):null)];var e,n,r}))};nr.defaultProps={onAnimationFinished:void 0};var rr=Object(S.memo)(nr),ar=Object(S.memo)(function(t){var e=t.matrixCrystals,n=t.onAnimationFinished;return e&&e.length?g.a.createElement(S.Fragment,{key:"fragment"},g.a.createElement(tr,{key:"fallingCrystals",delay:300,minCrystalDelay:45,matrixCrystals:e}),g.a.createElement(rr,{key:"countdown",delay:1e3,onAnimationFinished:n})):null}),ir=function(t){function e(){return Object(R.a)(this,e),Object(k.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(L.a)(e,[{key:"render",value:function(){return g.a.createElement(S.Fragment,{key:"fragment"},g.a.createElement(Nn,{key:"background"}),g.a.createElement(Sn,{key:"crystalMatrix",matrixCrystals:this.props.visibleCrystals}),g.a.createElement(Wn,{key:"removeOverlay",matrixCrystals:this.props.markedCrystals.crystals,linkOrigin:this.props.markedCrystals.linkOrigin,onAnimationFinished:this.props.removeMarkedCrystals}),g.a.createElement(ar,{key:"gameOverOverlay",matrixCrystals:this.props.gameOverCrystals,onAnimationFinished:this.props.restartGame}))}}]),e}(S.PureComponent),or=[],cr=Object(T.b)(function(t){var e=f.selectVisibleCrystals(t),n=m.selectGameStatus(t)===y.GameStatus.GAME_OVER;return{visibleCrystals:n?or:e,markedCrystals:n?or:f.selectMarkedCrystals(t),gameOverCrystals:n?e:or}},function(t){return{removeMarkedCrystals:function(){return t(gr.removeMarkedCrystals())},restartGame:function(){return t(gr.start())}}})(ir),sr="ArrowLeft",ur="ArrowUp",lr="ArrowRight",dr="ArrowDown",fr={_keys:{},_isDelayedDownEventThreshold:1,init:function(t){t.addEventListener("keydown",this._onKeyDown.bind(this),!1),t.addEventListener("keyup",this._onKeyUp.bind(this),!1)},isDown:function(t){var e=this._keys[t];return e&&e.isDown||!1},isInitialDown:function(t){var e=this._keys[t];if(e){var n=e.isDown,r=e.initialKeyDownConsumed;return n&&!r}return!1},isDelayedDone:function(t){var e=this._keys[t];if(e){var n=e.isDown,r=e.repeatedDownEventCount,a=e.initialKeyDownConsumed;if(n)return r>=this._isDelayedDownEventThreshold||0===r&&!a}return!1},clearWasPressedState:function(){Object.values(this._keys).forEach(function(t){t.isDown||(t.repeatedDownEventCount=0),t.initialKeyDownConsumed=!0})},_onKeyUp:function(t){var e=t.key,n=this._keys[e];n&&(n.isDown=!1)},_onKeyDown:function(t){var e=t.key;this._keys[e]||(this._keys[e]=this._createKeyInfo());var n=this._keys[e];n.isDown?n.repeatedDownEventCount++:(n.isDown=!0,n.initialKeyDownConsumed=!1)},_createKeyInfo:function(){return{isDown:!1,repeatedDownEventCount:0,initialKeyDownConsumed:!1}}},yr=E.CELL_SIZE*(l.ROW_COUNT-1),mr=function(t,e,n){var r=2+Math.floor(y.MAX_SPEED_LEVEL*Vn(n/y.MAX_SPEED_LEVEL));fr.isDown(dr)&&(r+=s.FAST_MOVE_DOWN);var a=Math.min(e.y+r,yr);if(a!==e.y){var i=vr(a),o=vr(e.y);if(i!==o){var c=p.convertXToColumnIndex(e.x),u=d.createMatrixIndex(i,c);if(!pr(t,u)){for(;!pr(t,u)&&u.row!==o;)u.row--;a=p.convertRowIndexToY(u.row)}}}return a},Er=function(t,e){var n=p.convertXToColumnIndex(e.x),r=vr(e.y),a=n;if(fr.isDelayedDone(lr)?a=Math.min(n+1,l.COLUMNS_PER_ROW-1):fr.isDelayedDone(sr)&&(a=Math.max(n-1,0)),a!==n){var i=d.createMatrixIndex(r,a);d.isEmptyColumn(t,i)||(a=n)}return a===n?e.x:p.convertColumnIndexToX(a)},pr=function(t,e){return d.isValidMatrixIndex(e)&&d.isEmptyColumn(t,e)},vr=function(t){var e=p.convertYToRowIndex(t);return e>=0?t-p.convertRowIndexToY(e)>0&&!d.isLastRow(e)&&d.isValidRowIndex(e)?e+1:e:0},hr=l.BoardStatus,Cr=y.GameStatus,Ar=function(t,e){var n=u.selectPosition(t,E.CELL_SIZE),r=u.selectGroundTime(t),a=function(t,e,n){var r={x:t.x,y:t.y};return r.x=Er(e,r),r.y=mr(e,r,n),r}(n,f.selectMatrix(t),m.selectSpeedLevel(t)),i=a.y!==n.y,c=a.x!==n.x;if(i||c){e.push(ct.setPosition(a));var l=p.convertYToRowIndex(n.y);if(-1===l)if(l!==p.convertYToRowIndex(a.y)){var d=Sr(o.CRYSTAL_COUNT);e.push(W.setCrystalTypes(d))}}else if(!i){var y=!1;if(fr.isDown(dr)?y=!0:r>=s.GROUND_TIME_THRESHOLD&&(y=!0),y){var v=u.selectCrystalTypes(t),h=p.convertToMatrixIndex(n.x,n.y);e.push(ne.addDroppedCrystals(v,h)),e.push(ct.clearCrystals())}else e.push(ct.incrementGroundTime())}},Sr=function(t){for(var e=[],n=0;n<t;n++)e.push(a.getRandomCrystalType());return e},gr={init:function(){return function(t,e){var n=[],r=E.CELL_SIZE,a={x:l.MIDDLE_COLUMN_INDEX*r,y:-r};n.push(ct.setResetPosition(a)),t(Object(w.batchActions)(n))}},start:function(){return function(t,e){var n=[],r=Sr(o.CRYSTAL_COUNT),a=Sr(s.CRYSTAL_COUNT);n.push(Ne.reset()),n.push(Ne.setStatus(Cr.RUNNING)),n.push(ne.clearCrystals()),n.push(W.setCrystalTypes(r)),n.push(ct.resetPosition()),n.push(ct.setCrystalTypes(a)),t(Object(w.batchActions)(n))}},update:function(){return function(t,e){var n=[],r=e();if(f.selectBoardStatus(r)===hr.CRYSTAL_CHAINS_RESOLVED)if(f.isBoardFilled(r))n.push(Ne.setStatus(Cr.GAME_OVER));else{var a=c.selectCrystalTypes(r);n.push(ct.setCrystalTypes(a)),n.push(ne.setCurrentStatus(hr.READY))}else f.selectBoardStatus(r)===hr.READY&&(fr.isInitialDown(ur)&&n.push(ct.cycleCrystals()),Ar(r,n));fr.clearWasPressedState(),t(Object(w.batchActions)(n))}},removeMarkedCrystals:function(){return function(t,e){var n=[],r=e(),a=f.selectMarkedCrystalIds(r).length;n.push(Ne.incrementClearedCrystals(a)),n.push(ne.removeMarkedCrystals()),t(Object(w.batchActions)(n))}}},Or=Object(S.memo)(function(t){var e=t.value;return g.a.createElement("svg",{width:"100%",height:"100%"},g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:"textgrad2",x2:"0",y2:"1"},g.a.createElement("stop",{offset:"0%",stopColor:"white"}),g.a.createElement("stop",{offset:"75%",stopColor:"cornflowerblue"}),g.a.createElement("stop",{offset:"100%",stopColor:"lightskyblue"}))),g.a.createElement("text",{fill:"url(#textgrad2)",stroke:"black",strokeWidth:"1px",strokeLinejoin:"round",dominantBaseline:"hanging"},g.a.createElement("tspan",{fontSize:"29",fontWeight:"bold"},"Crystals"),g.a.createElement("tspan",{y:"1em",fontSize:"32",fontWeight:"normal",textAnchor:"end"},e)))}),Tr=function(t){function e(){return Object(R.a)(this,e),Object(k.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(L.a)(e,[{key:"render",value:function(){var t=this.props.clearedCrystalsCount;return g.a.createElement("div",{key:"div",style:{position:"absolute",left:"5px",top:"120px"}},g.a.createElement(Or,{key:"counter",value:t}))}}]),e}(S.PureComponent),Rr=Object(T.b)(function(t){return{clearedCrystalsCount:m.selectClearedCrystalsCount(t)}},null)(Tr),Lr=function(t){function e(){return Object(R.a)(this,e),Object(k.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(L.a)(e,[{key:"render",value:function(){var t=this.props,e=t.position,n=t.crystals;return g.a.createElement("div",{key:"div",style:{position:"absolute",top:"".concat(e.y-2*E.CELL_SIZE,"px"),left:"".concat(e.x,"px")}},g.a.createElement(On,{key:"matrix",matrixCrystals:n}))}}]),e}(g.a.PureComponent),kr=Object(T.b)(function(t){return{crystals:u.selectCrystals(t),position:u.selectPosition(t,E.CELL_SIZE)}},null)(Lr),br=function(t){function e(){return Object(R.a)(this,e),Object(k.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(L.a)(e,[{key:"render",value:function(){return g.a.createElement("div",{key:"div",style:{position:"absolute",overflow:"hidden",height:"100%",width:"100%"}},g.a.createElement(cr,{key:"board"}),g.a.createElement(kr,{key:"movingCrystals"}))}}]),e}(S.PureComponent),xr=function(t){var e=t.rows,n=function(t){for(var e="",n=0,r=0;r<=t;r++)e+="M".concat(0,",",.5+n),e+="L".concat(E.CELL_SIZE,",").concat(.5+n),n+=E.CELL_SIZE;return e+="Z"}(e);return g.a.createElement("div",{key:"div",style:{position:"absolute"}},g.a.createElement("svg",{key:"svg",width:E.CELL_SIZE,height:e*E.CELL_SIZE},g.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"lightGray"}),g.a.createElement("g",{stroke:"white",fill:"none",strokeWidth:"1"},g.a.createElement("path",{d:n})),g.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"none",stroke:"darkGray",strokeWidth:"2"})))};xr.defaultProps={rows:1};var wr=Object(S.memo)(xr),Ir=function(t){function e(){return Object(R.a)(this,e),Object(k.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(L.a)(e,[{key:"render",value:function(){var t=this.props,e=t.animate,n=t.crystals;return g.a.createElement("div",{key:"div"},g.a.createElement(wr,{key:"background",rows:3}),g.a.createElement(On,{key:"matrix",animate:e,matrixCrystals:n}))}}]),e}(g.a.PureComponent),Nr=Object(T.b)(function(t){return{crystals:c.selectCrystals(t),animate:m.selectGameStatus(t)===y.GameStatus.RUNNING}},null)(Ir),Dr=Object(S.memo)(function(t){var e=t.value;return g.a.createElement("svg",{width:"100%",height:"100%"},g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:"textgrad",x2:"0",y2:"100%"},g.a.createElement("stop",{offset:"0%",stopColor:"white"}),g.a.createElement("stop",{offset:"50%",stopColor:"magenta"}),g.a.createElement("stop",{offset:"100%",stopColor:"pink"}))),g.a.createElement("text",{fill:"url(#textgrad)",stroke:"black",strokeWidth:"1px",strokeLinejoin:"round",dominantBaseline:"hanging"},g.a.createElement("tspan",{fontSize:"29",fontWeight:"bold"},"Level"),g.a.createElement("tspan",{y:"1em",fontSize:"32",fontWeight:"normal",textAnchor:"end"},function(t){var e="000"+t;return e.substring(e.length-3)}(e))))}),Pr=function(t){function e(){return Object(R.a)(this,e),Object(k.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(L.a)(e,[{key:"render",value:function(){var t=this.props.levelCount;return g.a.createElement("div",{style:{margin:"0 auto"}},g.a.createElement("div",{key:"previewDiv",style:{position:"absolute",left:"50px",top:"20px"}},g.a.createElement(Nr,{key:"preview"})),g.a.createElement("div",{key:"counterDiv",style:{position:"absolute",left:"25px",top:"250px"}},g.a.createElement(Dr,{key:"counter",value:t})))}}]),e}(S.PureComponent),jr=Object(T.b)(function(t){return{levelCount:m.selectLevelCount(t)}},null)(Pr),Mr=function(t,e){return t+Math.floor(Math.random()*(e-t))},_r=Mn.Keyframes.Spring(function(){var t=Object(jn.a)(Pn.a.mark(function t(e,n,r){var a,i,o;return Pn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o={from:{r:Mr(i=17,a=238),g:Mr(i,a),b:Mr(i,a)},config:Object(it.a)({},Mn.config.slow,{duration:1e4})};case 3:return t.next=6,e(Object(it.a)({},o,{to:{r:Mr(i,a),g:Mr(i,a),b:Mr(i,a)}}));case 6:t.next=3;break;case 8:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()),Ur=Object(S.memo)(function(){return g.a.createElement(_r,{key:"content",native:!0},function(t){var e=t.r,n=t.g,r=t.b;return g.a.createElement(Mn.animated.div,{key:"div",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:Object(Mn.interpolate)([e,n,r],function(t,e,n){return"rgba(".concat(Math.floor(t),",").concat(Math.floor(e),",").concat(Math.floor(n),",0.2)")})}})})}),Gr=Object(S.memo)(function(){return g.a.createElement("div",{key:"mainDiv",style:{position:"absolute",height:"352px",width:"".concat(467,"px"),border:"6px solid white",boxShadow:"0 0 10px rgba(0,0,0,.4)"}},g.a.createElement(Ur,{key:"background"}),g.a.createElement("div",{key:"leftDiv",style:{position:"absolute",width:"".concat(125,"px"),height:"100%"}},g.a.createElement(Rr,{key:"leftPart"})),g.a.createElement("div",{key:"middleDiv",style:{position:"absolute",top:"5px",left:"".concat(125,"px"),width:"".concat(217,"px"),height:"100%"}},g.a.createElement(br,{key:"middlePart"})),g.a.createElement("div",{key:"rightDiv",style:{position:"absolute",left:"".concat(342,"px"),width:"".concat(125,"px"),height:"100%"}},g.a.createElement(jr,{key:"rightPart"})))}),Yr=function(t){function e(t){var n;return Object(R.a)(this,e),(n=Object(k.a)(this,Object(b.a)(e).call(this,t))).requestNextFrame=function(){window.requestAnimationFrame(n.props.updateGame),n.intervalId=setTimeout(n.requestNextFrame,50)},n.intervalId=null,n}return Object(x.a)(e,t),Object(L.a)(e,[{key:"componentDidMount",value:function(){this.requestNextFrame(),fr.init(document)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.intervalId)}},{key:"render",value:function(){return g.a.createElement(Gr,{key:"screen"})}}]),e}(S.PureComponent),Br={updateGame:gr.update},Fr=Object(T.b)(null,Br)(Yr),Wr=n(15),Kr=n(34),Vr=n(35),Qr={},Xr={registerReducer:function(t,e){Qr[t]=e},getReducers:function(){return Object(it.a)({},Qr)}};Xr.registerReducer(Ot,oe),function(t){t.registerReducer(tt,lt)}(Xr),function(t){t.registerReducer(Le,je)}(Xr),function(t){t.registerReducer(G,Q)}(Xr);var Zr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function zr(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}var Hr=Object(Wr.createStore)(Object(w.enableBatching)(Object(Wr.combineReducers)(Object(it.a)({},Xr.getReducers()))),Object(Vr.composeWithDevTools)(Object(Wr.applyMiddleware)(Kr.a)));Hr.dispatch(gr.init()),Hr.dispatch(gr.start()),Object(O.render)(g.a.createElement(T.a,{store:Hr},g.a.createElement("div",{key:"div",style:{margin:"0 auto",width:"467px",paddingTop:"80px"}},g.a.createElement(Fr,{key:"App"}))),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/react-columns",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/react-columns","/service-worker.js");Zr?(function(t,e){fetch(t).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):zr(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):zr(e,t)})}}()}},[[36,1,2]]]);
//# sourceMappingURL=main.9d728c74.chunk.js.map