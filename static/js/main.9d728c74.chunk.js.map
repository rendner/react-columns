{"version":3,"sources":["features/crystal/internal/resources/crystal-qubodup-ccby3-32-blue.png","features/crystal/internal/resources/crystal-qubodup-ccby3-32-green.png","features/crystal/internal/resources/crystal-qubodup-ccby3-32-grey.png","features/crystal/internal/resources/crystal-qubodup-ccby3-32-orange.png","features/crystal/internal/resources/crystal-qubodup-ccby3-32-pink.png","features/crystal/internal/resources/crystal-qubodup-ccby3-32-yellow.png","domains/crystal-board/internal/logic/MatrixPathCreator.js","domains/crystal/internal/constants.js","domains/utils/IdUtils.js","domains/crystal/internal/utils.js","domains/crystal/internal/converters.js","domains/crystals-preview/internal/constants.js","domains/utils/ActionCeatorUtils.js","domains/crystals-preview/internal/actions.js","domains/crystals-preview/internal/reducer.js","domains/crystals-preview/internal/selectors.js","domains/moving-crystals/internal/constants.js","domains/moving-crystals/internal/actions.js","domains/moving-crystals/internal/reducer.js","domains/moving-crystals/internal/selectors.js","domains/crystal-board/internal/constants.js","domains/crystal-board/internal/utils.js","domains/crystal-board/internal/logic/MatrixChecker.js","domains/crystal-board/internal/actions.js","domains/crystal-board/internal/reducer.js","domains/crystal-board/internal/converters.js","domains/crystal-board/internal/selectors.js","domains/game-status/internal/constants.js","domains/game-status/internal/actions.js","domains/game-status/internal/reducer.js","domains/game-status/internal/selectors.js","features/crystal/internal/constants.js","features/crystal/internal/components/prop-types.js","features/sprite/internal/components/SpriteLooper.jsx","features/sprite/internal/components/SpriteSheet.jsx","features/sprite/index.js","features/crystal/internal/components/CrystalSprite.jsx","features/crystal/internal/components/CrystalMatrix.jsx","features/crystal/internal/components/AnimatedCrystalMatrix.jsx","features/crystal/index.js","features/crystal-board/internal/utils.js","features/crystal-board/internal/constants.js","features/crystal-board/internal/components/Background.jsx","features/crystal-board/internal/components/animations/Blink.jsx","features/crystal-board/internal/components/animations/LightBeams.jsx","features/crystal-board/internal/components/RemoveOverlay.jsx","features/utils/Easing.js","features/crystal-board/internal/components/animations/FallingCrystals.jsx","features/crystal-board/internal/components/animations/GameOverCountdown.jsx","features/crystal-board/internal/components/GameOverOverlay.jsx","features/crystal-board/internal/containers/CrystalBoardContainer.jsx","features/crystal-board/index.js","features/utils/KeyState.js","features/game/internal/logic/CalculateMovingCrystalPosition.js","features/game/internal/actions.js","features/game-screen/internal/components/ClearedCrystalsCounter.jsx","features/game-screen/internal/containers/LeftPart.jsx","features/moving-crystals/internal/containers/MovingCrystalsContainer.jsx","features/moving-crystals/index.js","features/game-screen/internal/containers/MiddlePart.jsx","features/crystals-preview/internal/components/Background.jsx","features/crystals-preview/internal/containers/CrystalsPreviewContainer.jsx","features/crystals-preview/index.js","features/game-screen/internal/components/LevelCounter.jsx","features/game-screen/internal/containers/RightPart.jsx","features/game-screen/internal/components/animations/ColorBackgound.jsx","features/game-screen/index.js","features/game-screen/internal/containers/Screen.jsx","App.js","store/DomainRegistry.js","store/Store.js","domains/crystal-board/index.js","domains/moving-crystals/index.js","domains/game-status/index.js","domains/crystals-preview/index.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","rowOffset","rows","columns","CrystalTypes","BLUE","GREEN","GREY","ORANGE","PINK","YELLOW","counter","CRYSTAL_TYPES_COUNT","Object","keys","length","createCrystal","type","arguments","undefined","id","getRandomCrystalType","Math","floor","random","cache","getIndex","rowIndex","columnIndex","push","row","column","convertCrystal","crystal","index","LOCAL_STATE_KEY","CRYSTAL_COUNT","makeActionCreator","_len","payloadArgNames","Array","_key","_len2","args","_key2","action","payload","forEach","argName","actions","SET_CRYSTAL_TYPES","actionCreators","setCrystalTypes","initState","reducer","state","_ref","crystalTypes","sanitizedTypes","map","crystalUtils","types","slice","selectLocalState","memoizedConvertCrystals","memoizeOne","crystals","crystalConverters","selectCrystals","localState","selectCrystalTypes","GROUND_TIME_THRESHOLD","FAST_MOVE_DOWN","SET_RESET_POSITION","RESET_POSITION","CLEAR_CRYSTALS","SET_POSITION","CYCLE_CRYSTALS","INCREMENT_GROUND_TIME","setResetPosition","resetPosition","setPosition","clearCrystals","cycleCrystals","incrementGroundTime","groundTime","position","x","y","objectSpread","toConsumableArray","unshift","pop","selectPosition","cellSize","selectGroundTime","BoardStatus","CRYSTAL_CHAINS_RESOLVED","READY","PENDING_MARKED_CRYSTALS","NO_CRYSTAL_CONST","ROW_COUNT","COLUMNS_PER_ROW","MIDDLE_COLUMN_INDEX","BUFFER_ZONE_ROW_COUNT","MIN_CHAINED_LINKS","MIN_CRYSTAL_CHAIN_LENGTH","isValidCrystal","createMatrixIndex","getMatrixWidth","matrix","getMatrixHeight","getMatrixIndex","crystalId","some","createMatrix","initialValue","from","fill","cloneMatrix","result","flattenMatrix","concat","apply","isValidRowIndex","isValidColumnIndex","isValidMatrixIndex","isEmptyColumn","isLastRow","EMPTY_ARRAY","slideDownFloatingCrystalsForColumnIndex","findChains","pathMaps","markedCrystalIdsSet","Set","pathMap","markCrystalChains","size","markCrystalChain","chainedCrystalIds","add","pathRow","crystalType","removeCrystals","markedCrystalIds","cleanedMatrix","includes","_loop","newColumnCrystals","slideDownFloatingCrystals","matrixChecker","depthLevel","currentMatrix","allChainsRemoved","maxCount","adjustIndices","ADD_DROPPED_CRYSTALS","SET_CURRENT_STATUS","REMOVE_MARKED_CRYSTALS","addDroppedCrystals","mac","removeMarkedCrystals","setCurrentStatus","PATH_MAPS","path","columnIncrement","rowsToCreate","computeHorizontal","rowIncrement","computeVertical","computeDiagonalTopLeft","computeDiagonalBottomLeft","status","markedCrystals","ids","linkOriginId","markNextChainedCrystals","setMarkedCrystals","clearMarkedCrystals","droppedCrystalIds","reverse","i","find","markChainedCrystals","freeze","memoizedConvertVisibleCrystals","excludedCrystalIds","entry","selectVisibleCrystals","selectMatrix","selectMarkedCrystalIds","memoizedConvertMarkedCrystals","linkOrigin","selectMarkedCrystals","selectBoardStatus","memoizedSlice","selectMatrixIncludingBuffer","ENTER_MATRIX_INDEX","isBoardFilled","MAX_SPEED_LEVEL","MIN_SPEED_LEVEL","RECOVERY_SPEED_LEVEL","GameStatus","RUNNING","GAME_OVER","PAUSED","UNINITIALIZED","SET_STATUS","RESET","INCREMENT_CLEARED_CRYSTALS","reset","setStatus","incrementClearedCrystals","speedLevel","level","clearedCrystalsCount","setGameStatus","incrementBy","recalcLevel","getNextSpeedLevel","currentLevel","clearedCrystals","max","min","selectLevelCount","selectSpeedLevel","selectGameStatus","selectClearedCrystalsCount","CRYSTAL_SPRITE_MAP","_CRYSTAL_SPRITE_MAP","defineProperty","crystalConstants","NONE","BlueCrystalSprites","GreenCrystalSprites","GreyCrystalSprites","OrangeCrystalSprites","PinkCrystalSprites","YellowCrystalSprites","SPRITE_FRAMES","CELL_SIZE","SPRITE_FRAME_SIZE","CRYSTAL","PropTypes","shape","string","isRequired","number","MATRIX_INDEX","MATRIX_CRYSTAL","SpriteLooper","arrayOf","currentFrame","nextFrame","_this","props","playing","frameCount","setState","this","intervallId","setInterval","frameDelay","clearInterval","children","React","PureComponent","defaultProps","SpriteSheet","spriteSource","spriteWidth","spriteHeight","spriteColumnIndex","spriteRowIndex","styles","left","top","width","height","objectFit","objectPosition","react_default","a","createElement","key","style","src","alt","memo","CrystalSprite","frameIndex","sprite","matrixCrystals","_ref2","components_CrystalSprite","AnimatedCrystalMatrix","animate","components_SpriteLooper","convertToMatrixIndex","xPosition","yPosition","convertYToRowIndex","convertXToColumnIndex","crystalBoardDomainUtils","crystalBoardDomainConstants","convertRowIndexToY","convertColumnIndexToX","BOARD_WIDTH","BOARD_HEIGHT","gridPath","c","r","generateGridPath","fillOpacity","stroke","strokeWidth","d","Content","Keyframes","Spring","asyncToGenerator","regenerator_default","mark","_callee","next","cancel","ownProps","repeats","startDelay","wrap","_context","prev","opacity","to","config","tension","friction","duration","delay","stop","_x","_x2","_x3","Blink","repeatCount","onAnimationFinished","native","onRest","_ref3","renderprops","div","LightBeams","matrixCrystal","halfCellSize","value","transform","g","interpolate","v","round","points","generateLightBeamPoints","rotation","renderLightBeams","RemoveOverlay","lightBeamFinished","markLightBeamAsFinished","nextProps","Fragment","components_AnimatedCrystalMatrix","animations_LightBeams","animations_Blink","components_CrystalMatrix","_this$props","renderBlinkingCrystals","renderCrystalsWithLightBeams","lightBeamsIndex","Easing","t","rowProgressIncrement","columnProgressIncrement","rowsDuration","columnsDuration","columnExtraWeights","targetYPosition","FallingCrystals","minCrystalDelay","animationFinishedHandler","delays","rowDelay","time","crystalDelay","computeDelays","indexOfMaxDelay","reduce","maxIndex","valueIndex","array","lastCrystalIndex","reversedIndex","_matrixCrystal","features_crystal","scale","wobbly","countdown","clamp","countdownStartValue","GameOverCountdown","GameOverCountdown_Content","revert","s","fontSize","fontWeight","strokeLinejoin","textAnchor","dominantBaseline","dy","text","react","animations_FallingCrystals","animations_GameOverCountdown","CrystalBoardContainer","components_Background","visibleCrystals","components_RemoveOverlay","components_GameOverOverlay","gameOverCrystals","restartGame","EMPTY_RESULT","connect","crystalBoardSelectors","isGameOver","statusSelectors","statusConstants","dispatch","gameActionCreators","start","Key","KeyState","_keys","_isDelayedDownEventThreshold","init","document","addEventListener","_onKeyDown","bind","_onKeyUp","isDown","keyInfo","isInitialDown","initialKeyDownConsumed","isDelayedDone","repeatedDownEventCount","clearWasPressedState","values","e","_createKeyInfo","LAST_VALID_Y_POS","crystalFeatureConstants","crystalBoardConstants","calculateNewYPosition","movedDistance","gameStatusConstants","movingCrystalConstants","newYPosition","newRowIndex","calculateRowIndexOfCrystalBottom","currentRowIndex","currentColumnIndex","crystalBoardFeatureUtils","matrixIndex","crystalBoardUtils","isValidEmptyIndex","calculateNewXPosition","newColumnIndex","yPositionOfCrystal","rowOfCrystal","updateMovingCrystalsPosition","batchedActions","movingCrystalSelectors","newPosition","currentPosition","calculateNextPosition","gameStatusSelectors","hasMovedDown","hasMovedHorizontal","movingCrystalActions","prevRowIndex","createListOfRandomCrystalTypes","crystalPreviewConstants","crystalPreviewActions","dropCrystals","crystalBoardActions","numCrystalTypes","getState","batchActions","previewCrystalTypes","movingCrystalTypes","gameStatusActions","update","crystalPreviewSelectors","crystalCount","x2","y2","offset","stopColor","LeftPart","components_ClearedCrystalsCounter","selectors","MovingCrystalsContainer","MiddlePart","overflow","crystal_board","moving_crystals","Background","CrystalsPreviewContainer","internal_components_Background","previewSelectors","str","substring","formatValue","RightPart","levelCount","margin","crystals_preview","components_LevelCounter","getRandomValue","minValue","maxValue","maxColor","minColor","animConfig","b","slow","ColorBackgound_Content","backgroundColor","Screen","leftPartWidth","border","boxShadow","ColorBackgound","containers_LeftPart","containers_MiddlePart","containers_RightPart","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","requestNextFrame","window","requestAnimationFrame","updateGame","intervalId","setTimeout","clearTimeout","game_screen","mapDispatchToProps","reducers","DomainRegistry","registerReducer","storeKey","getReducers","registry","registerMovingCrystalsDomain","registerGameStatusDomain","registerCrystalsPreviewDomain","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","store","createStore","enableBatching","combineReducers","composeWithDevTools","applyMiddleware","thunk","render","es","paddingTop","src_App","getElementById","URL","process","href","origin","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,8ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6ECAxCH,EAAAC,QAAA,yvSCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,gFCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uzGC6JTC,EAAWC,EAAMC,sFC7JnCC,EAAe,CAC1BC,KAAM,EACNC,MAAO,EACPC,KAAM,EACNC,OAAQ,EACRC,KAAM,EACNC,OAAQ,GCLNC,EAAU,ECGRC,EAAsBC,OAAOC,KAAKV,GAAcW,OAEhDC,EAAgB,WAAsB,IAArBC,EAAqBC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,QAAdC,EAC5B,MAAO,CACLC,GDLK,GAAKT,ICMVM,SAIEI,EAAuB,WAC3B,OAAOC,KAAKC,MAAMD,KAAKE,SAAWZ,ICb9Ba,EAAQ,GACDC,EAAW,SAACC,EAAUC,GACjC,KAAOH,EAAMV,QAAUY,GACrBF,EAAMI,KAAK,IAGb,IADA,IAAMC,EAAML,EAAME,GACXG,EAAIf,QAAUa,GACnBE,EAAID,KAAK,CAACC,IAAKH,EAAUI,OAAQD,EAAIf,SAEvC,OAAOe,EAAIF,IAGPI,EAAiB,SAACC,EAASN,EAAUC,GACzC,MAAO,CACLK,UACAC,MAAOR,EAASC,EAAUC,KChBjBO,EAAkB,mBAElBC,EAAgB,ECDhBC,EAAoB,SAACpB,GAA6B,QAAAqB,EAAApB,UAAAH,OAApBwB,EAAoB,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAApBF,EAAoBE,EAAA,GAAAvB,UAAAuB,GAC7D,OAAO,WAAkB,QAAAC,EAAAxB,UAAAH,OAAN4B,EAAM,IAAAH,MAAAE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAND,EAAMC,GAAA1B,UAAA0B,GACvB,IAAMC,EAAS,CAAC5B,OAAM6B,QAAS,IAI/B,OAHAP,EAAgBQ,QAAQ,SAACC,EAASd,GAChCW,EAAOC,QAAQE,GAAWL,EAAKT,KAE1BW,ICLLI,EAAU,CACdC,kBAAmB,6CAGfC,EAAiB,CACrBC,gBAAiBf,EAAkBY,EAAQC,kBAAmB,iBAIjDD,ICPTI,EAAY,GAWHC,EATQ,WAAwC,IAAvCC,EAAuCrC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,GAA/BmC,EAA+BG,EAAAtC,UAAAH,OAAA,EAAAG,UAAA,QAAAC,EAAnBF,EAAmBuC,EAAnBvC,KAAM6B,EAAaU,EAAbV,QAChD,OAAQ7B,GACN,KAAKgC,EAAQC,kBACX,OAAOE,EAAgBG,EAAOT,EAAQW,cACxC,QACE,OAAOF,IAOPH,EAAkB,SAACG,EAAOE,GAE9B,OADcC,EAAeD,GAChBE,IAAI,SAAC1C,GAAD,OAAU2C,EAAa5C,cAAcC,MAGlDyC,EAAiB,SAACG,GACtB,OAAOA,EAAM9C,OAASqB,EAAgByB,EAAMC,MAAM,EAAG1B,GAAiByB,WClBlEE,EAAmB,SAACR,GACxB,OAAOA,EAAMpB,IAIT6B,EAA0BC,YADR,SAACC,GAAD,OAAcA,EAASP,IAAI,SAAC1B,EAASC,GAAV,OAAoBiC,EAAkBnC,eAAeC,EAASC,EAAO,OAIlHkC,EAAiB,SAACb,GACtB,IAAMc,EAAaN,EAAiBR,GACpC,OAAOS,EAAwBK,IAG3BC,EAAqB,SAACf,GAE1B,OADmBQ,EAAiBR,GAClBI,IAAI,SAAC1B,GAAD,OAAaA,EAAQhB,QCrBhCkB,GAAkB,iBAElBC,GAAgB,EAChBmC,GAAwB,GACxBC,GAAiB,oBCFxBvB,GAAU,CACdwB,mBAAoB,4CACpBC,eAAgB,wCAChBxB,kBAAmB,2CACnByB,eAAgB,wCAChBC,aAAc,sCACdC,eAAgB,wCAChBC,sBAAuB,gDAGnB3B,GAAiB,CACrB4B,iBAAkB1C,EAAkBY,GAAQwB,mBAAoB,YAChEO,cAAe3C,EAAkBY,GAAQyB,gBACzCO,YAAa5C,EAAkBY,GAAQ2B,aAAc,YACrDxB,gBAAiBf,EAAkBY,GAAQC,kBAAmB,gBAC9DgC,cAAe7C,EAAkBY,GAAQ0B,gBACzCQ,cAAe9C,EAAkBY,GAAQ4B,gBACzCO,oBAAqB/C,EAAkBY,GAAQ6B,wBAIlC7B,MCnBTI,GAAY,CAChBa,SAAU,GACVmB,WAAY,EACZC,SAAU,CAACC,EAAG,EAAGC,EAAG,GACpBR,cAAe,CAACO,EAAG,EAAGC,EAAG,IAwBZlC,GArBQ,WAAwC,IAAvCC,EAAuCrC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,GAA/BmC,GAA+BG,EAAAtC,UAAAH,OAAA,EAAAG,UAAA,QAAAC,EAAnBF,EAAmBuC,EAAnBvC,KAAM6B,EAAaU,EAAbV,QAChD,OAAQ7B,GACN,KAAKgC,GAAQwB,mBACX,OAAOM,GAAiBxB,EAAOT,EAAQwC,UACzC,KAAKrC,GAAQ2B,aACX,OAAOK,GAAY1B,EAAOT,EAAQwC,UACpC,KAAKrC,GAAQC,kBACX,OAAOE,GAAgBG,EAAOT,EAAQW,cACxC,KAAKR,GAAQ4B,eACX,OAAOM,GAAc5B,GACvB,KAAKN,GAAQ0B,eACX,OAAOvB,GAAgBG,EAAO,IAChC,KAAKN,GAAQ6B,sBACX,OAAOM,GAAoB7B,GAC7B,KAAKN,GAAQyB,eACX,OAAOO,GAAY1B,EAAOA,EAAMyB,eAClC,QACE,OAAOzB,IAOPH,GAAkB,SAACG,EAAOE,GAC9B,IACMS,EADQR,GAAeD,GACNE,IAAI,SAAC1C,GAAD,OAAU2C,EAAa5C,cAAcC,KAChE,OAAOJ,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAX,CAAkBW,WAAUoB,SAAU/B,EAAMyB,cAAeK,WAAYhC,GAAUgC,cAG7E3B,GAAiB,SAACG,GACtB,OAAOA,EAAM9C,OAASqB,GAAgByB,EAAMC,MAAM,EAAG1B,IAAiByB,GAGlEoB,GAAc,SAAC1B,EAAO+B,GAC1B,OAAOzE,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAX,CAAkB+B,cAGdP,GAAmB,SAACxB,EAAO+B,GAC/B,OAAOzE,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAX,CAAkByB,cAAeM,KAG7BH,GAAgB,SAAC5B,GACrB,IAAMW,EAAQrD,OAAA6E,GAAA,EAAA7E,CAAO0C,EAAMW,UAE3B,OADAA,EAASyB,QAAQzB,EAAS0B,OACnB/E,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAX,CAAkBW,cAGdkB,GAAsB,SAAC7B,GAC3B,OAAO1C,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAX,CAAkB8B,WAAY9B,EAAM8B,WAAa,KCtD7CtB,GAAmB,SAACR,GACxB,OAAOA,EAAMpB,KAGT0D,GAAiB,SAACtC,EAAOuC,GAAa,IACnCR,EAAYvB,GAAiBR,GAA7B+B,SAEP,MAAO,CAACC,EAAGD,EAASC,EAAGC,EAAGF,EAASE,IAI/BxB,GAA0BC,YADR,SAACC,GAAD,OAAcA,EAASP,IAAI,SAAC1B,EAASC,GAAV,OAAoBiC,EAAkBnC,eAAeC,EAASC,EAAO,OAElHkC,GAAiB,SAACb,GAAU,IACzBW,EAAYH,GAAiBR,GAA7BW,SACP,OAAOF,GAAwBE,IAG3BI,GAAqB,SAACf,GAE1B,OADmBQ,GAAiBR,GAA7BW,SACSP,IAAI,SAAC1B,GAAD,OAAaA,EAAQhB,QAGrC8E,GAAmB,SAACxC,GACxB,OAAOQ,GAAiBR,GAAO8B,YC7BpBlD,GAAkB,eAElB6D,GAAc,CACzBC,wBAAyB,uCACzBC,MAAO,qBACPC,wBAAyB,wCAGdC,QAAmBjF,EACnBkF,GAAY,GACZC,GAAkB,EAClBC,GAAsB,EACtBC,GAAwB,EACxBC,GAAoB,EACpBC,GAA2B,ECR3BC,GAAiB,SAAC1E,GAC7B,OAAOA,IAAYmE,IAGRQ,GAAoB,SAAC9E,EAAKC,GACrC,MAAO,CAACD,MAAKC,WAGF8E,GAAiB,SAACC,GAC7B,OAAOA,EAAO,GAAG/F,QAGNgG,GAAkB,SAACD,GAC9B,OAAOA,EAAO/F,QAGHiG,GAAiB,SAACF,EAAQG,GACrC,IAAM/E,EAAQ0E,IAAmB,GAAI,GASrC,OARAE,EAAOI,KAAK,SAACpF,EAAKH,GAAN,OAAmBG,EAAIoF,KAAK,SAACjF,EAASL,GAChD,OAAIK,EAAQb,KAAO6F,IACjB/E,EAAMJ,IAAMH,EACZO,EAAMH,OAASH,GACR,OAIJM,GAGIiF,GAAe,SAACjH,EAAMC,GAAsC,IAA7BiH,EAA6BlG,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,QAAdC,EACzD,OAAOqB,MAAM6E,KAAK7E,MAAMtC,GAAO,kBAAMsC,MAAMrC,GAASmH,KAAKF,MAG9CG,GAAc,SAACT,GAC1B,IAAMU,EAAS,GAIf,OAHAV,EAAO/D,QAAQ,SAACjB,EAAKI,GACvBsF,EAAOtF,GAAPrB,OAAA6E,GAAA,EAAA7E,CAAoBiB,KAEX0F,GAGIC,GAAgB,SAACX,GAAW,IAAAtD,EACvC,OAAOA,EAAA,IAAGkE,OAAHC,MAAAnE,EAAA3C,OAAA6E,GAAA,EAAA7E,CAAaiG,KAGTc,GAAkB,SAAC1F,GAC9B,OAAOA,EAAQmE,IAAanE,GAAS,GAG1B2F,GAAqB,SAAC3F,GACjC,OAAOA,EAAQoE,IAAmBpE,GAAS,GAGhC4F,GAAqB,SAAC5F,GACjC,OAAO0F,GAAgB1F,EAAMJ,MAAQ+F,GAAmB3F,EAAMH,SAGnDgG,GAAgB,SAACjB,EAAQ5E,GACpC,OAAQyE,GAAeG,EAAO5E,EAAMJ,KAAKI,EAAMH,UAGpCiG,GAAY,SAACrG,GACxB,OAAOA,IAAa0E,GAAY,GC7D5B4B,GAAc,GASdC,GAA0C,SAACpB,EAAQlF,GACvD,IAAM4F,EAAS,GASf,OARAV,EAAO/D,QAAQ,SAACjB,GACd,IAAMG,EAAUH,EAAIF,GAChB+E,GAAe1E,GACjBuF,EAAO3F,KAAKI,GAEZuF,EAAO7B,QAAQS,MAGZoB,GAGHW,GAAa,SAACrB,EAAQsB,GAC1B,IAAMC,EAAsB,IAAIC,IAAI,IAEpC,OADAF,EAASrF,QAAQ,SAACwF,GAAD,OAAaC,GAAkB1B,EAAQuB,EAAqBE,KACtEF,EAAoBI,KAAOjG,MAAM6E,KAAKgB,GAAuBJ,IAGhES,GAAmB,SAACC,EAAmBN,GACvCM,GAAqBA,EAAkB5H,QAAU2F,IACnDiC,EAAkB5F,QAAQ,SAACkE,GACzBoB,EAAoBO,IAAI3B,MAKxBuB,GAAoB,SAAC1B,EAAQuB,EAAqBE,GACtDA,EAAQxF,QAAQ,SAAC8F,GACf,IAAIC,EAAc,KACdH,EAAoB,GAExBE,EAAQ9F,QAAQ,SAACb,GACf,IAAMD,EAAU6E,EAAO5E,EAAMJ,KAAKI,EAAMH,QAEpC4E,GAAe1E,GACbA,EAAQhB,OAAS6H,EACnBH,EAAkB9G,KAAKI,EAAQb,KAE/BsH,GAAiBC,EAAmBN,GACpCS,EAAc7G,EAAQhB,KACtB0H,EAAoB,CAAC1G,EAAQb,MAG/BsH,GAAiBC,EAAmBN,GACpCS,EAAc,KACdH,EAAoB,QAIxBD,GAAiBC,EAAmBN,MAIlCU,GAAiB,SAACjC,EAAQkC,GAC9B,IAAMC,EAAgBnC,EAAOnD,IAAI,SAAC7B,GAAD,OAC/BA,EAAI6B,IAAI,SAAC1B,GAAD,OACN0E,GAAe1E,IAAY+G,EAAiBE,SAASjH,EAAQb,IAAMgF,GAAmBnE,MAE1F,OAlEgC,SAAC6E,GACjC,IAD4C,IAAAqC,EAAA,SACnCvH,GACP,IAAMwH,EAAoBlB,GAAwCpB,EAAQlF,GAC1EkF,EAAO/D,QAAQ,SAACjB,EAAKH,GAAN,OAAmBG,EAAIF,GAAewH,EAAkBzH,MAFhEC,EAAc,EAAGA,EAAc0E,GAAiB1E,IAAeuH,EAA/DvH,GAgETyH,CAA0BJ,GACnBA,GAgCIK,GA7BM,SAACxC,EAAQsB,GAA6B,IAAnBmB,EAAmBrI,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,GAAN,EAC7CsI,EAAgBjC,GAAYT,GAC5B2C,GAAmB,EACnB9I,EAAU,EAER+I,EAAWH,EAAa,EAAIA,EAAa,IAE/C,EAAG,CACD,IAAMP,EAAmBb,GAAWqB,EAAepB,GAC/CY,EAAiBjI,QACnByI,EAAgBT,GAAeS,EAAeR,GAC9CrI,KAEA8I,GAAmB,SAGfA,GAAoB9I,EAAU+I,GAEtC,OAAO/I,GAWI2I,GARQ,SAACxC,EAAQkC,GAC5B,OAAIA,EAAiBjI,OACZgI,GAAexB,GAAYT,GAASkC,GAEpClC,GAIEwC,GAGXnB,GhB0CIwB,GAAgB,SAAC1J,EAAWsI,GAEhC,OADAA,EAAQxF,QAAQ,SAACjB,GAAD,OAASA,EAAIiB,QAAQ,SAACb,GAAD,OAAWA,EAAMJ,KAAO7B,MACtDsI,GiBxJHtF,GAAU,CACd0B,eAAgB,sCAChBiF,qBAAsB,4CACtBC,mBAAoB,0CACpBC,uBAAwB,+CAGpB3G,GAAiB,CACrB4G,mBAAoBC,EAAI/G,GAAQ2G,qBAAsB,eAAgB,SACtE1E,cAAe8E,EAAI/G,GAAQ0B,gBAC3BsF,qBAAsBD,EAAI/G,GAAQ6G,wBAClCI,iBAAkBF,EAAI/G,GAAQ4G,mBAAoB,WAIrC5G,MCHTkH,IlB+I0ChK,EkB/ImBmG,GlBoJ1D,CAJYqD,GADU1J,EkB/IEuG,GlBRP,SAACtG,EAAMC,GAS/B,IARA,IAAMiK,EAAO,GAGTzI,EAAW,EACXC,EAAc,EACdyI,EAAkB,EAClBC,EAAepK,EAEZoK,KAAiB,GAAG,CAGzB,IAFA,IAAMzB,EAAU,GAEThB,GAAmBjG,IACxBiH,EAAQhH,KAAK+E,GAAkBjF,EAAUC,IACzCA,GAAeyI,EAGjBD,EAAKvI,KAAKgH,GAEVlH,IAEAC,GADAyI,IAAoB,EAItB,OAAOD,EAgIqCG,CADJrK,EkB/IcmG,KlBiJrCsD,GAAc1J,EA9HT,SAACC,EAAMC,GAS7B,IARA,IAAMiK,EAAO,GAGTzI,EAAW,EACXC,EAAc,EACd4I,EAAe,EACfF,EAAenK,EAEZmK,KAAiB,GAAG,CAGzB,IAFA,IAAMzB,EAAU,GAETjB,GAAgBjG,IACrBkH,EAAQhH,KAAK+E,GAAkBjF,EAAUC,IACzCD,GAAY6I,EAGdJ,EAAKvI,KAAKgH,GAEVjH,IAEAD,GADA6I,IAAiB,EAInB,OAAOJ,EAsGmCK,CAAgBvK,EAAMC,IACxCwJ,GAAc1J,EApGT,SAACC,EAAMC,GAYpC,IAXA,IAAMiK,EAAO,GAGTzI,EAAW,EACXC,EAAc,EAEd4I,EAAe,EACfH,GAAmB,EAEnBC,EAAepK,EAAOC,EAAU,EAE7BmK,KAAiB,GAAG,CAGzB,IAFA,IAAMzB,EAAU,GAETjB,GAAgBjG,IAAakG,GAAmBjG,IACrDiH,EAAQhH,KAAK+E,GAAkBjF,EAAUC,IACzCD,GAAY6I,EACZ5I,GAAeyI,EAGjBD,EAAKvI,KAAKgH,GAENlH,IAAazB,IACfyB,IACAC,GAAe,GAEbA,IAAgBzB,IAClByB,IACAD,GAAY,IAEO,IAAjBC,GACFA,KAEgB,IAAdD,GACFA,IAIF6I,IAAiB,EACjBH,IAAoB,EAGtB,OAAOD,EAyD0CM,CAAuBxK,EAAMC,IACnDwJ,GAAc1J,EAvDT,SAACC,EAAMC,GAYvC,IAXA,IAAMiK,EAAO,GAGTzI,EAAWzB,EAAO,EAClB0B,EAAc,EAEd4I,GAAgB,EAChBH,GAAmB,EAEnBC,EAAepK,EAAOC,EAAU,EAE7BmK,KAAiB,GAAG,CAGzB,IAFA,IAAMzB,EAAU,GAETjB,GAAgBjG,IAAakG,GAAmBjG,IACrDiH,EAAQhH,KAAK+E,GAAkBjF,EAAUC,IACzCD,GAAY6I,EACZ5I,GAAeyI,EAGjBD,EAAKvI,KAAKgH,GAENjH,IAAgBzB,IAClByB,IACAD,GAAY,GAEVA,IAAazB,GACfyB,KAEgB,IAAdA,IACFA,IACAC,GAAe,IAEI,IAAjBA,GACFA,IAIF4I,IAAiB,EACjBH,IAAoB,EAGtB,OAAOD,EAY6CO,CAA0BzK,EAAMC,MkB7IhFkD,GAAY,CAChByD,OAJOK,GAAad,GAAYG,GAAuBF,IAKvDsE,OAAQ5E,GAAYE,MACpB2E,eAAgB,CACdC,IAAK,GACLC,kBAAc5J,IAmBHmC,GAfQ,WAAwC,IAAvCC,EAAuCrC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,GAA/BmC,GAA+BG,EAAAtC,UAAAH,OAAA,EAAAG,UAAA,QAAAC,EAAnBF,EAAmBuC,EAAnBvC,KAAM6B,EAAaU,EAAbV,QAChD,OAAQ7B,GACN,KAAKgC,GAAQ0B,eACX,OAAOO,KACT,KAAKjC,GAAQ2G,qBACX,OAAOG,GAAmBxG,EAAOT,EAAQW,aAAcX,EAAQZ,OACjE,KAAKe,GAAQ4G,mBACX,OAAOK,GAAiB3G,EAAOT,EAAQ8H,QACzC,KAAK3H,GAAQ6G,uBACX,OAAOG,GAAqB1G,GAC9B,QACE,OAAOA,IAOP0G,GAAuB,SAAC1G,GAC5B,IAAMuD,EAASwC,GAA2B/F,EAAMuD,OAAQvD,EAAMsH,eAAeC,KAC7E,OAAOE,GAAwBnK,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAL,CAAYuD,aAQtCmE,GAAoB,SAAC1H,EAAOuH,GAAkC,IAA7BC,EAA6B7J,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,QAAdC,EAEpD,OADAoC,EAAK1C,OAAA4E,GAAA,EAAA5E,CAAA,GAAO0C,EAAP,CAAcsH,eAAgB,CAACC,MAAKC,kBAClCb,GAAiB3G,EAAOuH,EAAI/J,OAASiF,GAAYG,wBAA0BH,GAAYC,0BAG1F+E,GAA0B,SAACzH,GAC/B,IAAMyF,EAAmBM,GAAyB/F,EAAMuD,OAAQqD,IAChE,OAAInB,EAAiBjI,OACZkK,GAAkB1H,EAAOyF,GAbR,SAACzF,GAE3B,OADAA,EAAK1C,OAAA4E,GAAA,EAAA5E,CAAA,GAAO0C,EAAP,CAAcsH,eAAgBxH,GAAUwH,iBACtCX,GAAiB3G,EAAOyC,GAAYC,yBAalCiF,CAAoB3H,IAIzB2G,GAAmB,SAAC3G,EAAOqH,GAC/B,OAAO/J,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAX,CAAkBqH,YAGd1F,GAAgB,WACpB,OAAO7B,IAmBH0G,GAAqB,SAACxG,EAAOE,EAAcvB,GAC/C,IAAM4E,EAASS,GAAYhE,EAAMuD,QAC3BqE,EAAoB,GAQ1B,OAPA1H,EAAa2H,UAAUrI,QAAQ,SAAC9B,EAAMoK,GACpC,IAAM1J,EAAWO,EAAMJ,IAAMuJ,EAAI7E,GAC3BvE,EAAU2B,EAAa5C,cAAcC,GAC3C6F,EAAOnF,GAAUO,EAAMH,QAAUE,EACjCkJ,EAAkBtJ,KAAKI,EAAQb,MAvBP,SAACmC,EAAO4H,GAClC,IAAMnC,EAAmBM,GAAyB/F,EAAMuD,OAAQqD,IAE5DY,OAAe5J,EAUnB,OAPI6H,EAAiBjI,QACXuI,GAAyB/F,EAAMuD,OAAQqD,GAAW1D,KAC7CA,KACXsE,EAAeI,EAAkBG,KAAK,SAAClK,GAAD,OAAQ4H,EAAiBE,SAAS9H,MAIrE6J,GAAkB1H,EAAOyF,EAAkB+B,GAa3CQ,CAAoB1K,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAL,CAAYuD,WAASqE,ICrG3ClD,GAAcpH,OAAO2K,OAAO,ICE5BzH,GAAmB,SAACR,GACxB,OAAOA,EAAMpB,KAGTsJ,GAAiCxH,YDJR,SAAC6C,EAAQ4E,GACtC,IAAMlE,EAAS,GAYf,OAXAV,EAAO/D,QAAQ,SAACjB,EAAKH,GACnBG,EAAIiB,QAAQ,SAACd,EAASL,GACpB,GAAI+E,GAAe1E,KACDyJ,EAAmBxC,SAASjH,EAAQb,IACtC,CACZ,IAAMuK,EAAQxH,EAAkBnC,eAAeC,EAASN,EAAUC,GAClE4F,EAAO3F,KAAK8J,QAKbnE,EAAOzG,OAASyG,EAASS,KCR5B2D,GAAwB,SAACrI,GAC7B,IAAMuD,EAAS+E,GAAatI,GACtByF,EAAmB8C,GAAuBvI,GAChD,OAAOkI,GAA+B3E,EAAQkC,IAG1C+C,GAAgC9H,YDKR,SAAC6C,EAAQkC,EAAkB+B,GACvD,IAAMvD,EAAS,CACbtD,SAAU,GACV8H,gBAAY7K,GAqBd,OAnBA2F,EAAO/D,QAAQ,SAACjB,EAAKH,GACnBG,EAAIiB,QAAQ,SAACd,EAASL,GACpB,GAAI+E,GAAe1E,IACA+G,EAAiBE,SAASjH,EAAQb,IACrC,CACZ,IAAMuK,EAAQxH,EAAkBnC,eAAeC,EAASN,EAAUC,GAClE4F,EAAOtD,SAASrC,KAAK8J,GACjB1J,EAAQb,KAAO2J,IACjBvD,EAAOwE,WAAaL,QAOC,IAA3BnE,EAAOtD,SAASnD,SAClByG,EAAOtD,SAAW+D,IAGbT,IC5BHyE,GAAuB,SAAC1I,GAC5B,IAAMuD,EAAS+E,GAAatI,GACtByF,EAAmB8C,GAAuBvI,GAE1CwH,EADahH,GAAiBR,GACJsH,eAAeE,aAC/C,OAAOgB,GAA8BjF,EAAQkC,EAAkB+B,IAG3De,GAAyB,SAACvI,GAE9B,OADmBQ,GAAiBR,GAClBsH,eAAeC,KAG7BoB,GAAoB,SAAC3I,GACzB,OAAOQ,GAAiBR,GAAOqH,QAG3BuB,GAAgBlI,YAAW,SAAC6C,GAAD,OAAYA,EAAOhD,MAAM0C,MACpDqF,GAAe,SAACtI,GACpB,IAAMuD,EAASsF,GAA4B7I,GAC3C,OAAO4I,GAAcrF,IAGjBsF,GAA8B,SAAC7I,GACnC,OAAOQ,GAAiBR,GAAOuD,QAG3BuF,GAAqBzF,GAAkBJ,GAAuBD,IAC9D+F,GAAgB,SAAC/I,GACrB,IAAMuD,EAASsF,GAA4B7I,GAC3C,OAAQwE,GAAcjB,EAAQuF,KChDnBlK,GAAkB,cAElBoK,GAAkB,EAClBC,GAAkB,EAClBC,GAAuB,EAEvBC,GAAa,CACxBC,QAAS,sBACTC,UAAW,wBACXC,OAAQ,qBACRC,cAAe,6BCRX7J,GAAU,CACd8J,WAAY,gCACZC,MAAO,2BACPC,2BAA4B,iDAGxB9J,GAAiB,CACrB+J,MAAO7K,EAAkBY,GAAQ+J,OACjCG,UAAW9K,EAAkBY,GAAQ8J,WAAY,UACjDK,yBAA0B/K,EAAkBY,GAAQgK,2BAA4B,gBAInEhK,MCPTI,GAAY,CAChBuH,OAAQ8B,GAAWI,cACnBO,WAAYb,GACZc,MAAO,EACPC,qBAAsB,GAoBTjK,GAbQ,WAAwC,IAAvCC,EAAuCrC,UAAAH,OAAA,QAAAI,IAAAD,UAAA,GAAAA,UAAA,GAA/BmC,GAA+BG,EAAAtC,UAAAH,OAAA,EAAAG,UAAA,QAAAC,EAAnBF,EAAmBuC,EAAnBvC,KAAM6B,EAAaU,EAAbV,QAChD,OAAQ7B,GACN,KAAKgC,GAAQ8J,WACX,OAAOS,GAAcjK,EAAOT,EAAQ8H,QACtC,KAAK3H,GAAQgK,2BACX,OAAOG,GAAyB7J,EAAOT,EAAQ2K,aACjD,KAAKxK,GAAQ+J,MACX,OAAOE,GAAM3J,GACf,QACE,OAAOA,IAMP2J,GAAQ,SAAC3J,GACb,OAAOF,IAGHmK,GAAgB,SAACjK,EAAOqH,GAC5B,OAAO/J,OAAA4E,GAAA,EAAA5E,CAAA,GAAI0C,EAAX,CAAkBqH,YAGdwC,GAA2B,SAAC7J,EAAOkK,GACvC,IAAMF,EAAuBhK,EAAMgK,qBAAuBE,EACpDH,EAAQI,GAAYnK,EAAM+J,MAAOC,GACjCF,EAAaC,IAAU/J,EAAM+J,MAAQ/J,EAAM8J,WAAaM,GAAkBpK,EAAM8J,YACtF,OAAOxM,OAAA4E,GAAA,EAAA5E,CAAA,GACF0C,EADL,CAEEgK,uBACAD,QACAD,gBAIEK,GAAc,SAACE,EAAcC,GAEjC,OAAOA,EAxCQ,GAuC+BD,EACTA,EAAeA,EAAe,GAG/DD,GAAoB,SAACN,GACzB,OAAIA,GAAcd,GACTjL,KAAKwM,IAAItB,GAAiBC,IAG5BnL,KAAKyM,IAAIxB,GAAiBc,EAAa,IC9D1CtJ,GAAmB,SAACR,GACxB,OAAOA,EAAMpB,KAGT6L,GAAmB,SAACzK,GACxB,OAAOQ,GAAiBR,GAAO+J,OAG3BW,GAAmB,SAAC1K,GACxB,OAAOQ,GAAiBR,GAAO8J,YAG3Ba,GAAmB,SAAC3K,GACxB,OAAOQ,GAAiBR,GAAOqH,QAG3BuD,GAA6B,SAAC5K,GAClC,OAAOQ,GAAiBR,GAAOgK,uJCXpBa,IAAkBC,EAAA,GAAAxN,OAAAyN,GAAA,EAAAzN,CAAAwN,EAC5BE,EAAiBnO,aAAaoO,KAAO,MADT3N,OAAAyN,GAAA,EAAAzN,CAAAwN,EAE5BE,EAAiBnO,aAAaC,KAAOoO,MAFT5N,OAAAyN,GAAA,EAAAzN,CAAAwN,EAG5BE,EAAiBnO,aAAaE,MAAQoO,MAHV7N,OAAAyN,GAAA,EAAAzN,CAAAwN,EAI5BE,EAAiBnO,aAAaG,KAAOoO,MAJT9N,OAAAyN,GAAA,EAAAzN,CAAAwN,EAK5BE,EAAiBnO,aAAaI,OAASoO,MALX/N,OAAAyN,GAAA,EAAAzN,CAAAwN,EAM5BE,EAAiBnO,aAAaK,KAAOoO,MANThO,OAAAyN,GAAA,EAAAzN,CAAAwN,EAO5BE,EAAiBnO,aAAaM,OAASoO,MAPXT,GAUlBU,GAAgB,EAChBC,GAAY,GACZC,GAAoBD,GAAY,qBClBhCE,GAAUC,KAAUC,MAAM,CACrChO,GAAI+N,KAAUE,OAAOC,WACrBrO,KAAMkO,KAAUI,OAAOD,aAGZE,GAAeL,KAAUC,MAAM,CAC1CtN,IAAKqN,KAAUI,OAAOD,WACtBvN,OAAQoN,KAAUI,OAAOD,aAGdG,GAAiBN,KAAUC,MAAM,CAC5CnN,QAASiN,GAAQI,WACjBpN,MAAOsN,GAAaF,aCXhBI,IDc6BP,KAAUQ,QAAQF,+MCFnDlM,MAAQ,CACNqM,aAAc,KAWhBC,UAAY,WACV,GAAIC,EAAKC,MAAMC,QAAS,KACfC,EAAcH,EAAKC,MAAnBE,WAEDJ,EADiBC,EAAKvM,MAArBqM,aAC0B,EACjCE,EAAKI,SAAS,CAACN,aAAcC,GAAaI,EAAa,EAAIJ,yFAZ7DM,KAAKC,YAAcC,YAAYF,KAAKN,UAAWM,KAAKJ,MAAMO,2DAI1DC,cAAcJ,KAAKC,8CAenB,OAAOI,EAFYL,KAAKJ,MAAjBS,UACgBL,KAAK5M,MAArBqM,qBAnCgBa,IAAMC,gBAA3BhB,GAQGiB,aAAe,CACpBX,SAAS,GA+BEN,UCxCTkB,GAAc,SAAApN,GAAwF,IAAtFqN,EAAsFrN,EAAtFqN,aAActL,EAAwE/B,EAAxE+B,EAAGC,EAAqEhC,EAArEgC,EAAGsL,EAAkEtN,EAAlEsN,YAAaC,EAAqDvN,EAArDuN,aAAcC,EAAuCxN,EAAvCwN,kBAAmBC,EAAoBzN,EAApByN,eAChFC,EAAS,CACb5L,SAAU,WACV6L,KAAI,GAAAzJ,OAAKnC,EAAL,MACJ6L,IAAG,GAAA1J,OAAKlC,EAAL,MACH6L,MAAK,GAAA3J,OAAKoJ,EAAL,MACLQ,OAAM,GAAA5J,OAAKqJ,EAAL,MACNQ,UAAW,OACXC,eAAc,IAAA9J,OAAMsJ,EAAoBF,EAA1B,QAAApJ,OAA4CuJ,EAAiBF,EAA7D,OAEhB,OACEU,EAAAC,EAAAC,cAAA,OAAKC,IAAI,QAAQC,MAAOX,EAAQY,IAAKjB,EAAckB,IAAI,MAc3DnB,GAAYD,aAAe,CACzBpL,EAAG,EACHC,EAAG,EACHyL,eAAgB,EAChBD,kBAAmB,GAGNgB,IC/BApB,GD+BAoB,eAAKpB,IEpBdqB,GAAgB,SAAAzO,GAAkC,IAAhCvB,EAAgCuB,EAAhCvB,QAASC,EAAuBsB,EAAvBtB,MAAOgQ,EAAgB1O,EAAhB0O,WAChCrB,EAAezC,GAAmBnM,EAAQhB,MAChD,OAAO4P,EACLY,EAAAC,EAAAC,cAACQ,GAAD,CACEP,IAAI,SACJrM,EAAGrD,EAAMH,OAASiN,GAClBxJ,EAAGtD,EAAMJ,IAAMkN,GACf6B,aAAcA,EACdC,YAAa7B,GACb8B,aAAc9B,GACd+B,kBAAmBkB,IAErB,MASJD,GAActB,aAAe,CAC3BuB,WAAY,GAGCF,sBAAKC,ICvBLD,kBAZO,SAAAxO,GACpB,OAD0CA,EAApB4O,eACAzO,IAAI,SAAA0O,GAAA,IAAEpQ,EAAFoQ,EAAEpQ,QAASC,EAAXmQ,EAAWnQ,MAAX,OAAsBuP,EAAAC,EAAAC,cAACW,GAAD,CAC9CV,IAAK3P,EAAQb,GACba,QAASA,EACTC,MAAOA,QCALqQ,GAAwB,SAAA/O,GAA+B,IAA7BgP,EAA6BhP,EAA7BgP,QAASJ,EAAoB5O,EAApB4O,eACvC,OAAOA,GAAkBA,EAAerR,OACtC0Q,EAAAC,EAAAC,cAACc,GAAD,CACEb,IAAI,SACJ5B,QAASwC,EACTvC,WAAYlB,GACZuB,WAAY,IAAOvB,IAEjB,SAACmD,GAAD,OAAgBE,EAAezO,IAAI,SAAA0O,GAAA,IAAEpQ,EAAFoQ,EAAEpQ,QAASC,EAAXmQ,EAAWnQ,MAAX,OAAsBuP,EAAAC,EAAAC,cAACW,GAAD,CACvDV,IAAK3P,EAAQb,GACba,QAASA,EACTC,MAAOA,EACPgQ,WAAYA,QAIhB,MAQNK,GAAsB5B,aAAe,CACnC6B,SAAS,GAGIR,sBAAKO,IC9BLN,MCCFS,GAAuB,SAACC,EAAWC,GAC9C,IAAMjR,EAAWkR,GAAmBD,GAC9BhR,EAAckR,GAAsBH,GAC1C,OAAOI,EAAwBnM,kBAAkBjF,EAAUC,IAGhDkR,GAAwB,SAACH,GACpC,OAAOrR,KAAKyM,IAAIiF,EAA4B1M,gBAAkB,EAAGhF,KAAKC,MAAMoR,EAAYpE,EAAiBS,aAG9F6D,GAAqB,SAACD,GACjC,OAAOtR,KAAKyM,IAAIiF,EAA4B3M,UAAY,EAAG/E,KAAKC,MAAMqR,EAAYrE,EAAiBS,aAGxFiE,GAAqB,SAACtR,GACjC,OAAOA,EAAW4M,EAAiBS,WAGxBkE,GAAwB,SAACtR,GACpC,OAAOA,EAAc2M,EAAiBS,WCpB3BmE,GAAcH,EAA4B1M,gBAAkBiI,EAAiBS,UAC7EoE,GAAeJ,EAA4B3M,UAAYkI,EAAiBS,UC6CtEgD,kBAhBI,WACjB,IAAMqB,EAzBiB,WAMvB,IALA,IAAIjJ,EAAO,GAIP7E,EAAI,EACC+N,EAAI,EAAGA,GAAKN,EAA4B1M,gBAAiBgN,IAChElJ,GAAI,IAAA1C,OAJkB,GAIQnC,EAA1B,IAA+B,GACnC6E,GAAI,IAAA1C,OALkB,GAKQnC,EAA1B,KAAAmC,OAA+B0L,IACnC7N,GAAKgJ,EAAiBS,UAIxB,IADA,IAAIxJ,EAAI,EACC+N,EAAI,EAAGA,GAAKP,EAA4B3M,UAAWkN,IAC1DnJ,GAAI,IAAA1C,OAAQ,EAAR,IAXkB,GAWalC,GACnC4E,GAAI,IAAA1C,OAAQyL,GAAR,KAAAzL,OAZkB,GAYuBlC,GAC7CA,GAAK+I,EAAiBS,UAKxB,OAFA5E,GAAQ,IAMSoJ,GACjB,OACE/B,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAACvM,SAAU,aACrBmM,EAAAC,EAAAC,cAAA,OAAKN,MAAO8B,GAAa7B,OAAQ8B,IAC/B3B,EAAAC,EAAAC,cAAA,QAAMpM,EAAE,IAAIC,EAAE,IAAI6L,MAAM,OAAOC,OAAO,OAAOhK,KAAK,cAClDmK,EAAAC,EAAAC,cAAA,QAAMpM,EAAGyN,EAA4BzM,oBAAsBgI,EAAiBS,UAAWxJ,EAAE,IAAI6L,MAAO9C,EAAiBS,UAAWsC,OAAO,OAAOhK,KAAK,UAAUmM,YAAY,QACzKhC,EAAAC,EAAAC,cAAA,KAAG+B,OAAO,QAAQpM,KAAK,OAAOqM,YAAY,KACxClC,EAAAC,EAAAC,cAAA,QAAMiC,EAAGP,KAEX5B,EAAAC,EAAAC,cAAA,QAAMpM,EAAE,IAAIC,EAAE,IAAI6L,MAAM,OAAOC,OAAO,OAAOhK,KAAK,OAAOoM,OAAO,WAAWC,YAAY,+CC3CzFE,GAAUC,aAAUC,OAAV,eAAAvQ,EAAA3C,OAAAmT,GAAA,EAAAnT,CAAAoT,GAAAvC,EAAAwC,KAAiB,SAAAC,EAAOC,EAAMC,EAAQC,GAArB,IAAAC,EAAAC,EAAAnJ,EAAA,OAAA4I,GAAAvC,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAN,MAAA,OACxBG,EAAuBD,EAAvBC,QAASC,EAAcF,EAAdE,WACPnJ,EAAI,EAFkB,YAEfA,EAAIkJ,GAFW,CAAAG,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,EAGvBA,EAAK,CACT/M,KAAM,CAACuN,QAAS,GAChBC,GAAI,CAACD,QAAS,GACdE,OAAQ,CAACC,QAAS,KAAMC,SAAU,IAAKC,SAAU,IAAKC,MAAa,IAAN7J,EAAUmJ,EAAaF,EAASY,SANlE,cAAAR,EAAAN,KAAA,EAQvBA,EAAK,CACTS,GAAI,CAACD,QAAS,GACdE,OAAQ,CAACC,QAAS,KAAMC,SAAU,IAAKC,SAAU,MAChD5J,IAAMkJ,EAAU,GAXU,OAEFlJ,IAFEqJ,EAAAN,KAAA,iCAAAM,EAAAS,SAAAhB,MAAjB,gBAAAiB,EAAAC,EAAAC,GAAA,OAAA9R,EAAAmE,MAAAwI,KAAAjP,YAAA,IAeVqU,GAAQ,SAAAlD,GAAyD,IAAvDmD,EAAuDnD,EAAvDmD,YAAaN,EAA0C7C,EAA1C6C,MAAOO,EAAmCpD,EAAnCoD,oBAAqBjF,EAAc6B,EAAd7B,SACvD,OAAOiB,EAAAC,EAAAC,cAACkC,GAAD,CACL6B,QAAM,EACNxI,OAAK,EACLqH,QAASiB,EACThB,WAAYU,EACZS,OAAQF,GAEN,SAAAG,GAAA,IAAEhB,EAAFgB,EAAEhB,QAAF,OAAenD,EAAAC,EAAAC,cAACkE,GAAA,SAASC,IAAV,CACbjE,MAAO,CAAC+C,YAENpE,MAaV+E,GAAM5E,aAAe,CACnBuE,MAAO,EACPM,YAAa,EACbC,yBAAqBtU,GAGR6Q,sBAAKuD,ICjBdQ,GAAa,SAAAvS,GAAoD,IAAlDwS,EAAkDxS,EAAlDwS,cAAef,EAAmCzR,EAAnCyR,SAAUQ,EAAyBjS,EAAzBiS,oBACrCvT,EAAS8T,EAAT9T,MACD+T,EAAe1H,EAAiBS,UAAY,EAC5CzJ,EAAI2N,GAAsBhR,EAAMH,QAAUkU,EAC1CzQ,EAAIyN,GAAmB/Q,EAAMJ,KAAOmU,EAE1C,OAAOxE,EAAAC,EAAAC,cAACkE,GAAA,OAAD,CACLH,QAAM,EACNxI,OAAK,EACL7F,KAAM,CAAC6O,MAAO,GACdrB,GAAI,CAACqB,MAAO,GACZpB,OAAQ,CAACC,QAAS,KAAMC,SAAU,GAAIC,SAAUA,GAChDU,OAAQF,GAEN,SAAApD,GAAA,IAAE6D,EAAF7D,EAAE6D,MAAF,OAAazE,EAAAC,EAAAC,cAAA,OAAKN,MAAO8B,GAAa7B,OAAQ8B,IAC5C3B,EAAAC,EAAAC,cAAA,KAAGwE,UAAS,aAAAzO,OAAenC,EAAf,KAAAmC,OAAoBlC,EAApB,MACViM,EAAAC,EAAAC,cAACkE,GAAA,SAASO,EAAV,CAAYvE,MAAO,CACjB+C,QAASsB,EAAMG,YAAY,SAACC,GAAD,OAAOA,GAAK,EAAI,EAAI,IAC/CH,UAAWD,EAAMG,YAAY,SAACC,GAAD,gBAAA5O,OAAiBpG,KAAKiV,MAAU,IAAJD,GAA5B,YA5BhB,SAACvV,GACxB,IAAMyV,EANwB,SAACzV,GAE/B,aAAA2G,OAAc3G,EAAd,KAAA2G,QAAwB,GAAxB,KAAAA,OAAoC3G,EAApC,KAAA2G,OAA8C,IAI/B+O,CAAwB1V,GACvC,MAAO,CAAC,EAAG,GAAI,IAAK,KAAK4C,IAAI,SAAC+S,GAAD,OAAcjF,EAAAC,EAAAC,cAAA,WACzCC,IAAK8E,EACLpP,KAAK,SACLmM,YAAY,MACZ0C,UAAS,UAAAzO,OAAYgP,EAAZ,SACTF,OAAQA,MAwBEG,CAAiBvD,GAAe7E,EAAiBS,iBAe/D+G,GAAWpF,aAAe,CACxBsE,SAAU,IACVQ,yBAAqBtU,GAGR6Q,sBAAK+D,ICjEda,8MACJrT,MAAQ,CACNsT,mBAAmB,KAOrBC,wBAA0B,WACxBhH,EAAKI,SAAS,CAAE2G,mBAAmB,8FALXE,GACxB5G,KAAKD,SAAS,CAAE2G,mBAAmB,yDAORzE,EAAgBpG,EAAYyJ,GAEvD,OAAOhE,EAAAC,EAAAC,cAACF,EAAAC,EAAMsF,SAAP,CAAgBpF,IAAI,YACzBH,EAAAC,EAAAC,cAACsF,GAAD,CACErF,IAAI,iBACJQ,eAAgBA,IAClBX,EAAAC,EAAAC,cAAA,OAAKC,IAAI,MAAMC,MAAO,CAAEvM,SAAU,aAChCmM,EAAAC,EAAAC,cAACuF,GAAD,CACEtF,IAAI,aACJ6D,oBAAqBA,EACrBO,cAAehK,EACfiJ,SAVqB,uDAgBN7C,EAAgBqD,GACrC,OAAOhE,EAAAC,EAAAC,cAACwF,GAAD,CACLvF,IAAI,QACJsD,MAAO,IACPM,YAAa,EACbC,oBAAqBA,GAEnBhE,EAAAC,EAAAC,cAACyF,GAAD,CACExF,IAAI,SACJQ,eAAgBA,sCAKf,IAAAiF,EACqDlH,KAAKJ,MAAzDqC,EADDiF,EACCjF,eAAgBpG,EADjBqL,EACiBrL,WAAYyJ,EAD7B4B,EAC6B5B,oBAEpC,OAAIrD,GAAkBA,EAAerR,OAC/BiL,EACEmE,KAAK5M,MAAMsT,kBACN1G,KAAKmH,uBAAuBlF,EAAgBqD,GAE5CtF,KAAKoH,6BAA6BnF,EAAgBpG,EAAYmE,KAAK2G,yBAGrE3G,KAAKmH,uBAAuBlF,EAAgBqD,GAGhD,YA1DiBhF,IAAMC,eAoElCkG,GAAcjG,aAAe,CAC3ByB,eAAgB,GAChBpG,gBAAY7K,EACZqW,qBAAiBrW,EACjBsU,yBAAqBtU,GAGRyV,UCjFAa,GAEL,SAAUC,GAAK,OAAOA,GAFjBD,GAID,SAAUC,GAAK,OAAOA,EAAEA,GAJvBD,GAMA,SAAUC,GAAK,OAAOA,GAAG,EAAEA,ICIpCC,GAAuB,GAAK3E,EAA4B3M,UAAY,GAEpEuR,GAA0B,GAAK5E,EAA4B1M,gBAAkB,GAG7EuR,GAAuD,IAAxC7E,EAA4B3M,UAG3CyR,GAAgE,GAA9C9E,EAA4B1M,gBAE9CyR,GAAqB,CAAC,GAAI,GAAK,EAAG,EAAG,EAAG,EAAG,GAE3CC,IAAmBhF,EAA4B3M,UAAY,GAAKkI,EAAiBS,UAWjFiJ,GAAkB,SAAA5F,GAAwE,IAAtED,EAAsEC,EAAtED,eAAgB8C,EAAsD7C,EAAtD6C,MAAOgD,EAA+C7F,EAA/C6F,gBAAiBC,EAA8B9F,EAA9B8F,yBAC1DC,EAVc,SAAChG,EAAgBoC,EAAY0D,GACjD,OAAO9F,EAAezO,IAAI,SAAAH,GAAa,IAAXtB,EAAWsB,EAAXtB,MACpBmW,EAAWR,GAAeJ,GAAmBvV,EAAMJ,IAAM6V,IACzDW,EAAQpW,EAAMH,OAAS6V,GAA2BG,GAAmB7V,EAAMH,QAC3EwW,EAAeL,EAAmBJ,GAAkBL,GAAca,GACxE,OAAO9D,EAAa6D,EAAWE,IAKlBC,CAAcpG,EAAgB8C,EAAOgD,GAC9CO,EAAkBL,EAAOM,OAAO,SAACC,EAAUhN,EAAOiN,EAAYC,GAA9B,OAAwClN,EAAQkN,EAAMF,GAAYC,EAAaD,GAAU,GACzHG,EAAmB1G,EAAerR,OAAS,EACjD,OAAOqR,EAAezO,IAAI,SAACqS,EAAe3K,GAIxC,IAAM0N,EAAgBD,EAAmBzN,EAJK2N,EAK9B5G,EAAe2G,GACxB9W,EANuC+W,EAMvC/W,QAASC,EAN8B8W,EAM9B9W,MAChB,OAAOuP,EAAAC,EAAAC,cAACkE,GAAA,OAAD,CACLH,QAAM,EACN9D,IAAK3P,EAAQb,GACb8T,MAAOkD,EAAOW,GACd1R,KAAM,CAAC9B,EAAG,EAAGC,EAAG,EAAGoP,QAAS,GAC5BC,GAAI,CAACtP,EAAG,GAAIC,EAAGwS,GAAiBpD,QAAS,GAGzCe,OAAQoD,IAAkBN,EAAkBN,EAA2B,MAErE,SAAAvC,GAAA,IAAErQ,EAAFqQ,EAAErQ,EAAGC,EAALoQ,EAAKpQ,EAAGoP,EAARgB,EAAQhB,QAAR,OAAqBnD,EAAAC,EAAAC,cAACkE,GAAA,SAASC,IAAV,CACnBjE,MAAO,CACL+C,UACAuB,UAAWE,uBAAY,CAAC9Q,EAAGC,GAAI,SAACD,EAAGC,GAAJ,mBAAAkC,OAAuBnC,EAAvB,OAAAmC,OAA8BlC,EAA9B,WAEjCiM,EAAAC,EAAAC,cAACsH,GAAD,CACEhX,QAASA,EACTC,MAAOA,UAcnB+V,GAAgBtH,aAAe,CAC7BuE,MAAO,EACPgD,gBAAiB,GACjBC,8BAA0BhX,GAGb6Q,sBAAKiG,IC1EdpE,GAAUC,aAAUC,OAAV,eAAAvQ,EAAA3C,OAAAmT,GAAA,EAAAnT,CAAAoT,GAAAvC,EAAAwC,KAAiB,SAAAC,EAAOC,EAAMC,EAAQC,GAArB,OAAAL,GAAAvC,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACzBA,EAAK,CACTc,MAAOZ,EAASE,WAChBnN,KAAM,CAAC6R,MAAO,EAAGtE,QAAS,GAC1BC,GAAI,CAACqE,MAAO,EAAGtE,QAAS,GACxBE,OAAQA,UAAOqE,SALc,cAOH,EAPGzE,EAAAN,KAAA,EAQzBA,EAAK,CACT/M,KAAM,CAAC+R,UAFmB,GAG1BvE,GAAI,CAACuE,UAAW,GAChBtE,OAAQ,CAACuE,OAAO,EAAMpE,SAAUqE,OAC/B,GAZ4B,wBAAA5E,EAAAS,SAAAhB,MAAjB,gBAAAiB,EAAAC,EAAAC,GAAA,OAAA9R,EAAAmE,MAAAwI,KAAAjP,YAAA,IA6DVqY,GAAoB,SAAAlH,GAAkC,IAAhC6C,EAAgC7C,EAAhC6C,MAAOO,EAAyBpD,EAAzBoD,oBAGjC,OAAOhE,EAAAC,EAAAC,cAAA,OACLE,MAAO,CACLvM,SAAU,WACV+L,MAAO8B,GACP7B,OAAQ8B,KACP3B,EAAAC,EAAAC,cAAC6H,GAAD,CACD9D,QAAM,EACN+D,QAAM,EACNjF,WAAYU,EACZS,OAAQF,GAEN,SAAC1F,GAAD,MAAW,EA5DKmJ,EA6DCnJ,EAAMmJ,MA7DAtE,EA6DO7E,EAAM6E,QA5DnCnD,EAAAC,EAAAC,cAACkE,GAAA,SAASC,IAAV,CACLlE,IAAK,WACLC,MAAO,CACL+C,QAASA,EACTuB,UAAW+C,EAAM7C,YAAY,SAACqD,GAAD,eAAAhS,OAAgBgS,EAAhB,SAC5BjI,EAAAC,EAAAC,cAAA,OAAKL,OAAO,OAAOD,MAAM,QAC1BI,EAAAC,EAAAC,cAAA,QACEnM,EAAE,KACFmU,SAAS,MACTC,WAAW,MACXtS,KAAK,QACLoM,OAAO,wBACPC,YAAY,MACZkG,eAAe,QACfC,WAAW,SACXC,iBAAiB,UACjBtI,EAAAC,EAAAC,cAAA,SAAOpM,EAAE,OAAT,QACAkM,EAAAC,EAAAC,cAAA,SAAOpM,EAAE,MAAMyU,GAAG,OAAlB,aAMiBZ,EAsCCrJ,EAAMqJ,UArC1BA,EACK3H,EAAAC,EAAAC,cAAA,OAAKL,OAAO,OAAOD,MAAM,OAAOO,IAAK,aAC1CH,EAAAC,EAAAC,cAACkE,GAAA,SAASoE,KAAV,CACEzU,EAAE,KACFD,EAAE,MACFoU,SAAS,MACTC,WAAW,MACXtS,KAAK,QACLoM,OAAO,wBACPC,YAAY,MACZkG,eAAe,QACfC,WAAW,SACXC,iBAAiB,UAEhBX,EAAU/C,YAAY,SAAC/C,GAAD,OAAOhS,KAAKiV,MAAMjD,OAIxC,OAnBe,IAAC8F,EAxBDF,EAAOtE,MAyE/B2E,GAAkB5I,aAAe,CAC/B8E,yBAAqBtU,GAGR6Q,sBAAKuH,ICtELvH,kBAvBS,SAAAxO,GAA2C,IAAzC4O,EAAyC5O,EAAzC4O,eAAgBqD,EAAyBjS,EAAzBiS,oBACxC,OAAOrD,GAAkBA,EAAerR,OAAS0Q,EAAAC,EAAAC,cAACuI,EAAA,SAAD,CAAUtI,IAAK,YAC9DH,EAAAC,EAAAC,cAACwI,GAAD,CACEvI,IAAK,kBACLsD,MAAO,IACPgD,gBAAiB,GACjB9F,eAAgBA,IAElBX,EAAAC,EAAAC,cAACyI,GAAD,CACExI,IAAK,YACLsD,MAAO,IACPO,oBAAqBA,KAIvB,OCLE4E,oLAEF,OAAO5I,EAAAC,EAAAC,cAACuI,EAAA,SAAD,CACLtI,IAAI,YACJH,EAAAC,EAAAC,cAAC2I,GAAD,CACE1I,IAAI,eACNH,EAAAC,EAAAC,cAACyF,GAAD,CACExF,IAAI,gBACJQ,eAAgBjC,KAAKJ,MAAMwK,kBAE7B9I,EAAAC,EAAAC,cAAC6I,GAAD,CACE5I,IAAI,gBACJQ,eAAgBjC,KAAKJ,MAAMlF,eAAe3G,SAC1C8H,WAAYmE,KAAKJ,MAAMlF,eAAemB,WACtCyJ,oBAAqBtF,KAAKJ,MAAM9F,uBAElCwH,EAAAC,EAAAC,cAAC8I,GAAD,CACE7I,IAAI,kBACJQ,eAAgBjC,KAAKJ,MAAM2K,iBAC3BjF,oBAAqBtF,KAAKJ,MAAM4K,sBAnBJjK,iBAyB9BkK,GAAe,GCvCNP,GDiEAQ,YAxBS,SAACtX,GACvB,IAAMgX,EAAkBO,EAAsBlP,sBAAsBrI,GAC9DwX,EAAaC,EAAgB9M,iBAAiB3K,KAAW0X,EAAgBvO,WAAWE,UAC1F,MAAO,CACL2N,gBAAiBQ,EAAaH,GAAeL,EAC7C1P,eAAgBkQ,EAAaH,GAAeE,EAAsB7O,qBAAqB1I,GACvFmX,iBAAkBK,EAAaR,EAAkBK,KAI1B,SAACM,GAAD,MAAe,CACxCjR,qBAAsB,kBAAMiR,EAASC,GAAmBlR,yBACxD0Q,YAAa,kBAAMO,EAASC,GAAmBC,YAYlCP,CAEbR,IEtEWgB,GACL,YADKA,GAEP,UAFOA,GAGJ,aAHIA,GAIL,YAGOC,GAAA,CACbC,MAAO,GACPC,6BAA8B,EAE9BC,KAJa,SAIRC,GACHA,EAASC,iBAAiB,UAAWxL,KAAKyL,WAAWC,KAAK1L,OAAO,GACjEuL,EAASC,iBAAiB,QAASxL,KAAK2L,SAASD,KAAK1L,OAAO,IAE/D4L,OARa,SAQNnK,GACL,IAAMoK,EAAU7L,KAAKoL,MAAM3J,GAC3B,OAAQoK,GAAWA,EAAQD,SAAW,GAExCE,cAZa,SAYCrK,GACZ,IAAMoK,EAAU7L,KAAKoL,MAAM3J,GAC3B,GAAIoK,EAAS,KACJD,EAAkCC,EAAlCD,OAAQG,EAA0BF,EAA1BE,uBACf,OAAQH,IAAWG,EAErB,OAAO,GAETC,cApBa,SAoBCvK,GACZ,IAAMoK,EAAU7L,KAAKoL,MAAM3J,GAC3B,GAAIoK,EAAS,KACJD,EAA0DC,EAA1DD,OAAQK,EAAkDJ,EAAlDI,uBAAwBF,EAA0BF,EAA1BE,uBACvC,GAAIH,EACF,OAAQK,GAA0BjM,KAAKqL,8BACX,IAA3BY,IAAiCF,EAGtC,OAAO,GAETG,qBA/Ba,WAgCXxb,OAAOyb,OAAOnM,KAAKoL,OAAOxY,QAAQ,SAACiZ,GAC5BA,EAAQD,SACXC,EAAQI,uBAAyB,GAEnCJ,EAAQE,wBAAyB,KAGrCJ,SAvCa,SAuCJS,GACP,IAAM3K,EAAM2K,EAAE3K,IACRoK,EAAU7L,KAAKoL,MAAM3J,GACvBoK,IACFA,EAAQD,QAAS,IAGrBH,WA9Ca,SA8CFW,GACT,IAAM3K,EAAM2K,EAAE3K,IACTzB,KAAKoL,MAAM3J,KACdzB,KAAKoL,MAAM3J,GAAOzB,KAAKqM,kBAEzB,IAAMR,EAAU7L,KAAKoL,MAAM3J,GACvBoK,EAAQD,OACVC,EAAQI,0BAERJ,EAAQD,QAAS,EACjBC,EAAQE,wBAAyB,IAGrCM,eA3Da,WA4DX,MAAO,CACLT,QAAQ,EACRK,uBAAwB,EACxBF,wBAAwB,KC3DxBO,GAAmBC,EAAwB1N,WAAa2N,EAAsBtW,UAAY,GAU1FuW,GAAwB,SAAC9V,EAAQxB,EAAU+H,GAC/C,IAAIwP,EAAgB,EAAIvb,KAAKC,MAAMub,EAAoBvQ,gBAAkBkL,GAAkBpK,EAAayP,EAAoBvQ,kBAExH+O,GAASS,OAAOV,MAClBwB,GAAiBE,EAAuBvY,gBAG1C,IAAIwY,EAAe1b,KAAKyM,IAAIzI,EAASE,EAAIqX,EAAeJ,IAExD,GAAIO,IAAiB1X,EAASE,EAAG,CAE/B,IAAMyX,EAAcC,GAAiCF,GAC/CG,EAAkBD,GAAiC5X,EAASE,GAElE,GAAIyX,IAAgBE,EAAiB,CACnC,IAAMC,EAAqBC,EAAyBvK,sBAAsBxN,EAASC,GAC7E+X,EAAcC,EAAkB3W,kBAAkBqW,EAAaG,GAErE,IAAKI,GAAkB1W,EAAQwW,GAAc,CAE3C,MAAQE,GAAkB1W,EAAQwW,IAC5BA,EAAYxb,MAAQqb,GAGxBG,EAAYxb,MAGdkb,EAAeK,EAAyBpK,mBAAmBqK,EAAYxb,OAK7E,OAAOkb,GAGHS,GAAwB,SAAC3W,EAAQxB,GACrC,IAAM1D,EAAcyb,EAAyBvK,sBAAsBxN,EAASC,GACtE5D,EAAWub,GAAiC5X,EAASE,GAEvDkY,EAAiB9b,EAQrB,GANI0Z,GAASa,cAAcd,IACzBqC,EAAiBpc,KAAKyM,IAAInM,EAAc,EAAG+a,EAAsBrW,gBAAkB,GAC1EgV,GAASa,cAAcd,MAChCqC,EAAiBpc,KAAKwM,IAAIlM,EAAc,EAAG,IAGzC8b,IAAmB9b,EAAa,CAClC,IAAM0b,EAAcC,EAAkB3W,kBAAkBjF,EAAU+b,GAE7DH,EAAkBxV,cAAcjB,EAAQwW,KAE3CI,EAAiB9b,GAIrB,OAAO8b,IAAmB9b,EAAc0D,EAASC,EAAI8X,EAAyBnK,sBAAsBwK,IAGhGF,GAAoB,SAAC1W,EAAQwW,GACjC,OAAOC,EAAkBzV,mBAAmBwV,IAAgBC,EAAkBxV,cAAcjB,EAAQwW,IAGhGJ,GAAmC,SAACS,GACxC,IAAMC,EAAeP,EAAyBxK,mBAAmB8K,GACjE,OAAIC,GAAgB,EAESD,EADJN,EAAyBpK,mBAAmB2K,GAE1C,IAAML,EAAkBvV,UAAU4V,IAAiBL,EAAkB3V,gBAAgBgW,GAErGA,EAAe,EAEjBA,EAKF,GClED5X,GAAgB2W,EAAhB3W,YACA0G,GAAeoQ,EAAfpQ,WAiFFmR,GAA+B,SAACta,EAAOua,GAE3C,IAAMxY,EAAWyY,EAAuBlY,eAAetC,EAAOmZ,EAAwB1N,WAChF3J,EAAa0Y,EAAuBhY,iBAAiBxC,GAGrDya,ED3G6B,SAACC,EAAiBnX,EAAQuG,GAC7D,IAAM2Q,EAAc,CAACzY,EAAG0Y,EAAgB1Y,EAAGC,EAAGyY,EAAgBzY,GAI9D,OAHAwY,EAAYzY,EAAIkY,GAAsB3W,EAAQkX,GAC9CA,EAAYxY,EAAIoX,GAAsB9V,EAAQkX,EAAa3Q,GAEpD2Q,ECsGaE,CAAsB5Y,EAF3BwV,EAAsBjP,aAAatI,GAC/B4a,EAAoBlQ,iBAAiB1K,IAGlD6a,EAAeJ,EAAYxY,IAAMF,EAASE,EAC1C6Y,EAAqBL,EAAYzY,IAAMD,EAASC,EAEtD,GAAI6Y,GAAgBC,EAAoB,CACtCP,EAAejc,KAAKyc,GAAqBrZ,YAAY+Y,IAGrD,IAAMO,EAAelB,EAAyBxK,mBAAmBvN,EAASE,GAC1E,IAAsB,IAAlB+Y,EAEF,GAAIA,IADgBlB,EAAyBxK,mBAAmBmL,EAAYxY,GAC1C,CAChC,IAAM/B,EAAe+a,GAA+BC,EAAwBrc,eAC5E0b,EAAejc,KAAK6c,EAAsBtb,gBAAgBK,UAIzD,IAAK2a,EAAc,CACxB,IAAIO,GAAe,EASnB,GAPIrD,GAASS,OAAOV,IAClBsD,GAAe,EAERtZ,GAAc0X,EAAuBxY,wBAC5Coa,GAAe,GAGbA,EAAc,CAChB,IAAMlb,EAAesa,EAAuBzZ,mBAAmBf,GACzD+Z,EAAcD,EAAyB3K,qBAAqBpN,EAASC,EAAGD,EAASE,GACvFsY,EAAejc,KAAK+c,GAAoB7U,mBAAmBtG,EAAc6Z,IACzEQ,EAAejc,KAAKyc,GAAqBpZ,sBAEzC4Y,EAAejc,KAAKyc,GAAqBlZ,yBAKzCoZ,GAAiC,SAACK,GAEtC,IADA,IAAMrX,EAAS,GACN6D,EAAI,EAAGA,EAAIwT,EAAiBxT,IACnC7D,EAAO3F,KAAK+B,EAAavC,wBAE3B,OAAOmG,GAGHrE,GAAiB,CACrBsY,KAtFW,WACX,OAAO,SAACP,EAAU4D,GAEhB,IAAMhB,EAAiB,GAEjBhY,EAAW4W,EAAwB1N,UACnChK,EAAgB,CAAEO,EAAGoX,EAAsBpW,oBAAsBT,EAAUN,GAAIM,GACrFgY,EAAejc,KAAKyc,GAAqBvZ,iBAAiBC,IAE1DkW,EAAS6D,uBAAajB,MA8ExB1C,MA1EY,WACZ,OAAO,SAACF,EAAU4D,GAEhB,IAAMhB,EAAiB,GAEjBkB,EAAsBR,GAA+BC,EAAwBrc,eAC7E6c,EAAqBT,GAA+BzB,EAAuB3a,eAEjF0b,EAAejc,KAAKqd,GAAkBhS,SACtC4Q,EAAejc,KAAKqd,GAAkB/R,UAAUT,GAAWC,UAC3DmR,EAAejc,KAAK+c,GAAoB1Z,iBACxC4Y,EAAejc,KAAK6c,EAAsBtb,gBAAgB4b,IAC1DlB,EAAejc,KAAKyc,GAAqBtZ,iBACzC8Y,EAAejc,KAAKyc,GAAqBlb,gBAAgB6b,IAEzD/D,EAAS6D,uBAAajB,MA4DxBqB,OAvIa,WACb,OAAO,SAACjE,EAAU4D,GAEhB,IAAIhB,EAAiB,GACfva,EAAQub,IAEd,GAAIhE,EAAsB5O,kBAAkB3I,KAAWyC,GAAYC,wBACjE,GAAI6U,EAAsBxO,cAAc/I,GACtCua,EAAejc,KAAKqd,GAAkB/R,UAAUT,GAAWE,gBACtD,CAIL,IAAMoS,EAAsBI,EAAwB9a,mBAAmBf,GACvEua,EAAejc,KAAKyc,GAAqBlb,gBAAgB4b,IACzDlB,EAAejc,KAAK+c,GAAoB1U,iBAAiBlE,GAAYE,aAGhE4U,EAAsB5O,kBAAkB3I,KAAWyC,GAAYE,QAClEoV,GAASW,cAAcZ,KACzByC,EAAejc,KAAKyc,GAAqBnZ,iBAG3C0Y,GAA6Bta,EAAOua,IAGtCxC,GAASe,uBACTnB,EAAS6D,uBAAajB,MA6GxB7T,qBAzG2B,WAC3B,OAAO,SAACiR,EAAU4D,GAEhB,IAAMhB,EAAiB,GACjBva,EAAQub,IAGRO,EADoBvE,EAAsBhP,uBAAuBvI,GAChCxC,OAEvC+c,EAAejc,KAAKqd,GAAkB9R,yBAAyBiS,IAC/DvB,EAAejc,KAAK+c,GAAoB3U,wBAExCiR,EAAS6D,uBAAajB,OC9CX9L,kBA9BgB,SAAAxO,GAAa,IAAX0S,EAAW1S,EAAX0S,MAC/B,OAAOzE,EAAAC,EAAAC,cAAA,OAAKN,MAAM,OAAOC,OAAO,QAC9BG,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,kBAAgBvQ,GAAG,YAAYke,GAAG,IAAIC,GAAG,KACvC9N,EAAAC,EAAAC,cAAA,QAAM6N,OAAO,KAAKC,UAAU,UAC5BhO,EAAAC,EAAAC,cAAA,QAAM6N,OAAO,MAAMC,UAAU,mBAC7BhO,EAAAC,EAAAC,cAAA,QAAM6N,OAAO,OAAOC,UAAU,mBAGlChO,EAAAC,EAAAC,cAAA,QAAMrK,KAAK,kBACToM,OAAO,QACPC,YAAY,MACZkG,eAAe,QACfE,iBAAiB,WACjBtI,EAAAC,EAAAC,cAAA,SACEgI,SAAS,KACTC,WAAW,QAFb,YAGAnI,EAAAC,EAAAC,cAAA,SACEnM,EAAE,MACFmU,SAAS,KACTC,WAAW,SACXE,WAAW,OAAO5D,OCjBpBwJ,oLACK,IACAnS,EAAwB4C,KAAKJ,MAA7BxC,qBACP,OAAOkE,EAAAC,EAAAC,cAAA,OAAKC,IAAI,MACdC,MAAO,CACLvM,SAAU,WACV6L,KAAM,MACNC,IAAK,UAEPK,EAAAC,EAAAC,cAACgO,GAAD,CACE/N,IAAI,UACJsE,MAAO3I,YAXQmD,iBAuBRmK,eANS,SAACtX,GACvB,MAAO,CACLgK,qBAAsBqS,EAAUzR,2BAA2B5K,KAIvB,KAAzBsX,CAA+B6E,ICxBxCG,oLACK,IAAAxI,EACsBlH,KAAKJ,MAA3BzK,EADA+R,EACA/R,SAAUpB,EADVmT,EACUnT,SACjB,OAAOuN,EAAAC,EAAAC,cAAA,OACLC,IAAI,MACJC,MAAO,CACLvM,SAAU,WACV8L,IAAG,GAAA1J,OAAKpC,EAASE,EAAkC,EAA7B+I,EAAiBS,UAApC,MACHmC,KAAI,GAAAzJ,OAAKpC,EAASC,EAAd,QAENkM,EAAAC,EAAAC,cAACsF,GAAD,CACErF,IAAI,SACJQ,eAAgBlO,YAZcuM,IAAMC,eCH7BmP,GD8BAhF,YATS,SAACtX,GACvB,MAAO,CACLW,SAAU6Z,EAAuB3Z,eAAeb,GAChD+B,SAAUyY,EAAuBlY,eAAetC,EAAOgL,EAAiBS,aAIjD,KAEZ6L,CAEbgF,IEhBaC,oLAZX,OAAOrO,EAAAC,EAAAC,cAAA,OAAKC,IAAI,MAAMC,MAAO,CAC3BvM,SAAU,WACVya,SAAU,SACVzO,OAAQ,OACRD,MAAO,SAEPI,EAAAC,EAAAC,cAACqO,GAAD,CAAuBpO,IAAI,UAC3BH,EAAAC,EAAAC,cAACsO,GAAD,CAAyBrO,IAAI,2BATVlB,iBCiBnBwP,GAAa,SAAA1c,GAAY,IAAVtD,EAAUsD,EAAVtD,KACbmT,EAlBiB,SAACnT,GAMxB,IALA,IAAIkK,EAAO,GAIP5E,EAAI,EACC+N,EAAI,EAAGA,GAAKrT,EAAMqT,IACzBnJ,GAAI,IAAA1C,OAAQ,EAAR,IAJkB,GAIalC,GACnC4E,GAAI,IAAA1C,OAAQ6G,EAAiBS,UAAzB,KAAAtH,OALkB,GAKsClC,GAC5DA,GAAK+I,EAAiBS,UAKxB,OAFA5E,GAAQ,IAMSoJ,CAAiBtT,GAClC,OACEuR,EAAAC,EAAAC,cAAA,OAAKC,IAAI,MAAMC,MAAO,CAACvM,SAAU,aAC/BmM,EAAAC,EAAAC,cAAA,OAAKC,IAAI,MAAMP,MAAO9C,EAAiBS,UAAWsC,OAAQpR,EAAOqO,EAAiBS,WAChFyC,EAAAC,EAAAC,cAAA,QAAMpM,EAAE,IAAIC,EAAE,IAAI6L,MAAM,OAAOC,OAAO,OAAOhK,KAAK,cAClDmK,EAAAC,EAAAC,cAAA,KAAG+B,OAAO,QAAQpM,KAAK,OAAOqM,YAAY,KACxClC,EAAAC,EAAAC,cAAA,QAAMiC,EAAGP,KAEX5B,EAAAC,EAAAC,cAAA,QAAMpM,EAAE,IAAIC,EAAE,IAAI6L,MAAM,OAAOC,OAAO,OAAOhK,KAAK,OAAOoM,OAAO,WAAWC,YAAY,SAU/FuM,GAAWvP,aAAe,CACxBzQ,KAAM,GAGO8R,sBAAKkO,IC/BdC,oLACK,IAAA9I,EACqBlH,KAAKJ,MAA1ByC,EADA6E,EACA7E,QAAStO,EADTmT,EACSnT,SAChB,OAAOuN,EAAAC,EAAAC,cAAA,OAAKC,IAAI,OACdH,EAAAC,EAAAC,cAACyO,GAAD,CACExO,IAAI,aACJ1R,KAAM,IAERuR,EAAAC,EAAAC,cAACsF,GAAD,CACErF,IAAI,SACJY,QAASA,EACTJ,eAAgBlO,YAXeuM,IAAMC,eCZ9ByP,GDoCAtF,YAPS,SAACtX,GACvB,MAAO,CACLW,SAAUmc,EAAiBjc,eAAeb,GAC1CiP,QAASwI,EAAgB9M,iBAAiB3K,KAAW0X,EAAgBvO,WAAWC,UAI5C,KAAzBkO,CAA+BsF,IEA/BnO,kBA9BM,SAAAxO,GAAa,IAAX0S,EAAW1S,EAAX0S,MACrB,OAAOzE,EAAAC,EAAAC,cAAA,OAAKN,MAAM,OAAOC,OAAO,QAC9BG,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,kBAAgBvQ,GAAG,WAAWke,GAAG,IAAIC,GAAG,QACtC9N,EAAAC,EAAAC,cAAA,QAAM6N,OAAO,KAAKC,UAAU,UAC5BhO,EAAAC,EAAAC,cAAA,QAAM6N,OAAO,MAAMC,UAAU,YAC7BhO,EAAAC,EAAAC,cAAA,QAAM6N,OAAO,OAAOC,UAAU,WAGlChO,EAAAC,EAAAC,cAAA,QAAMrK,KAAK,iBACToM,OAAO,QACPC,YAAY,MACZkG,eAAe,QACfE,iBAAiB,WACjBtI,EAAAC,EAAAC,cAAA,SACEgI,SAAS,KACTC,WAAW,QAFb,SAGAnI,EAAAC,EAAAC,cAAA,SACEnM,EAAE,MACFmU,SAAS,KACTC,WAAW,SACXE,WAAW,OA1BC,SAAC5D,GACnB,IAAMoK,EAAM,MAAQpK,EACpB,OAAOoK,EAAIC,UAAUD,EAAIvf,OAAS,GAwBVyf,CAAYtK,QCrBhCuK,oLACK,IACAC,EAAcvQ,KAAKJ,MAAnB2Q,WACP,OAAOjP,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAC8O,OAAQ,WAC1BlP,EAAAC,EAAAC,cAAA,OAAKC,IAAI,aACPC,MAAO,CACLvM,SAAU,WACV6L,KAAM,OACNC,IAAK,SAEPK,EAAAC,EAAAC,cAACiP,GAAD,CACEhP,IAAI,aAGRH,EAAAC,EAAAC,cAAA,OAAKC,IAAI,aACPC,MAAO,CACLvM,SAAU,WACV6L,KAAM,OACNC,IAAK,UAEPK,EAAAC,EAAAC,cAACkP,GAAD,CACEjP,IAAI,UACJsE,MAAOwK,aAtBOhQ,iBAmCTmK,eANS,SAACtX,GACvB,MAAO,CACLmd,WAAYd,EAAU5R,iBAAiBzK,KAIH,KAAzBsX,CAA+B4F,ICxCxCK,GAAiB,SAACC,EAAUC,GAChC,OAAOD,EAAWzf,KAAKC,MAAMD,KAAKE,UAAYwf,EAAWD,KAErDlN,GAAUC,aAAUC,OAAV,eAAAvQ,EAAA3C,OAAAmT,GAAA,EAAAnT,CAAAoT,GAAAvC,EAAAwC,KAAiB,SAAAC,EAAOC,EAAMC,EAAQC,GAArB,IAAA2M,EAAAC,EAAAC,EAAA,OAAAlN,GAAAvC,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAN,MAAA,OAIzB+M,EAAa,CACjB9Z,KAAM,CACJkM,EAAGuN,GAJDI,EAAW,GADXD,EAAW,KAMb7K,EAAG0K,GAAeI,EAAUD,GAC5BG,EAAGN,GAAeI,EAAUD,IAE9BnM,OAAOjU,OAAA4E,GAAA,EAAA5E,CAAA,GAAKiU,UAAOuM,KAAb,CAAmBpM,SAAU,OAVN,cAAAP,EAAAN,KAAA,EAavBA,EAAKvT,OAAA4E,GAAA,EAAA5E,CAAA,GACNsgB,EADK,CAERtM,GAAI,CACFtB,EAAGuN,GAAeI,EAAUD,GAC5B7K,EAAG0K,GAAeI,EAAUD,GAC5BG,EAAGN,GAAeI,EAAUD,OAlBH,OAAAvM,EAAAN,KAAA,gCAAAM,EAAAS,SAAAhB,MAAjB,gBAAAiB,EAAAC,EAAAC,GAAA,OAAA9R,EAAAmE,MAAAwI,KAAAjP,YAAA,IA4CD8Q,kBApBS,WACtB,OAAOP,EAAAC,EAAAC,cAAC2P,GAAD,CACL1P,IAAI,UACJ8D,QAAM,GAEJ,SAAArD,GAAA,IAAEkB,EAAFlB,EAAEkB,EAAG6C,EAAL/D,EAAK+D,EAAGgL,EAAR/O,EAAQ+O,EAAR,OAAe3P,EAAAC,EAAAC,cAACkE,GAAA,SAASC,IAAV,CACblE,IAAI,MACJC,MAAO,CACLvM,SAAU,WACV+L,MAAO,OACPC,OAAQ,OACRiQ,gBAAiBlL,uBAAY,CAAC9C,EAAG6C,EAAGgL,GAAI,SAAC7N,EAAG6C,EAAGgL,GAC7C,cAAA1Z,OAAepG,KAAKC,MAAMgS,GAA1B,KAAA7L,OAAgCpG,KAAKC,MAAM6U,GAA3C,KAAA1O,OAAiDpG,KAAKC,MAAM6f,GAA5D,kBCxCGI,GCgDAxP,eA3CA,WAIb,OAAOP,EAAAC,EAAAC,cAAA,OAAKC,IAAI,UAAUC,MAAO,CAC/BvM,SAAU,WACVgM,OAAQ,QACRD,MAAK,GAAA3J,OAAK+Z,IAAL,MACLC,OAAQ,kBACRC,UAAW,4BAEXlQ,EAAAC,EAAAC,cAACiQ,GAAD,CAAgBhQ,IAAI,eACpBH,EAAAC,EAAAC,cAAA,OACEC,IAAI,UACJC,MAAO,CACLvM,SAAU,WACV+L,MAAK,GAAA3J,OAfW,IAeX,MACL4J,OAAQ,SAEVG,EAAAC,EAAAC,cAACkQ,GAAD,CAAUjQ,IAAI,cAEhBH,EAAAC,EAAAC,cAAA,OAAKC,IAAI,YACPC,MAAO,CACLvM,SAAU,WACV8L,IAAK,MACLD,KAAI,GAAAzJ,OAxBY,IAwBZ,MACJ2J,MAAK,GAAA3J,OAxBa,IAwBb,MACL4J,OAAQ,SAEVG,EAAAC,EAAAC,cAACmQ,GAAD,CAAYlQ,IAAI,gBAElBH,EAAAC,EAAAC,cAAA,OAAKC,IAAI,WACPC,MAAO,CACLvM,SAAU,WACV6L,KAAI,GAAAzJ,OAAK+Z,IAAL,MACJpQ,MAAK,GAAA3J,OAhCY,IAgCZ,MACL4J,OAAQ,SAEVG,EAAAC,EAAAC,cAACoQ,GAAD,CAAWnQ,IAAI,kBCvCfoQ,eACJ,SAAAA,EAAYjS,GAAO,IAAAD,EAAA,OAAAjP,OAAAohB,EAAA,EAAAphB,CAAAsP,KAAA6R,IACjBlS,EAAAjP,OAAAqhB,EAAA,EAAArhB,CAAAsP,KAAAtP,OAAAshB,EAAA,EAAAthB,CAAAmhB,GAAAI,KAAAjS,KAAMJ,KAaRsS,iBAAmB,WACjBC,OAAOC,sBAAsBzS,EAAKC,MAAMyS,YACxC1S,EAAK2S,WAAaC,WAAW5S,EAAKuS,iBAAkB,KAdpDvS,EAAK2S,WAAa,KAFD3S,mFAMjBK,KAAKkS,mBACL/G,GAASG,KAAKC,yDAIdiH,aAAaxS,KAAKsS,6CASlB,OACEhR,EAAAC,EAAAC,cAACiR,GAAD,CAAQhR,IAAI,kBAtBAlB,iBAiCZmS,GAAqB,CACzBL,WAAYrH,GAAmBgE,QAGlBtE,eACX,KACAgI,GAFWhI,CAGbmH,+BC7CIc,GAAW,GAOFC,GAAA,CACbC,gBAPsB,SAACC,EAAU3f,GACjCwf,GAASG,GAAY3f,GAOrB4f,YAJkB,kBAAAriB,OAAA4E,GAAA,EAAA5E,CAAA,GAAWiiB,MCWJK,GCRhBH,gBAAgB7gB,GAAiBmB,ICHrB,SAAC6f,GACtBA,EAASH,gBAAgB7gB,GAAiBmB,IFW5C8f,CAA6BD,IGZN,SAACA,GACtBA,EAASH,gBAAgB7gB,GAAiBmB,IHY5C+f,CAAyBF,IIbF,SAACA,GACtBA,EAASH,gBAAgB7gB,EAAiBmB,GJa5CggB,CAA8BH,IAE9B,IKVMI,GAAcC,QACW,cAA7BlB,OAAOmB,SAASC,UAEe,UAA7BpB,OAAOmB,SAASC,UAEhBpB,OAAOmB,SAASC,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,EAAO/O,GAC9BgP,UAAUC,cACPC,SAASH,GACTI,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB7gB,QACfugB,UAAUC,cAAcQ,YAI1BC,QAAQC,IACN,gHAKE3P,GAAUA,EAAO4P,UACnB5P,EAAO4P,SAASR,KAMlBM,QAAQC,IAAI,sCAGR3P,GAAUA,EAAO6P,WACnB7P,EAAO6P,UAAUT,UAO5BU,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,KCtFjE,IAAMC,GNmBUC,uBACVC,yBAPGC,2BAAgBpkB,OAAA4E,GAAA,EAAA5E,CAAA,GAClBsiB,GAASD,iBAOVgC,+BACIC,2BAAgBC,QMrB1BN,GAAM5J,SAASC,GAAmBM,QAClCqJ,GAAM5J,SAASC,GAAmBC,SAElCiK,iBACI5T,EAAAC,EAAAC,cAAC2T,EAAA,EAAD,CAAUR,MAAOA,IACfrT,EAAAC,EAAAC,cAAA,OAAKC,IAAI,MAAMC,MAAO,CACpB8O,OAAQ,SACRtP,MAAO,QACPkU,WAAY,SAEZ9T,EAAAC,EAAAC,cAAC6T,GAAD,CAAK5T,IAAI,UAGX8J,SAAS+J,eAAe,SDFvB,SAAkB3Q,GACvB,GAA6C,kBAAmBgP,UAAW,CAGzE,GADkB,IAAI4B,IAAIC,iBAAwBrD,OAAOmB,SAASmC,MACpDC,SAAWvD,OAAOmB,SAASoC,OAIvC,OAGFvD,OAAO3G,iBAAiB,OAAQ,WAC9B,IAAMkI,EAAK,GAAAnc,OAAMie,iBAAN,sBAEPpC,IAgEV,SAAiCM,EAAO/O,GAEtCgR,MAAMjC,GACHI,KAAK,SAAA8B,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASnb,QACO,MAAfob,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5CrC,UAAUC,cAAcqC,MAAMnC,KAAK,SAAAC,GACjCA,EAAamC,aAAapC,KAAK,WAC7B3B,OAAOmB,SAAS6C,aAKpB1C,GAAgBC,EAAO/O,KAG1B8P,MAAM,WACLJ,QAAQC,IACN,mEArFA8B,CAAwB1C,EAAO/O,GAI/BgP,UAAUC,cAAcqC,MAAMnC,KAAK,WACjCO,QAAQC,IACN,+GAMJb,GAAgBC,EAAO/O,MCrB/BiP","file":"static/js/main.9d728c74.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/crystal-qubodup-ccby3-32-blue.0f3ced6e.png\";","module.exports = __webpack_public_path__ + \"static/media/crystal-qubodup-ccby3-32-green.62ee8639.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/crystal-qubodup-ccby3-32-orange.6fe51ce6.png\";","module.exports = __webpack_public_path__ + \"static/media/crystal-qubodup-ccby3-32-pink.0a128285.png\";","module.exports = __webpack_public_path__ + \"static/media/crystal-qubodup-ccby3-32-yellow.04dee955.png\";","import {\n  createMatrixIndex,\n  isValidRowIndex,\n  isValidColumnIndex,\n} from '../utils';\n\nconst computeHorizontal = (rows, columns) => {\n  const path = [];\n\n  // start top left edge\n  let rowIndex = 0;\n  let columnIndex = 0;\n  let columnIncrement = 1;\n  let rowsToCreate = rows;\n\n  while (rowsToCreate-- > 0) {\n    const pathRow = [];\n\n    while (isValidColumnIndex(columnIndex)) {\n      pathRow.push(createMatrixIndex(rowIndex, columnIndex));\n      columnIndex += columnIncrement;\n    }\n\n    path.push(pathRow);\n\n    rowIndex++;\n    columnIncrement *= -1;\n    columnIndex += columnIncrement;\n  }\n\n  return path;\n};\n\nconst computeVertical = (rows, columns) => {\n  const path = [];\n\n  // start top left edge\n  let rowIndex = 0;\n  let columnIndex = 0;\n  let rowIncrement = 1;\n  let rowsToCreate = columns;\n\n  while (rowsToCreate-- > 0) {\n    const pathRow = [];\n\n    while (isValidRowIndex(rowIndex)) {\n      pathRow.push(createMatrixIndex(rowIndex, columnIndex));\n      rowIndex += rowIncrement;\n    }\n\n    path.push(pathRow);\n\n    columnIndex++;\n    rowIncrement *= -1;\n    rowIndex += rowIncrement;\n  }\n\n  return path;\n};\n\nconst computeDiagonalTopLeft = (rows, columns) => {\n  const path = [];\n\n  // start top left edge\n  let rowIndex = 0;\n  let columnIndex = 0;\n\n  let rowIncrement = 1;\n  let columnIncrement = -1;\n\n  let rowsToCreate = rows + columns - 1;\n\n  while (rowsToCreate-- > 0) {\n    const pathRow = [];\n\n    while (isValidRowIndex(rowIndex) && isValidColumnIndex(columnIndex)) {\n      pathRow.push(createMatrixIndex(rowIndex, columnIndex));\n      rowIndex += rowIncrement;\n      columnIndex += columnIncrement;\n    }\n\n    path.push(pathRow);\n\n    if (rowIndex === rows) {\n      rowIndex--;\n      columnIndex += 2;\n    }\n    if (columnIndex === columns) {\n      columnIndex--;\n      rowIndex += 2;\n    }\n    if (columnIndex === -1) {\n      columnIndex++;\n    }\n    if (rowIndex === -1) {\n      rowIndex++;\n    }\n\n    // change direction\n    rowIncrement *= -1;\n    columnIncrement *= -1;\n  }\n\n  return path;\n};\n\nconst computeDiagonalBottomLeft = (rows, columns) => {\n  const path = [];\n\n  // start bottom left edge\n  let rowIndex = rows - 1;\n  let columnIndex = 0;\n\n  let rowIncrement = -1;\n  let columnIncrement = -1;\n\n  let rowsToCreate = rows + columns - 1;\n\n  while (rowsToCreate-- > 0) {\n    const pathRow = [];\n\n    while (isValidRowIndex(rowIndex) && isValidColumnIndex(columnIndex)) {\n      pathRow.push(createMatrixIndex(rowIndex, columnIndex));\n      rowIndex += rowIncrement;\n      columnIndex += columnIncrement;\n    }\n\n    path.push(pathRow);\n\n    if (columnIndex === columns) {\n      columnIndex--;\n      rowIndex -= 2;\n    }\n    if (rowIndex === rows) {\n      rowIndex--;\n    }\n    if (rowIndex === -1) {\n      rowIndex++;\n      columnIndex += 2;\n    }\n    if (columnIndex === -1) {\n      columnIndex++;\n    }\n\n    // change direction\n    rowIncrement *= -1;\n    columnIncrement *= -1;\n  }\n\n  return path;\n};\n\nconst adjustIndices = (rowOffset, pathMap) => {\n  pathMap.forEach((row) => row.forEach((index) => index.row += rowOffset));\n  return pathMap;\n};\n\nexport const createPathMaps = (rowOffset, rows, columns) => {\n  const horizontal = adjustIndices(rowOffset, computeHorizontal(rows, columns));\n  const vertical = adjustIndices(rowOffset, computeVertical(rows, columns));\n  const diagonalTopLeft = adjustIndices(rowOffset, computeDiagonalTopLeft(rows, columns));\n  const diagonalBottomLeft = adjustIndices(rowOffset, computeDiagonalBottomLeft(rows, columns));\n  return [horizontal, vertical, diagonalTopLeft, diagonalBottomLeft];\n};\n","export const CrystalTypes = {\n  BLUE: 0,\n  GREEN: 1,\n  GREY: 2,\n  ORANGE: 3,\n  PINK: 4,\n  YELLOW: 5,\n}\n;","\nlet counter = 0;\nexport const generateID = () => {\n  return '' + counter++;\n};\n","import {generateID} from '../../utils/IdUtils';\n\nimport {CrystalTypes} from './constants';\n\nconst CRYSTAL_TYPES_COUNT = Object.keys(CrystalTypes).length;\n\nconst createCrystal = (type = undefined) => {\n  return {\n    id: generateID(),\n    type,\n  };\n};\n\nconst getRandomCrystalType = () => {\n  return Math.floor(Math.random() * CRYSTAL_TYPES_COUNT);\n};\n\nexport {\n  createCrystal,\n  getRandomCrystalType,\n}\n;","\nconst cache = [];\nexport const getIndex = (rowIndex, columnIndex) => {\n  while (cache.length <= rowIndex) {\n    cache.push([]);\n  }\n  const row = cache[rowIndex];\n  while (row.length <= columnIndex) {\n    row.push({row: rowIndex, column: row.length});\n  }\n  return row[columnIndex];\n};\n\nconst convertCrystal = (crystal, rowIndex, columnIndex) => {\n  return {\n    crystal,\n    index: getIndex(rowIndex, columnIndex),\n  };\n};\n\nexport {\n  convertCrystal,\n};\n","export const LOCAL_STATE_KEY = 'crystalPreview_2';\n\nexport const CRYSTAL_COUNT = 3\n;","// creates an action creator which creates actions with a payload\nexport const makeActionCreator = (type, ...payloadArgNames) => {\n  return function(...args) {\n    const action = {type, payload: {}};\n    payloadArgNames.forEach((argName, index) => {\n      action.payload[argName] = args[index];\n    });\n    return action;\n  };\n};\n","import {makeActionCreator} from '../../utils/ActionCeatorUtils';\n\nconst actions = {\n  SET_CRYSTAL_TYPES: 'CrystalsPreviewActions::SET_CRYSTAL_TYPES',\n};\n\nconst actionCreators = {\n  setCrystalTypes: makeActionCreator(actions.SET_CRYSTAL_TYPES, 'crystalTypes'),\n};\n\nexport {actionCreators};\nexport default actions;\n","import actions from './actions';\nimport {CRYSTAL_COUNT} from './constants';\nimport {utils as crystalUtils} from '../../crystal';\n\nconst initState = [];\n\nexport const reducer = (state = initState, {type, payload}) => {\n  switch (type) {\n    case actions.SET_CRYSTAL_TYPES:\n      return setCrystalTypes(state, payload.crystalTypes);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n\n\nconst setCrystalTypes = (state, crystalTypes) => {\n  const types = sanitizedTypes(crystalTypes);\n  return types.map((type) => crystalUtils.createCrystal(type));\n};\n\nconst sanitizedTypes = (types) => {\n  return types.length > CRYSTAL_COUNT ? types.slice(0, CRYSTAL_COUNT) : types;\n};\n","import memoizeOne from 'memoize-one';\n\nimport {converters as crystalConverters} from '../../crystal';\n\nimport {LOCAL_STATE_KEY} from './constants';\n\nconst selectLocalState = (state) => {\n  return state[LOCAL_STATE_KEY];\n};\n\nconst convertCrystals = (crystals) => crystals.map((crystal, index) => crystalConverters.convertCrystal(crystal, index, 0));\nconst memoizedConvertCrystals = memoizeOne(convertCrystals);\n\n\nconst selectCrystals = (state) => {\n  const localState = selectLocalState(state);\n  return memoizedConvertCrystals(localState);\n};\n\nconst selectCrystalTypes = (state) => {\n  const localState = selectLocalState(state);\n  return localState.map((crystal) => crystal.type);\n};\n\nexport {\n  selectCrystals,\n  selectCrystalTypes,\n}\n;","export const LOCAL_STATE_KEY = 'movingCrystals';\n\nexport const CRYSTAL_COUNT = 3;\nexport const GROUND_TIME_THRESHOLD = 12;\nexport const FAST_MOVE_DOWN = 70;\n","import {makeActionCreator} from '../../utils/ActionCeatorUtils';\n\nconst actions = {\n  SET_RESET_POSITION: 'MovingCrystalsActions::SET_RESET_POSITION',\n  RESET_POSITION: 'MovingCrystalsActions::RESET_POSITION',\n  SET_CRYSTAL_TYPES: 'MovingCrystalsActions::SET_CRYSTAL_TYPES',\n  CLEAR_CRYSTALS: 'MovingCrystalsActions::CLEAR_CRYSTALS',\n  SET_POSITION: 'MovingCrystalsActions::SET_POSITION',\n  CYCLE_CRYSTALS: 'MovingCrystalsActions::CYCLE_CRYSTALS',\n  INCREMENT_GROUND_TIME: 'MovingCrystalsActions::INCREMENT_GROUND_TIME',\n};\n\nconst actionCreators = {\n  setResetPosition: makeActionCreator(actions.SET_RESET_POSITION, 'position'),\n  resetPosition: makeActionCreator(actions.RESET_POSITION),\n  setPosition: makeActionCreator(actions.SET_POSITION, 'position'),\n  setCrystalTypes: makeActionCreator(actions.SET_CRYSTAL_TYPES, 'crystalTypes'),\n  clearCrystals: makeActionCreator(actions.CLEAR_CRYSTALS),\n  cycleCrystals: makeActionCreator(actions.CYCLE_CRYSTALS),\n  incrementGroundTime: makeActionCreator(actions.INCREMENT_GROUND_TIME),\n};\n\nexport {actionCreators};\nexport default actions;\n","import actions from './actions';\nimport {CRYSTAL_COUNT} from './constants';\nimport {utils as crystalUtils} from '../../crystal';\n\nconst initState = {\n  crystals: [],\n  groundTime: 0,\n  position: {x: 0, y: 0},\n  resetPosition: {x: 0, y: 0},\n};\n\nexport const reducer = (state = initState, {type, payload}) => {\n  switch (type) {\n    case actions.SET_RESET_POSITION:\n      return setResetPosition(state, payload.position);\n    case actions.SET_POSITION:\n      return setPosition(state, payload.position);\n    case actions.SET_CRYSTAL_TYPES:\n      return setCrystalTypes(state, payload.crystalTypes);\n    case actions.CYCLE_CRYSTALS:\n      return cycleCrystals(state);\n    case actions.CLEAR_CRYSTALS:\n      return setCrystalTypes(state, []);\n    case actions.INCREMENT_GROUND_TIME:\n      return incrementGroundTime(state);\n    case actions.RESET_POSITION:\n      return setPosition(state, state.resetPosition);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n\n\nconst setCrystalTypes = (state, crystalTypes) => {\n  const types = sanitizedTypes(crystalTypes);\n  const crystals = types.map((type) => crystalUtils.createCrystal(type));\n  return {...state, crystals, position: state.resetPosition, groundTime: initState.groundTime};\n};\n\nconst sanitizedTypes = (types) => {\n  return types.length > CRYSTAL_COUNT ? types.slice(0, CRYSTAL_COUNT) : types;\n};\n\nconst setPosition = (state, position) => {\n  return {...state, position};\n};\n\nconst setResetPosition = (state, position) => {\n  return {...state, resetPosition: position};\n};\n\nconst cycleCrystals = (state) => {\n  const crystals = [...state.crystals];\n  crystals.unshift(crystals.pop());\n  return {...state, crystals};\n};\n\nconst incrementGroundTime = (state) => {\n  return {...state, groundTime: state.groundTime + 1};\n};\n","import memoizeOne from 'memoize-one';\n\nimport {converters as crystalConverters} from '../../crystal';\n\nimport {LOCAL_STATE_KEY} from './constants';\n\nconst selectLocalState = (state) => {\n  return state[LOCAL_STATE_KEY];\n};\n\nconst selectPosition = (state, cellSize) => {\n  const {position} = selectLocalState(state);\n  // return { x: position.x, y: position.y - (cellSize * 2) }\n  return {x: position.x, y: position.y};\n};\n\nconst convertCrystals = (crystals) => crystals.map((crystal, index) => crystalConverters.convertCrystal(crystal, index, 0));\nconst memoizedConvertCrystals = memoizeOne(convertCrystals);\nconst selectCrystals = (state) => {\n  const {crystals} = selectLocalState(state);\n  return memoizedConvertCrystals(crystals);\n};\n\nconst selectCrystalTypes = (state) => {\n  const {crystals} = selectLocalState(state);\n  return crystals.map((crystal) => crystal.type);\n};\n\nconst selectGroundTime = (state) => {\n  return selectLocalState(state).groundTime;\n};\n\nexport {\n  selectPosition,\n  selectCrystals,\n  selectCrystalTypes,\n  selectGroundTime,\n}\n;","export const LOCAL_STATE_KEY = 'crystalBoard';\n\nexport const BoardStatus = {\n  CRYSTAL_CHAINS_RESOLVED: 'BoardStatus::CRYSTAL_CHAINS_RESOLVED',\n  READY: 'BoardStatus::READY',\n  PENDING_MARKED_CRYSTALS: 'BoardStatus::PENDING_MARKED_CRYSTALS',\n};\n\nexport const NO_CRYSTAL_CONST = undefined;\nexport const ROW_COUNT = 11;\nexport const COLUMNS_PER_ROW = 7;\nexport const MIDDLE_COLUMN_INDEX = 3;\nexport const BUFFER_ZONE_ROW_COUNT = 3;\nexport const MIN_CHAINED_LINKS = 3;\nexport const MIN_CRYSTAL_CHAIN_LENGTH = 3;\n","import {\n  ROW_COUNT,\n  COLUMNS_PER_ROW,\n  NO_CRYSTAL_CONST,\n} from './constants';\n\nexport const isValidCrystal = (crystal) => {\n  return crystal !== NO_CRYSTAL_CONST;\n};\n\nexport const createMatrixIndex = (row, column) => {\n  return {row, column};\n};\n\nexport const getMatrixWidth = (matrix) => {\n  return matrix[0].length;\n};\n\nexport const getMatrixHeight = (matrix) => {\n  return matrix.length;\n};\n\nexport const getMatrixIndex = (matrix, crystalId) => {\n  const index = createMatrixIndex(-1, -1);\n  matrix.some((row, rowIndex) => row.some((crystal, columnIndex) => {\n    if (crystal.id === crystalId) {\n      index.row = rowIndex;\n      index.column = columnIndex;\n      return true;\n    }\n    return false;\n  }));\n  return index;\n};\n\nexport const createMatrix = (rows, columns, initialValue = undefined) => {\n  return Array.from(Array(rows), () => Array(columns).fill(initialValue));\n};\n\nexport const cloneMatrix = (matrix) => {\n  const result = [];\n  matrix.forEach((row, index) => {\nresult[index] = [...row];\n});\n  return result;\n};\n\nexport const flattenMatrix = (matrix) => {\n  return [].concat(...matrix);\n};\n\nexport const isValidRowIndex = (index) => {\n  return index < ROW_COUNT && index > -1;\n};\n\nexport const isValidColumnIndex = (index) => {\n  return index < COLUMNS_PER_ROW && index > -1;\n};\n\nexport const isValidMatrixIndex = (index) => {\n  return isValidRowIndex(index.row) && isValidColumnIndex(index.column);\n};\n\nexport const isEmptyColumn = (matrix, index) => {\n  return !isValidCrystal(matrix[index.row][index.column]);\n};\n\nexport const isLastRow = (rowIndex) => {\n  return rowIndex === ROW_COUNT - 1;\n};\n\n","import {\n  COLUMNS_PER_ROW,\n  MIN_CRYSTAL_CHAIN_LENGTH,\n  NO_CRYSTAL_CONST,\n} from '../constants';\nimport {isValidCrystal, cloneMatrix} from '../utils';\n\nconst EMPTY_ARRAY = [];\n\nconst slideDownFloatingCrystals = (matrix) => {\n  for (let columnIndex = 0; columnIndex < COLUMNS_PER_ROW; columnIndex++) {\n    const newColumnCrystals = slideDownFloatingCrystalsForColumnIndex(matrix, columnIndex);\n    matrix.forEach((row, rowIndex) => row[columnIndex] = newColumnCrystals[rowIndex]);\n  }\n};\n\nconst slideDownFloatingCrystalsForColumnIndex = (matrix, columnIndex) => {\n  const result = [];\n  matrix.forEach((row) => {\n    const crystal = row[columnIndex];\n    if (isValidCrystal(crystal)) {\n      result.push(crystal);\n    } else {\n      result.unshift(NO_CRYSTAL_CONST);\n    }\n  });\n  return result;\n};\n\nconst findChains = (matrix, pathMaps) => {\n  const markedCrystalIdsSet = new Set([]);\n  pathMaps.forEach((pathMap) => markCrystalChains(matrix, markedCrystalIdsSet, pathMap));\n  return markedCrystalIdsSet.size ? Array.from(markedCrystalIdsSet) : EMPTY_ARRAY;\n};\n\nconst markCrystalChain = (chainedCrystalIds, markedCrystalIdsSet) => {\n  if (chainedCrystalIds && chainedCrystalIds.length >= MIN_CRYSTAL_CHAIN_LENGTH) {\n    chainedCrystalIds.forEach((crystalId) => {\n      markedCrystalIdsSet.add(crystalId);\n    });\n  }\n};\n\nconst markCrystalChains = (matrix, markedCrystalIdsSet, pathMap) => {\n  pathMap.forEach((pathRow) => {\n    let crystalType = null;\n    let chainedCrystalIds = [];\n\n    pathRow.forEach((index) => {\n      const crystal = matrix[index.row][index.column];\n\n      if (isValidCrystal(crystal)) {\n        if (crystal.type === crystalType) {\n          chainedCrystalIds.push(crystal.id);\n        } else {\n          markCrystalChain(chainedCrystalIds, markedCrystalIdsSet);\n          crystalType = crystal.type;\n          chainedCrystalIds = [crystal.id];\n        }\n      } else {\n        markCrystalChain(chainedCrystalIds, markedCrystalIdsSet);\n        crystalType = null;\n        chainedCrystalIds = null;\n      }\n    });\n\n    markCrystalChain(chainedCrystalIds, markedCrystalIdsSet);\n  });\n};\n\nconst removeCrystals = (matrix, markedCrystalIds) => {\n  const cleanedMatrix = matrix.map((row) =>\n    row.map((crystal) =>\n      isValidCrystal(crystal) && markedCrystalIds.includes(crystal.id) ? NO_CRYSTAL_CONST : crystal));\n  slideDownFloatingCrystals(cleanedMatrix);\n  return cleanedMatrix;\n};\n\nconst countLinks = (matrix, pathMaps, depthLevel = 0) => {\n  let currentMatrix = cloneMatrix(matrix);\n  let allChainsRemoved = false;\n  let counter = 0;\n\n  const maxCount = depthLevel > 0 ? depthLevel : 100;\n\n  do {\n    const markedCrystalIds = findChains(currentMatrix, pathMaps);\n    if (markedCrystalIds.length) {\n      currentMatrix = removeCrystals(currentMatrix, markedCrystalIds);\n      counter++;\n    } else {\n      allChainsRemoved = true;\n    }\n  }\n  while (!allChainsRemoved && counter < maxCount);\n\n  return counter;\n};\n\nconst removeChains = (matrix, markedCrystalIds) => {\n  if (markedCrystalIds.length) {\n    return removeCrystals(cloneMatrix(matrix), markedCrystalIds);\n  } else {\n    return matrix;\n  }\n};\n\nexport const matrixChecker = {\n  countLinks,\n  removeChains,\n  findChains,\n};\n","import {makeActionCreator as mac} from '../../utils/ActionCeatorUtils';\n\nconst actions = {\n  CLEAR_CRYSTALS: 'CrystalBoardActions::CLEAR_CRYSTALS',\n  ADD_DROPPED_CRYSTALS: 'CrystalBoardActions::ADD_DROPPED_CRYSTALS',\n  SET_CURRENT_STATUS: 'CrystalBoardActions::SET_CURRENT_STATUS',\n  REMOVE_MARKED_CRYSTALS: 'CrystalBoardActions::REMOVE_MARKED_CRYSTALS',\n};\n\nconst actionCreators = {\n  addDroppedCrystals: mac(actions.ADD_DROPPED_CRYSTALS, 'crystalTypes', 'index'),\n  clearCrystals: mac(actions.CLEAR_CRYSTALS),\n  removeMarkedCrystals: mac(actions.REMOVE_MARKED_CRYSTALS),\n  setCurrentStatus: mac(actions.SET_CURRENT_STATUS, 'status'),\n};\n\nexport {actionCreators};\nexport default actions;\n","import {createMatrix, cloneMatrix} from './utils';\nimport {\n  ROW_COUNT,\n  COLUMNS_PER_ROW,\n  MIN_CHAINED_LINKS,\n  BUFFER_ZONE_ROW_COUNT,\n  BoardStatus,\n} from './constants';\nimport {matrixChecker} from './logic/MatrixChecker';\nimport {createPathMaps} from './logic/MatrixPathCreator';\n\nimport actions from './actions';\nimport {utils as crystalUtils} from '../../crystal';\n\nconst PATH_MAPS = createPathMaps(BUFFER_ZONE_ROW_COUNT, ROW_COUNT, COLUMNS_PER_ROW);\n\nconst createEmptyMatrix = () => {\n  return createMatrix(ROW_COUNT + BUFFER_ZONE_ROW_COUNT, COLUMNS_PER_ROW);\n};\n\nconst initState = {\n  matrix: createEmptyMatrix(),\n  status: BoardStatus.READY,\n  markedCrystals: {\n    ids: [],\n    linkOriginId: undefined,\n  },\n};\n\nexport const reducer = (state = initState, {type, payload}) => {\n  switch (type) {\n    case actions.CLEAR_CRYSTALS:\n      return clearCrystals();\n    case actions.ADD_DROPPED_CRYSTALS:\n      return addDroppedCrystals(state, payload.crystalTypes, payload.index);\n    case actions.SET_CURRENT_STATUS:\n      return setCurrentStatus(state, payload.status);\n    case actions.REMOVE_MARKED_CRYSTALS:\n      return removeMarkedCrystals(state);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n\n\nconst removeMarkedCrystals = (state) => {\n  const matrix = matrixChecker.removeChains(state.matrix, state.markedCrystals.ids);\n  return markNextChainedCrystals({...state, matrix});\n};\n\nconst clearMarkedCrystals = (state) => {\n  state = {...state, markedCrystals: initState.markedCrystals};\n  return setCurrentStatus(state, BoardStatus.CRYSTAL_CHAINS_RESOLVED);\n};\n\nconst setMarkedCrystals = (state, ids, linkOriginId = undefined) => {\n  state = {...state, markedCrystals: {ids, linkOriginId}};\n  return setCurrentStatus(state, ids.length ? BoardStatus.PENDING_MARKED_CRYSTALS : BoardStatus.CRYSTAL_CHAINS_RESOLVED);\n};\n\nconst markNextChainedCrystals = (state) => {\n  const markedCrystalIds = matrixChecker.findChains(state.matrix, PATH_MAPS);\n  if (markedCrystalIds.length) {\n    return setMarkedCrystals(state, markedCrystalIds);\n  } else {\n    return clearMarkedCrystals(state);\n  }\n};\n\nconst setCurrentStatus = (state, status) => {\n  return {...state, status};\n};\n\nconst clearCrystals = () => {\n  return initState;\n};\n\nconst markChainedCrystals = (state, droppedCrystalIds) => {\n  const markedCrystalIds = matrixChecker.findChains(state.matrix, PATH_MAPS);\n\n  let linkOriginId = undefined;\n  let links = 0;\n\n  if (markedCrystalIds.length) {\n    links = matrixChecker.countLinks(state.matrix, PATH_MAPS, MIN_CHAINED_LINKS);\n    if (links >= MIN_CHAINED_LINKS) {\n      linkOriginId = droppedCrystalIds.find((id) => markedCrystalIds.includes(id));\n    }\n  }\n\n  return setMarkedCrystals(state, markedCrystalIds, linkOriginId);\n};\n\nconst addDroppedCrystals = (state, crystalTypes, index) => {\n  const matrix = cloneMatrix(state.matrix);\n  const droppedCrystalIds = [];\n  crystalTypes.reverse().forEach((type, i) => {\n    const rowIndex = index.row - i + BUFFER_ZONE_ROW_COUNT;\n    const crystal = crystalUtils.createCrystal(type);\n    matrix[rowIndex][index.column] = crystal;\n    droppedCrystalIds.push(crystal.id);\n  });\n\n  return markChainedCrystals({...state, matrix}, droppedCrystalIds);\n};\n","import {converters as crystalConverters} from '../../crystal';\n\nimport {isValidCrystal} from './utils';\n\nconst EMPTY_ARRAY = Object.freeze([]);\n\nconst convertVisibleCrystals = (matrix, excludedCrystalIds) => {\n  const result = [];\n  matrix.forEach((row, rowIndex) => {\n    row.forEach((crystal, columnIndex) => {\n      if (isValidCrystal(crystal)) {\n        const exclude = excludedCrystalIds.includes(crystal.id);\n        if (!exclude) {\n          const entry = crystalConverters.convertCrystal(crystal, rowIndex, columnIndex);\n          result.push(entry);\n        }\n      }\n    });\n  });\n  return result.length ? result : EMPTY_ARRAY;\n};\n\nconst convertMarkedCrystals = (matrix, markedCrystalIds, linkOriginId) => {\n  const result = {\n    crystals: [],\n    linkOrigin: undefined,\n  };\n  matrix.forEach((row, rowIndex) => {\n    row.forEach((crystal, columnIndex) => {\n      if (isValidCrystal(crystal)) {\n        const isMarked = markedCrystalIds.includes(crystal.id);\n        if (isMarked) {\n          const entry = crystalConverters.convertCrystal(crystal, rowIndex, columnIndex);\n          result.crystals.push(entry);\n          if (crystal.id === linkOriginId) {\n            result.linkOrigin = entry;\n          }\n        }\n      }\n    });\n  });\n\n  if (result.crystals.length === 0) {\n    result.crystals = EMPTY_ARRAY;\n  }\n\n  return result;\n};\n\nexport {\n  convertVisibleCrystals,\n  convertMarkedCrystals,\n};\n","import memoizeOne from 'memoize-one';\n\nimport {LOCAL_STATE_KEY, MIDDLE_COLUMN_INDEX, BUFFER_ZONE_ROW_COUNT} from './constants';\nimport {convertVisibleCrystals, convertMarkedCrystals} from './converters';\nimport {isEmptyColumn, createMatrixIndex} from './utils';\n\nconst selectLocalState = (state) => {\n  return state[LOCAL_STATE_KEY];\n};\n\nconst memoizedConvertVisibleCrystals = memoizeOne(convertVisibleCrystals);\nconst selectVisibleCrystals = (state) => {\n  const matrix = selectMatrix(state);\n  const markedCrystalIds = selectMarkedCrystalIds(state);\n  return memoizedConvertVisibleCrystals(matrix, markedCrystalIds);\n};\n\nconst memoizedConvertMarkedCrystals = memoizeOne(convertMarkedCrystals);\nconst selectMarkedCrystals = (state) => {\n  const matrix = selectMatrix(state);\n  const markedCrystalIds = selectMarkedCrystalIds(state);\n  const localState = selectLocalState(state);\n  const linkOriginId = localState.markedCrystals.linkOriginId;\n  return memoizedConvertMarkedCrystals(matrix, markedCrystalIds, linkOriginId);\n};\n\nconst selectMarkedCrystalIds = (state) => {\n  const localState = selectLocalState(state);\n  return localState.markedCrystals.ids;\n};\n\nconst selectBoardStatus = (state) => {\n  return selectLocalState(state).status;\n};\n\nconst memoizedSlice = memoizeOne((matrix) => matrix.slice(BUFFER_ZONE_ROW_COUNT));\nconst selectMatrix = (state) => {\n  const matrix = selectMatrixIncludingBuffer(state);\n  return memoizedSlice(matrix);\n};\n\nconst selectMatrixIncludingBuffer = (state) => {\n  return selectLocalState(state).matrix;\n};\n\nconst ENTER_MATRIX_INDEX = createMatrixIndex(BUFFER_ZONE_ROW_COUNT, MIDDLE_COLUMN_INDEX);\nconst isBoardFilled = (state) => {\n  const matrix = selectMatrixIncludingBuffer(state);\n  return !isEmptyColumn(matrix, ENTER_MATRIX_INDEX);\n};\n\nexport {\n  isBoardFilled,\n  selectBoardStatus,\n  selectMatrix,\n  selectVisibleCrystals,\n  selectMarkedCrystals,\n  selectMarkedCrystalIds,\n}\n;","export const LOCAL_STATE_KEY = 'gameState_2';\n\nexport const MAX_SPEED_LEVEL = 7;\nexport const MIN_SPEED_LEVEL = 1;\nexport const RECOVERY_SPEED_LEVEL = 4;\n\nexport const GameStatus = {\n  RUNNING: 'GameStatus::RUNNING',\n  GAME_OVER: 'GameStatus::GAME_OVER',\n  PAUSED: 'GameStatus::PAUSED',\n  UNINITIALIZED: 'GameStatus::UNINITIALIZED',\n};\n","import {makeActionCreator} from '../../utils/ActionCeatorUtils';\n\nconst actions = {\n  SET_STATUS: 'GameStatusActions::SET_STATUS',\n  RESET: 'GameStatusActions::RESET',\n  INCREMENT_CLEARED_CRYSTALS: 'GameStatusActions::INCREMENT_CLEARED_CRYSTALS',\n};\n\nconst actionCreators = {\n  reset: makeActionCreator(actions.RESET),\n  setStatus: makeActionCreator(actions.SET_STATUS, 'status'),\n  incrementClearedCrystals: makeActionCreator(actions.INCREMENT_CLEARED_CRYSTALS, 'incrementBy'),\n};\n\nexport {actionCreators};\nexport default actions\n;","import actions from './actions';\nimport {\n  GameStatus,\n  MIN_SPEED_LEVEL,\n  MAX_SPEED_LEVEL,\n  RECOVERY_SPEED_LEVEL,\n} from './constants';\n\nconst initState = {\n  status: GameStatus.UNINITIALIZED,\n  speedLevel: MIN_SPEED_LEVEL,\n  level: 1,\n  clearedCrystalsCount: 0,\n};\n\nconst calculateNextLevelThreshold = (level) => {\n  return level * 30;\n};\n\nexport const reducer = (state = initState, {type, payload}) => {\n  switch (type) {\n    case actions.SET_STATUS:\n      return setGameStatus(state, payload.status);\n    case actions.INCREMENT_CLEARED_CRYSTALS:\n      return incrementClearedCrystals(state, payload.incrementBy);\n    case actions.RESET:\n      return reset(state);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n\nconst reset = (state) => {\n  return initState;\n};\n\nconst setGameStatus = (state, status) => {\n  return {...state, status};\n};\n\nconst incrementClearedCrystals = (state, incrementBy) => {\n  const clearedCrystalsCount = state.clearedCrystalsCount + incrementBy;\n  const level = recalcLevel(state.level, clearedCrystalsCount);\n  const speedLevel = level === state.level ? state.speedLevel : getNextSpeedLevel(state.speedLevel);\n  return {\n    ...state,\n    clearedCrystalsCount,\n    level,\n    speedLevel,\n  };\n};\n\nconst recalcLevel = (currentLevel, clearedCrystals) => {\n  const threshold = calculateNextLevelThreshold(currentLevel);\n  return clearedCrystals < threshold ? currentLevel : currentLevel + 1;\n};\n\nconst getNextSpeedLevel = (speedLevel) => {\n  if (speedLevel >= MAX_SPEED_LEVEL) {\n    return Math.max(MIN_SPEED_LEVEL, RECOVERY_SPEED_LEVEL);\n  }\n\n  return Math.min(MAX_SPEED_LEVEL, speedLevel + 1);\n};\n","import {LOCAL_STATE_KEY} from './constants';\n\nconst selectLocalState = (state) => {\n  return state[LOCAL_STATE_KEY];\n};\n\nconst selectLevelCount = (state) => {\n  return selectLocalState(state).level;\n};\n\nconst selectSpeedLevel = (state) => {\n  return selectLocalState(state).speedLevel;\n};\n\nconst selectGameStatus = (state) => {\n  return selectLocalState(state).status;\n};\n\nconst selectClearedCrystalsCount = (state) => {\n  return selectLocalState(state).clearedCrystalsCount;\n};\n\nexport {\n  selectClearedCrystalsCount,\n  selectGameStatus,\n  selectLevelCount,\n  selectSpeedLevel,\n}\n;","import BlueCrystalSprites from './resources/crystal-qubodup-ccby3-32-blue.png';\nimport GreenCrystalSprites from './resources/crystal-qubodup-ccby3-32-green.png';\nimport GreyCrystalSprites from './resources/crystal-qubodup-ccby3-32-grey.png';\nimport OrangeCrystalSprites from './resources/crystal-qubodup-ccby3-32-orange.png';\nimport PinkCrystalSprites from './resources/crystal-qubodup-ccby3-32-pink.png';\nimport YellowCrystalSprites from './resources/crystal-qubodup-ccby3-32-yellow.png';\nimport {constants as crystalConstants} from '../../../domains/crystal';\n\nexport const CRYSTAL_SPRITE_MAP = {\n  [crystalConstants.CrystalTypes.NONE]: null,\n  [crystalConstants.CrystalTypes.BLUE]: BlueCrystalSprites,\n  [crystalConstants.CrystalTypes.GREEN]: GreenCrystalSprites,\n  [crystalConstants.CrystalTypes.GREY]: GreyCrystalSprites,\n  [crystalConstants.CrystalTypes.ORANGE]: OrangeCrystalSprites,\n  [crystalConstants.CrystalTypes.PINK]: PinkCrystalSprites,\n  [crystalConstants.CrystalTypes.YELLOW]: YellowCrystalSprites,\n};\n\nexport const SPRITE_FRAMES = 8;\nexport const CELL_SIZE = 31;\nexport const SPRITE_FRAME_SIZE = CELL_SIZE + 1;\n","import PropTypes from 'prop-types';\n\nexport const CRYSTAL = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  type: PropTypes.number.isRequired,\n});\n\nexport const MATRIX_INDEX = PropTypes.shape({\n  row: PropTypes.number.isRequired,\n  column: PropTypes.number.isRequired,\n});\n\nexport const MATRIX_CRYSTAL = PropTypes.shape({\n  crystal: CRYSTAL.isRequired,\n  index: MATRIX_INDEX.isRequired,\n});\n\nexport const MATRIX_CRYSTAL_LIST = PropTypes.arrayOf(MATRIX_CRYSTAL);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass SpriteLooper extends React.PureComponent {\n  static propTypes = {\n    frameCount: PropTypes.number.isRequired,\n    frameDelay: PropTypes.number.isRequired,\n    playing: PropTypes.bool,\n    children: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    playing: true,\n  }\n\n  state = {\n    currentFrame: 0,\n  }\n\n  componentDidMount() {\n    this.intervallId = setInterval(this.nextFrame, this.props.frameDelay);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervallId);\n  }\n\n  nextFrame = () => {\n    if (this.props.playing) {\n      const {frameCount} = this.props;\n      const {currentFrame} = this.state;\n      const nextFrame = currentFrame + 1;\n      this.setState({currentFrame: nextFrame >= frameCount ? 0 : nextFrame});\n    }\n  }\n\n  render() {\n    const {children} = this.props;\n    const {currentFrame} = this.state;\n    return children(currentFrame);\n  }\n}\n\nexport default SpriteLooper\n;\n","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\n\nconst SpriteSheet = ({spriteSource, x, y, spriteWidth, spriteHeight, spriteColumnIndex, spriteRowIndex}) => {\n  const styles = {\n    position: 'absolute',\n    left: `${x}px`,\n    top: `${y}px`,\n    width: `${spriteWidth}px`,\n    height: `${spriteHeight}px`,\n    objectFit: 'none',\n    objectPosition: `-${spriteColumnIndex * spriteWidth}px -${spriteRowIndex * spriteHeight}px`,\n  };\n  return (\n    <img key=\"image\" style={styles} src={spriteSource} alt=\"\" />\n  );\n};\n\nSpriteSheet.propTypes = {\n  x: PropTypes.number,\n  y: PropTypes.number,\n  spriteRowIndex: PropTypes.number,\n  spriteColumnIndex: PropTypes.number,\n  spriteWidth: PropTypes.number.isRequired,\n  spriteHeight: PropTypes.number.isRequired,\n  spriteSource: PropTypes.string.isRequired,\n};\n\nSpriteSheet.defaultProps = {\n  x: 0,\n  y: 0,\n  spriteRowIndex: 0,\n  spriteColumnIndex: 0,\n};\n\nexport default memo(SpriteSheet)\n;","import SpriteLooper from './internal/components/SpriteLooper';\nimport SpriteSheet from './internal/components/SpriteSheet';\n\nexport {SpriteLooper};\nexport default SpriteSheet\n;\n","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\n\nimport SpriteSheet from '../../../sprite';\n\nimport {\n  CRYSTAL,\n  MATRIX_INDEX,\n} from './prop-types';\nimport {\n  CELL_SIZE,\n  SPRITE_FRAME_SIZE,\n  CRYSTAL_SPRITE_MAP,\n} from '../constants';\n\nconst CrystalSprite = ({crystal, index, frameIndex}) => {\n  const spriteSource = CRYSTAL_SPRITE_MAP[crystal.type];\n  return spriteSource ?\n    <SpriteSheet\n      key=\"sprite\"\n      x={index.column * CELL_SIZE}\n      y={index.row * CELL_SIZE}\n      spriteSource={spriteSource}\n      spriteWidth={SPRITE_FRAME_SIZE}\n      spriteHeight={SPRITE_FRAME_SIZE}\n      spriteColumnIndex={frameIndex} />\n    :\n    null;\n};\n\nCrystalSprite.propTypes = {\n  frameIndex: PropTypes.number,\n  crystal: CRYSTAL.isRequired,\n  index: MATRIX_INDEX.isRequired,\n};\n\nCrystalSprite.defaultProps = {\n  frameIndex: 0,\n};\n\nexport default memo(CrystalSprite);\n","import React, {memo} from 'react';\n\nimport CrystalSprite from './CrystalSprite';\nimport {MATRIX_CRYSTAL_LIST} from './prop-types';\n\nconst CrystalMatrix = ({matrixCrystals}) => {\n  return matrixCrystals.map(({crystal, index}) => <CrystalSprite\n    key={crystal.id}\n    crystal={crystal}\n    index={index}\n  />);\n};\n\nCrystalMatrix.propTypes = {\n  matrixCrystals: MATRIX_CRYSTAL_LIST.isRequired,\n};\n\nexport default memo(CrystalMatrix);\n","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {SpriteLooper} from '../../../sprite';\n\nimport CrystalSprite from './CrystalSprite';\nimport {MATRIX_CRYSTAL_LIST} from './prop-types';\nimport {SPRITE_FRAMES} from '../constants';\n\nconst AnimatedCrystalMatrix = ({animate, matrixCrystals}) => {\n  return matrixCrystals && matrixCrystals.length ?\n    <SpriteLooper\n      key=\"looper\"\n      playing={animate}\n      frameCount={SPRITE_FRAMES}\n      frameDelay={1000 / SPRITE_FRAMES}>\n      {\n        (frameIndex) => matrixCrystals.map(({crystal, index}) => <CrystalSprite\n          key={crystal.id}\n          crystal={crystal}\n          index={index}\n          frameIndex={frameIndex}\n        />)\n      }\n    </SpriteLooper>\n    : null;\n};\n\nAnimatedCrystalMatrix.propTypes = {\n  matrixCrystals: MATRIX_CRYSTAL_LIST,\n  animate: PropTypes.bool,\n};\n\nAnimatedCrystalMatrix.defaultProps = {\n  animate: true,\n};\n\nexport default memo(AnimatedCrystalMatrix);\n","import * as constants from './internal/constants';\nimport * as propTypes from './internal/components/prop-types';\nimport CrystalSprite from './internal/components/CrystalSprite';\nimport CrystalMatrix from './internal/components/CrystalMatrix';\nimport AnimatedCrystalMatrix from './internal/components/AnimatedCrystalMatrix';\n\nexport {AnimatedCrystalMatrix, CrystalMatrix, constants, propTypes};\nexport default CrystalSprite;\n","import {\n  constants as crystalConstants,\n} from '../../crystal';\nimport {\n  utils as crystalBoardDomainUtils,\n  constants as crystalBoardDomainConstants,\n} from '../../../domains/crystal-board';\n\nexport const convertToMatrixIndex = (xPosition, yPosition) => {\n  const rowIndex = convertYToRowIndex(yPosition);\n  const columnIndex = convertXToColumnIndex(xPosition);\n  return crystalBoardDomainUtils.createMatrixIndex(rowIndex, columnIndex);\n};\n\nexport const convertXToColumnIndex = (xPosition) => {\n  return Math.min(crystalBoardDomainConstants.COLUMNS_PER_ROW - 1, Math.floor(xPosition / crystalConstants.CELL_SIZE));\n};\n\nexport const convertYToRowIndex = (yPosition) => {\n  return Math.min(crystalBoardDomainConstants.ROW_COUNT - 1, Math.floor(yPosition / crystalConstants.CELL_SIZE));\n};\n\nexport const convertRowIndexToY = (rowIndex) => {\n  return rowIndex * crystalConstants.CELL_SIZE;\n};\n\nexport const convertColumnIndexToX = (columnIndex) => {\n  return columnIndex * crystalConstants.CELL_SIZE;\n};\n","import {\n  constants as crystalConstants,\n} from '../../crystal';\nimport {\n  constants as crystalBoardDomainConstants,\n} from '../../../domains/crystal-board';\n\nexport const BOARD_WIDTH = crystalBoardDomainConstants.COLUMNS_PER_ROW * crystalConstants.CELL_SIZE;\nexport const BOARD_HEIGHT = crystalBoardDomainConstants.ROW_COUNT * crystalConstants.CELL_SIZE\n;\n","import React, {memo} from 'react';\n\nimport {\n  BOARD_HEIGHT,\n  BOARD_WIDTH,\n} from '../constants';\nimport {\n  constants as crystalConstants,\n} from '../../../crystal';\nimport {\n  constants as crystalBoardDomainConstants,\n} from '../../../../domains/crystal-board';\n\nconst generateGridPath = () => {\n  let path = '';\n\n  const halfStrokeWidth = 1 / 2;\n\n  let x = 0;\n  for (let c = 0; c <= crystalBoardDomainConstants.COLUMNS_PER_ROW; c++) {\n    path += `M${halfStrokeWidth + x},${0}`;\n    path += `L${halfStrokeWidth + x},${BOARD_HEIGHT}`;\n    x += crystalConstants.CELL_SIZE;\n  }\n\n  let y = 0;\n  for (let r = 0; r <= crystalBoardDomainConstants.ROW_COUNT; r++) {\n    path += `M${0},${halfStrokeWidth + y}`;\n    path += `L${BOARD_WIDTH},${halfStrokeWidth + y}`;\n    y += crystalConstants.CELL_SIZE;\n  }\n\n  path += 'Z';\n\n  return path;\n};\n\nconst Background = () => {\n  const gridPath = generateGridPath();\n  return (\n    <div style={{position: 'absolute'}}>\n      <svg width={BOARD_WIDTH} height={BOARD_HEIGHT}>\n        <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"lightGray\" />\n        <rect x={crystalBoardDomainConstants.MIDDLE_COLUMN_INDEX * crystalConstants.CELL_SIZE} y=\"0\" width={crystalConstants.CELL_SIZE} height=\"100%\" fill=\"#a1c5da\" fillOpacity=\"0.4\" />\n        <g stroke=\"white\" fill=\"none\" strokeWidth=\"1\">\n          <path d={gridPath} />\n        </g>\n        <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"darkGray\" strokeWidth=\"2\" />\n      </svg>\n    </div>\n  );\n};\n\nexport default memo(Background)\n;","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\nimport {Keyframes, animated} from 'react-spring/renderprops';\n\nconst Content = Keyframes.Spring(async (next, cancel, ownProps) => {\n  const {repeats, startDelay} = ownProps;\n  for (let i = 0; i < repeats; i++) {\n    await next({\n      from: {opacity: 1},\n      to: {opacity: 0},\n      config: {tension: 1200, friction: 120, duration: 100, delay: i === 0 ? startDelay : ownProps.delay},\n    });\n    await next({\n      to: {opacity: 1},\n      config: {tension: 1200, friction: 120, duration: 100},\n    }, i === repeats - 1);\n  }\n});\n\nconst Blink = ({repeatCount, delay, onAnimationFinished, children}) => {\n  return <Content\n    native\n    reset\n    repeats={repeatCount}\n    startDelay={delay}\n    onRest={onAnimationFinished}>\n    {\n      ({opacity}) => <animated.div\n        style={{opacity}}>\n        {\n          children\n        }\n      </animated.div>\n    }\n  </Content>;\n};\n\nBlink.propTypes = {\n  delay: PropTypes.number,\n  repeatCount: PropTypes.number,\n  onAnimationFinished: PropTypes.func,\n};\n\nBlink.defaultProps = {\n  delay: 0,\n  repeatCount: 1,\n  onAnimationFinished: undefined,\n};\n\nexport default memo(Blink)\n;","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\nimport {Spring, animated} from 'react-spring/renderprops';\n\nimport {\n  propTypes,\n  constants as crystalConstants,\n} from '../../../../crystal';\nimport {\n  convertColumnIndexToX,\n  convertRowIndexToY,\n} from '../../utils';\nimport {\n  BOARD_HEIGHT,\n  BOARD_WIDTH,\n} from '../../constants';\n\nconst generateLightBeamPoints = (length) => {\n  const h = 60;\n  return `0,0 ${length},${-(h / 2)} ${length},${+(h / 2)}`;\n};\n\nconst renderLightBeams = (length) => {\n  const points = generateLightBeamPoints(length);\n  return [0, 90, 180, 270].map((rotation) => <polygon\n    key={rotation}\n    fill=\"yellow\"\n    fillOpacity=\"0.7\"\n    transform={`rotate(${rotation} 0 0)`}\n    points={points} />);\n};\n\nconst LightBeams = ({matrixCrystal, duration, onAnimationFinished}) => {\n  const {index} = matrixCrystal;\n  const halfCellSize = crystalConstants.CELL_SIZE / 2;\n  const x = convertColumnIndexToX(index.column) + halfCellSize;\n  const y = convertRowIndexToY(index.row) + halfCellSize;\n\n  return <Spring\n    native\n    reset\n    from={{value: 0}}\n    to={{value: 1}}\n    config={{tension: 1200, friction: 80, duration: duration}}\n    onRest={onAnimationFinished}>\n    {\n      ({value}) => <svg width={BOARD_WIDTH} height={BOARD_HEIGHT}>\n        <g transform={`translate(${x},${y})`}>\n          <animated.g style={{\n            opacity: value.interpolate((v) => v >= 1 ? 0 : 1),\n            transform: value.interpolate((v) => `rotate(${Math.round(v * 360)}deg)`),\n          }}>\n            {\n              renderLightBeams(BOARD_HEIGHT + crystalConstants.CELL_SIZE)\n            }\n          </animated.g>\n        </g>\n      </svg>\n    }\n  </Spring>;\n};\n\nLightBeams.propTypes = {\n  matrixCrystal: propTypes.MATRIX_CRYSTAL.isRequired,\n  duration: PropTypes.number,\n  onAnimationFinished: PropTypes.func,\n};\n\nLightBeams.defaultProps = {\n  duration: 500,\n  onAnimationFinished: undefined,\n};\n\nexport default memo(LightBeams)\n;","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { propTypes, AnimatedCrystalMatrix, CrystalMatrix } from '../../../crystal'\n\nimport Blink from './animations/Blink'\nimport LightBeams from './animations/LightBeams'\n\nclass RemoveOverlay extends React.PureComponent {\n  state = {\n    lightBeamFinished: false,\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ lightBeamFinished: false })\n  }\n\n  markLightBeamAsFinished = () => {\n    this.setState({ lightBeamFinished: true })\n  }\n\n  renderCrystalsWithLightBeams(matrixCrystals, linkOrigin, onAnimationFinished) {\n    const lightBeamsDuration = 2000\n    return <React.Fragment key=\"fragment\">\n      <AnimatedCrystalMatrix\n        key=\"animatedMatrix\"\n        matrixCrystals={matrixCrystals} />\n      <div key=\"div\" style={{ position: 'absolute' }}>\n        <LightBeams\n          key=\"lightBeams\"\n          onAnimationFinished={onAnimationFinished}\n          matrixCrystal={linkOrigin}\n          duration={lightBeamsDuration}\n        />\n      </div>\n    </React.Fragment>\n  }\n\n  renderBlinkingCrystals(matrixCrystals, onAnimationFinished) {\n    return <Blink\n      key=\"blink\"\n      delay={250}\n      repeatCount={3}\n      onAnimationFinished={onAnimationFinished}>\n      {\n        <CrystalMatrix\n          key=\"matrix\"\n          matrixCrystals={matrixCrystals} />\n      }\n    </Blink>\n  }\n\n  render() {\n    const { matrixCrystals, linkOrigin, onAnimationFinished } = this.props\n\n    if (matrixCrystals && matrixCrystals.length) {\n      if (linkOrigin) {\n        if (this.state.lightBeamFinished) {\n          return this.renderBlinkingCrystals(matrixCrystals, onAnimationFinished)\n        } else {\n          return this.renderCrystalsWithLightBeams(matrixCrystals, linkOrigin, this.markLightBeamAsFinished)\n        }\n      } else {\n        return this.renderBlinkingCrystals(matrixCrystals, onAnimationFinished)\n      }\n    }\n    return null\n  }\n}\n\nRemoveOverlay.propTypes = {\n  matrixCrystals: propTypes.MATRIX_CRYSTAL_LIST.isRequired,\n  linkOrigin: propTypes.MATRIX_CRYSTAL,\n  onAnimationFinished: PropTypes.func,\n}\n\nRemoveOverlay.defaultProps = {\n  matrixCrystals: [],\n  linkOrigin: undefined,\n  lightBeamsIndex: undefined,\n  onAnimationFinished: undefined,\n}\n\nexport default RemoveOverlay","/* eslint-disable */\n// copied from https://gist.github.com/gre/1650294\nexport default {\n  // no easing, no acceleration\n  linear: function (t) { return t },\n  // accelerating from zero velocity\n  easeInQuad: function (t) { return t*t },\n  // decelerating to zero velocity\n  easeOutQuad: function (t) { return t*(2-t) },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function (t) { return t<.5 ? 2*t*t : -1+(4-2*t)*t },\n  // accelerating from zero velocity \n  easeInCubic: function (t) { return t*t*t },\n  // decelerating to zero velocity \n  easeOutCubic: function (t) { return (--t)*t*t+1 },\n  // acceleration until halfway, then deceleration \n  easeInOutCubic: function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 },\n  // accelerating from zero velocity \n  easeInQuart: function (t) { return t*t*t*t },\n  // decelerating to zero velocity \n  easeOutQuart: function (t) { return 1-(--t)*t*t*t },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function (t) { return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t },\n  // accelerating from zero velocity\n  easeInQuint: function (t) { return t*t*t*t*t },\n  // decelerating to zero velocity\n  easeOutQuint: function (t) { return 1+(--t)*t*t*t*t },\n  // acceleration until halfway, then deceleration \n  easeInOutQuint: function (t) { return t<.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t },\n}","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\nimport {Spring, animated, interpolate} from 'react-spring/renderprops';\n\nimport Easing from '../../../../utils/Easing';\nimport {\n  constants as crystalBoardDomainConstants,\n} from '../../../../../domains/crystal-board';\n\nimport CrystalSprite, {propTypes, constants as crystalConstants} from '../../../../crystal';\n\n// time-per-row-increment\nconst rowProgressIncrement = 1 / (crystalBoardDomainConstants.ROW_COUNT - 1);\n// time-per-column-increment\nconst columnProgressIncrement = 1 / (crystalBoardDomainConstants.COLUMNS_PER_ROW - 1);\n// total amount of extra time for all rows\n// for each row a slice of this time will be consumed\nconst rowsDuration = crystalBoardDomainConstants.ROW_COUNT * 100;\n// total amount of extra time for all columns of a single row\n// for each column a slice of this time will be consumed\nconst columnsDuration = crystalBoardDomainConstants.COLUMNS_PER_ROW * 60;\n// extra weight which is added to the delay of a column\nconst columnExtraWeights = [1, -0.1, 0, 0, 0, 0, 0];\n// the offscreen target position\nconst targetYPosition = (crystalBoardDomainConstants.ROW_COUNT + 1) * crystalConstants.CELL_SIZE;\n\nconst computeDelays = (matrixCrystals, startDelay, minCrystalDelay) => {\n  return matrixCrystals.map(({index}) => {\n    const rowDelay = rowsDuration * Easing.easeOutQuad(index.row * rowProgressIncrement);\n    const time = (index.column * columnProgressIncrement) + columnExtraWeights[index.column];\n    const crystalDelay = minCrystalDelay + (columnsDuration * Easing.linear(time));\n    return startDelay + rowDelay + crystalDelay;\n  });\n};\n\nconst FallingCrystals = ({matrixCrystals, delay, minCrystalDelay, animationFinishedHandler}) => {\n  const delays = computeDelays(matrixCrystals, delay, minCrystalDelay);\n  const indexOfMaxDelay = delays.reduce((maxIndex, entry, valueIndex, array) => entry > array[maxIndex] ? valueIndex : maxIndex, 0);\n  const lastCrystalIndex = matrixCrystals.length - 1;\n  return matrixCrystals.map((matrixCrystal, i) => {\n    // The expected order of the crystals is from left to right and from top to bottom.\n    // The rendering order of the crystals is reversed so that the bottom crystals are rendered first\n    // --> falling crystals (falling from top to bottom) will be in front of the crystals that have not yet fallen\n    const reversedIndex = lastCrystalIndex - i;\n    matrixCrystal = matrixCrystals[reversedIndex];\n    const {crystal, index} = matrixCrystal;\n    return <Spring\n      native\n      key={crystal.id}\n      delay={delays[reversedIndex]}\n      from={{x: 0, y: 0, opacity: 1}}\n      to={{x: 50, y: targetYPosition, opacity: 0}}\n      // It is not garanteed that the spring with the highest delay ends as the last one.\n      // But it should be ok.\n      onRest={reversedIndex === indexOfMaxDelay ? animationFinishedHandler : null}>\n      {\n        ({x, y, opacity}) => <animated.div\n          style={{\n            opacity,\n            transform: interpolate([x, y], (x, y) => `translate(${x}px,${y}px)`),\n          }}>\n          <CrystalSprite\n            crystal={crystal}\n            index={index} />\n        </animated.div>\n      }\n    </Spring>;\n  });\n};\n\nFallingCrystals.propTypes = {\n  matrixCrystals: propTypes.MATRIX_CRYSTAL_LIST.isRequired,\n  delay: PropTypes.number,\n  minCrystalDelay: PropTypes.number,\n  animationFinishedHandler: PropTypes.func,\n};\n\nFallingCrystals.defaultProps = {\n  delay: 0,\n  minCrystalDelay: 45,\n  animationFinishedHandler: undefined,\n};\n\nexport default memo(FallingCrystals)\n;","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\nimport {Keyframes, animated, config} from 'react-spring/renderprops';\n\nimport {\n  BOARD_HEIGHT,\n  BOARD_WIDTH,\n} from '../../constants';\n\nconst Content = Keyframes.Spring(async (next, cancel, ownProps) => {\n  await next({\n    delay: ownProps.startDelay,\n    from: {scale: 0, opacity: 0},\n    to: {scale: 1, opacity: 1},\n    config: config.wobbly,\n  });\n  const countdownStartValue = 3;\n  await next({\n    from: {countdown: countdownStartValue},\n    to: {countdown: 0},\n    config: {clamp: true, duration: countdownStartValue * 1000},\n  }, true);\n});\n\nconst renderGameOver = (scale, opacity) => {\n  return <animated.div\n    key={'gameOver'}\n    style={{\n      opacity: opacity,\n      transform: scale.interpolate((s) => `scale(${s})`),\n    }}><svg height=\"100%\" width=\"100%\">\n      <text\n        y=\"40\"\n        fontSize='4em'\n        fontWeight='600'\n        fill=\"black\"\n        stroke=\"rgba(255,255,255,0.9)\"\n        strokeWidth=\"2px\"\n        strokeLinejoin=\"round\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"middle\">\n        <tspan x=\"50%\">Game</tspan>\n        <tspan x=\"50%\" dy=\"1em\">Over</tspan>\n      </text>\n    </svg>\n  </animated.div>;\n};\n\nconst renderCountdown = (countdown) => {\n  if (countdown) {\n    return <svg height=\"100%\" width=\"100%\" key={'countdown'}>\n      <animated.text\n        y=\"40\"\n        x=\"50%\"\n        fontSize='4em'\n        fontWeight='600'\n        fill=\"black\"\n        stroke=\"rgba(255,255,255,0.9)\"\n        strokeWidth=\"2px\"\n        strokeLinejoin=\"round\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"middle\"\n      >\n        {countdown.interpolate((c) => Math.round(c))}\n      </animated.text>\n    </svg>;\n  }\n  return null;\n};\n\nconst GameOverCountdown = ({delay, onAnimationFinished}) => {\n  // the \"width\" and the \"height\" for the \"div\" are required, otherwise the text\n  // content can't be aligned correctly\n  return <div\n    style={{\n      position: 'absolute',\n      width: BOARD_WIDTH,\n      height: BOARD_HEIGHT,\n    }}><Content\n      native\n      revert\n      startDelay={delay}\n      onRest={onAnimationFinished}>\n      {\n        (props) => [\n          renderGameOver(props.scale, props.opacity),\n          renderCountdown(props.countdown),\n        ]\n      }\n    </Content>\n  </div>;\n};\n\nGameOverCountdown.propTypes = {\n  onAnimationFinished: PropTypes.func,\n};\n\nGameOverCountdown.defaultProps = {\n  onAnimationFinished: undefined,\n};\n\nexport default memo(GameOverCountdown)\n;","import React, {Fragment, memo} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {propTypes} from '../../../crystal';\n\nimport FallingCrystals from './animations/FallingCrystals';\nimport GameOverCountdown from './animations/GameOverCountdown';\n\nconst GameOverOverlay = ({matrixCrystals, onAnimationFinished}) => {\n  return matrixCrystals && matrixCrystals.length ? <Fragment key={'fragment'}>\n    <FallingCrystals\n      key={'fallingCrystals'}\n      delay={300}\n      minCrystalDelay={45}\n      matrixCrystals={matrixCrystals}\n    />\n    <GameOverCountdown\n      key={'countdown'}\n      delay={1000}\n      onAnimationFinished={onAnimationFinished}\n    />\n  </Fragment>\n    :\n    null;\n};\n\nGameOverOverlay.propTypes = {\n  matrixCrystals: propTypes.MATRIX_CRYSTAL_LIST,\n  onAnimationFinished: PropTypes.func,\n};\n\nexport default memo(GameOverOverlay)\n;","import React, {Fragment, PureComponent} from 'react';\nimport {connect} from 'react-redux';\n\nimport {\n  selectors as statusSelectors,\n  constants as statusConstants,\n} from '../../../../domains/game-status';\nimport {\n  selectors as crystalBoardSelectors,\n} from '../../../../domains/crystal-board';\n\nimport {CrystalMatrix} from '../../../crystal';\nimport {actionCreators as gameActionCreators} from '../../../game';\n\nimport Background from '../components/Background';\nimport RemoveOverlay from '../components/RemoveOverlay';\nimport GameOverOverlay from '../components/GameOverOverlay';\n\nclass CrystalBoardContainer extends PureComponent {\n  render() {\n    return <Fragment\n      key=\"fragment\">\n      <Background\n        key=\"background\" />\n      <CrystalMatrix\n        key=\"crystalMatrix\"\n        matrixCrystals={this.props.visibleCrystals}\n      />\n      <RemoveOverlay\n        key=\"removeOverlay\"\n        matrixCrystals={this.props.markedCrystals.crystals}\n        linkOrigin={this.props.markedCrystals.linkOrigin}\n        onAnimationFinished={this.props.removeMarkedCrystals}\n      />\n      <GameOverOverlay\n        key=\"gameOverOverlay\"\n        matrixCrystals={this.props.gameOverCrystals}\n        onAnimationFinished={this.props.restartGame}\n      />\n    </Fragment>;\n  }\n}\n\nconst EMPTY_RESULT = [];\n\nconst mapStateToProps = (state) => {\n  const visibleCrystals = crystalBoardSelectors.selectVisibleCrystals(state);\n  const isGameOver = statusSelectors.selectGameStatus(state) === statusConstants.GameStatus.GAME_OVER;\n  return {\n    visibleCrystals: isGameOver ? EMPTY_RESULT : visibleCrystals,\n    markedCrystals: isGameOver ? EMPTY_RESULT : crystalBoardSelectors.selectMarkedCrystals(state),\n    gameOverCrystals: isGameOver ? visibleCrystals : EMPTY_RESULT,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  removeMarkedCrystals: () => dispatch(gameActionCreators.removeMarkedCrystals()),\n  restartGame: () => dispatch(gameActionCreators.start()),\n});\n\n// doesn't work?\n// results in a runtime error: \"TypeError: _game__WEBPACK_IMPORTED_MODULE_10__.actionCreators is undefined\"\n/*\nconst mapDispatchToProps = {\n  removeMarkedCrystals: gameActionCreators.removeMarkedCrystals,\n  restartGame: gameActionCreators.start,\n}\n*/\n\nexport default connect(\n    mapStateToProps, mapDispatchToProps\n)(CrystalBoardContainer);\n","import * as utils from './internal/utils';\nimport CrystalBoardContainer from './internal/containers/CrystalBoardContainer';\n\nexport {utils};\nexport default CrystalBoardContainer;\n","\nexport const Key = {\n  LEFT: 'ArrowLeft',\n  UP: 'ArrowUp',\n  RIGHT: 'ArrowRight',\n  DOWN: 'ArrowDown',\n};\n\nexport default {\n  _keys: {},\n  _isDelayedDownEventThreshold: 1,\n\n  init(document) {\n    document.addEventListener('keydown', this._onKeyDown.bind(this), false);\n    document.addEventListener('keyup', this._onKeyUp.bind(this), false);\n  },\n  isDown(key) {\n    const keyInfo = this._keys[key];\n    return (keyInfo && keyInfo.isDown) || false;\n  },\n  isInitialDown(key) {\n    const keyInfo = this._keys[key];\n    if (keyInfo) {\n      const {isDown, initialKeyDownConsumed} = keyInfo;\n      return (isDown && !initialKeyDownConsumed);\n    }\n    return false;\n  },\n  isDelayedDone(key) {\n    const keyInfo = this._keys[key];\n    if (keyInfo) {\n      const {isDown, repeatedDownEventCount, initialKeyDownConsumed} = keyInfo;\n      if (isDown) {\n        return (repeatedDownEventCount >= this._isDelayedDownEventThreshold) ||\n        (repeatedDownEventCount === 0 && !initialKeyDownConsumed);\n      }\n    }\n    return false;\n  },\n  clearWasPressedState() {\n    Object.values(this._keys).forEach((keyInfo) => {\n      if (!keyInfo.isDown) {\n        keyInfo.repeatedDownEventCount = 0;\n      }\n      keyInfo.initialKeyDownConsumed = true;\n    });\n  },\n  _onKeyUp(e) {\n    const key = e.key;\n    const keyInfo = this._keys[key];\n    if (keyInfo) {\n      keyInfo.isDown = false;\n    }\n  },\n  _onKeyDown(e) {\n    const key = e.key;\n    if (!this._keys[key]) {\n      this._keys[key] = this._createKeyInfo();\n    }\n    const keyInfo = this._keys[key];\n    if (keyInfo.isDown) {\n      keyInfo.repeatedDownEventCount++;\n    } else {\n      keyInfo.isDown = true;\n      keyInfo.initialKeyDownConsumed = false;\n    }\n  },\n  _createKeyInfo() {\n    return {\n      isDown: false,\n      repeatedDownEventCount: 0,\n      initialKeyDownConsumed: false};\n  },\n};\n","import {\n  constants as crystalBoardConstants,\n  utils as crystalBoardUtils,\n} from '../../../../domains/crystal-board';\nimport {constants as movingCrystalConstants} from '../../../../domains/moving-crystals';\nimport {constants as gameStatusConstants} from '../../../../domains/game-status';\nimport KeyState, {Key} from '../../../utils/KeyState';\nimport Easing from '../../../utils/Easing';\n\nimport {constants as crystalFeatureConstants} from '../../../crystal';\nimport {utils as crystalBoardFeatureUtils} from '../../../crystal-board';\n\nconst LAST_VALID_Y_POS = crystalFeatureConstants.CELL_SIZE * (crystalBoardConstants.ROW_COUNT - 1);\n\nexport const calculateNextPosition = (currentPosition, matrix, speedLevel) => {\n  const newPosition = {x: currentPosition.x, y: currentPosition.y};\n  newPosition.x = calculateNewXPosition(matrix, newPosition);\n  newPosition.y = calculateNewYPosition(matrix, newPosition, speedLevel);\n\n  return newPosition;\n};\n\nconst calculateNewYPosition = (matrix, position, speedLevel) => {\n  let movedDistance = 2 + Math.floor(gameStatusConstants.MAX_SPEED_LEVEL * Easing.easeInQuad(speedLevel / gameStatusConstants.MAX_SPEED_LEVEL));\n\n  if (KeyState.isDown(Key.DOWN)) {\n    movedDistance += movingCrystalConstants.FAST_MOVE_DOWN;\n  }\n\n  let newYPosition = Math.min(position.y + movedDistance, LAST_VALID_Y_POS);\n\n  if (newYPosition !== position.y) {\n    // get row index for the bottom part of the crystal\n    const newRowIndex = calculateRowIndexOfCrystalBottom(newYPosition);\n    const currentRowIndex = calculateRowIndexOfCrystalBottom(position.y);\n\n    if (newRowIndex !== currentRowIndex) {\n      const currentColumnIndex = crystalBoardFeatureUtils.convertXToColumnIndex(position.x);\n      const matrixIndex = crystalBoardUtils.createMatrixIndex(newRowIndex, currentColumnIndex);\n\n      if (!isValidEmptyIndex(matrix, matrixIndex)) {\n        // reset to the last possible valid y position\n        while (!isValidEmptyIndex(matrix, matrixIndex)) {\n          if (matrixIndex.row === currentRowIndex) {\n            break;\n          }\n          matrixIndex.row--;\n        }\n\n        newYPosition = crystalBoardFeatureUtils.convertRowIndexToY(matrixIndex.row);\n      }\n    }\n  }\n\n  return newYPosition;\n};\n\nconst calculateNewXPosition = (matrix, position) => {\n  const columnIndex = crystalBoardFeatureUtils.convertXToColumnIndex(position.x);\n  const rowIndex = calculateRowIndexOfCrystalBottom(position.y);\n\n  let newColumnIndex = columnIndex;\n\n  if (KeyState.isDelayedDone(Key.RIGHT)) {\n    newColumnIndex = Math.min(columnIndex + 1, crystalBoardConstants.COLUMNS_PER_ROW - 1);\n  } else if (KeyState.isDelayedDone(Key.LEFT)) {\n    newColumnIndex = Math.max(columnIndex - 1, 0);\n  }\n\n  if (newColumnIndex !== columnIndex) {\n    const matrixIndex = crystalBoardUtils.createMatrixIndex(rowIndex, newColumnIndex);\n\n    if (!crystalBoardUtils.isEmptyColumn(matrix, matrixIndex)) {\n      // illegal move, revert move\n      newColumnIndex = columnIndex;\n    }\n  }\n\n  return newColumnIndex === columnIndex ? position.x : crystalBoardFeatureUtils.convertColumnIndexToX(newColumnIndex);\n};\n\nconst isValidEmptyIndex = (matrix, matrixIndex) => {\n  return crystalBoardUtils.isValidMatrixIndex(matrixIndex) && crystalBoardUtils.isEmptyColumn(matrix, matrixIndex);\n};\n\nconst calculateRowIndexOfCrystalBottom = (yPositionOfCrystal) => {\n  const rowOfCrystal = crystalBoardFeatureUtils.convertYToRowIndex(yPositionOfCrystal);\n  if (rowOfCrystal >= 0) {\n    const yPositionOfRow = crystalBoardFeatureUtils.convertRowIndexToY(rowOfCrystal);\n    const movedDistanceInRow = yPositionOfCrystal - yPositionOfRow;\n    if (movedDistanceInRow > 0 && !crystalBoardUtils.isLastRow(rowOfCrystal) && crystalBoardUtils.isValidRowIndex(rowOfCrystal)) {\n      // movedDistance == amount of pixel which also overlay the next row\n      return rowOfCrystal + 1;\n    }\n    return rowOfCrystal;\n  }\n\n  // the crystal starts above the board this lead to an negative (invalid index)\n  // to make the algorithm work, the invalid index is adjusted\n  return 0;\n};\n","import { batchActions } from 'redux-batched-actions'\n\nimport {\n  utils as crystalUtils\n} from '../../../domains/crystal'\nimport {\n  actionCreators as crystalPreviewActions,\n  constants as crystalPreviewConstants,\n  selectors as crystalPreviewSelectors,\n} from '../../../domains/crystals-preview'\nimport {\n  actionCreators as movingCrystalActions,\n  constants as movingCrystalConstants,\n  selectors as movingCrystalSelectors,\n} from '../../../domains/moving-crystals'\nimport {\n  actionCreators as crystalBoardActions,\n  constants as crystalBoardConstants,\n  selectors as crystalBoardSelectors,\n} from '../../../domains/crystal-board'\nimport {\n  actionCreators as gameStatusActions,\n  constants as gameStatusConstants,\n  selectors as gameStatusSelectors,\n} from '../../../domains/game-status'\n\nimport { utils as crystalBoardFeatureUtils } from '../../crystal-board'\nimport { constants as crystalFeatureConstants } from '../../crystal'\n\nimport KeyState, { Key } from '../../utils/KeyState'\n\nimport { calculateNextPosition } from './logic/CalculateMovingCrystalPosition'\n\nconst { BoardStatus } = crystalBoardConstants\nconst { GameStatus } = gameStatusConstants\n\nconst update = () => {\n  return (dispatch, getState) => {\n\n    let batchedActions = []\n    const state = getState()\n\n    if (crystalBoardSelectors.selectBoardStatus(state) === BoardStatus.CRYSTAL_CHAINS_RESOLVED) {\n      if (crystalBoardSelectors.isBoardFilled(state)) {\n        batchedActions.push(gameStatusActions.setStatus(GameStatus.GAME_OVER))\n      } else {\n        // set the current preview as new moving-crystals data\n        // don't generate a new preview, because the moving-crystals are out of the visible\n        // area and the player can't see the crystals if the preview is update to early\n        const previewCrystalTypes = crystalPreviewSelectors.selectCrystalTypes(state)\n        batchedActions.push(movingCrystalActions.setCrystalTypes(previewCrystalTypes))\n        batchedActions.push(crystalBoardActions.setCurrentStatus(BoardStatus.READY))\n      }\n    }\n    else if (crystalBoardSelectors.selectBoardStatus(state) === BoardStatus.READY) {\n      if (KeyState.isInitialDown(Key.UP)) {\n        batchedActions.push(movingCrystalActions.cycleCrystals())\n      }\n\n      updateMovingCrystalsPosition(state, batchedActions)\n    }\n\n    KeyState.clearWasPressedState()\n    dispatch(batchActions(batchedActions))\n  }\n}\n\nconst removeMarkedCrystals = () => {\n  return (dispatch, getState) => {\n\n    const batchedActions = []\n    const state = getState()\n\n    const markedCrystalsIds = crystalBoardSelectors.selectMarkedCrystalIds(state)\n    const crystalCount = markedCrystalsIds.length\n\n    batchedActions.push(gameStatusActions.incrementClearedCrystals(crystalCount))\n    batchedActions.push(crystalBoardActions.removeMarkedCrystals())\n\n    dispatch(batchActions(batchedActions))\n  }\n}\n\nconst init = () => {\n  return (dispatch, getState) => {\n\n    const batchedActions = []\n\n    const cellSize = crystalFeatureConstants.CELL_SIZE\n    const resetPosition = { x: crystalBoardConstants.MIDDLE_COLUMN_INDEX * cellSize, y: -cellSize }\n    batchedActions.push(movingCrystalActions.setResetPosition(resetPosition))\n\n    dispatch(batchActions(batchedActions))\n  }\n}\n\nconst start = () => {\n  return (dispatch, getState) => {\n\n    const batchedActions = []\n\n    const previewCrystalTypes = createListOfRandomCrystalTypes(crystalPreviewConstants.CRYSTAL_COUNT)\n    const movingCrystalTypes = createListOfRandomCrystalTypes(movingCrystalConstants.CRYSTAL_COUNT)\n\n    batchedActions.push(gameStatusActions.reset())\n    batchedActions.push(gameStatusActions.setStatus(GameStatus.RUNNING))\n    batchedActions.push(crystalBoardActions.clearCrystals())\n    batchedActions.push(crystalPreviewActions.setCrystalTypes(previewCrystalTypes))\n    batchedActions.push(movingCrystalActions.resetPosition())\n    batchedActions.push(movingCrystalActions.setCrystalTypes(movingCrystalTypes))\n\n    dispatch(batchActions(batchedActions))\n  }\n}\n\nconst updateMovingCrystalsPosition = (state, batchedActions) => {\n\n  const position = movingCrystalSelectors.selectPosition(state, crystalFeatureConstants.CELL_SIZE)\n  const groundTime = movingCrystalSelectors.selectGroundTime(state)\n  const matrix = crystalBoardSelectors.selectMatrix(state)\n  const speedLevel = gameStatusSelectors.selectSpeedLevel(state)\n  const newPosition = calculateNextPosition(position, matrix, speedLevel)\n\n  const hasMovedDown = newPosition.y !== position.y\n  const hasMovedHorizontal = newPosition.x !== position.x\n\n  if (hasMovedDown || hasMovedHorizontal) {\n    batchedActions.push(movingCrystalActions.setPosition(newPosition))\n\n    // generate a new crystals-preview if the current moving-crystals become visible\n    const prevRowIndex = crystalBoardFeatureUtils.convertYToRowIndex(position.y)\n    if (prevRowIndex === -1) {\n      const newRowIndex = crystalBoardFeatureUtils.convertYToRowIndex(newPosition.y)\n      if (prevRowIndex !== newRowIndex) {\n        const crystalTypes = createListOfRandomCrystalTypes(crystalPreviewConstants.CRYSTAL_COUNT)\n        batchedActions.push(crystalPreviewActions.setCrystalTypes(crystalTypes))\n      }\n    }\n\n  } else if (!hasMovedDown) {\n    let dropCrystals = false\n\n    if (KeyState.isDown(Key.DOWN)) {\n      dropCrystals = true\n    }\n    else if (groundTime >= movingCrystalConstants.GROUND_TIME_THRESHOLD) {\n      dropCrystals = true\n    }\n\n    if (dropCrystals) {\n      const crystalTypes = movingCrystalSelectors.selectCrystalTypes(state)\n      const matrixIndex = crystalBoardFeatureUtils.convertToMatrixIndex(position.x, position.y)\n      batchedActions.push(crystalBoardActions.addDroppedCrystals(crystalTypes, matrixIndex))\n      batchedActions.push(movingCrystalActions.clearCrystals())\n    } else {\n      batchedActions.push(movingCrystalActions.incrementGroundTime())\n    }\n  }\n}\n\nconst createListOfRandomCrystalTypes = (numCrystalTypes) => {\n  const result = []\n  for (let i = 0; i < numCrystalTypes; i++) {\n    result.push(crystalUtils.getRandomCrystalType())\n  }\n  return result\n}\n\nconst actionCreators = {\n  init,\n  start,\n  update,\n  removeMarkedCrystals,\n}\n\nexport { actionCreators }","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\n\nconst ClearedCrystalsCounter = ({value}) => {\n  return <svg width=\"100%\" height=\"100%\">\n    <defs>\n      <linearGradient id=\"textgrad2\" x2=\"0\" y2=\"1\">\n        <stop offset=\"0%\" stopColor=\"white\" />\n        <stop offset=\"75%\" stopColor=\"cornflowerblue\" />\n        <stop offset=\"100%\" stopColor=\"lightskyblue\" />\n      </linearGradient>\n    </defs>\n    <text fill=\"url(#textgrad2)\"\n      stroke=\"black\"\n      strokeWidth=\"1px\"\n      strokeLinejoin=\"round\"\n      dominantBaseline=\"hanging\">\n      <tspan\n        fontSize='29'\n        fontWeight='bold'>Crystals</tspan>\n      <tspan\n        y='1em'\n        fontSize='32'\n        fontWeight='normal'\n        textAnchor=\"end\">{value}</tspan>\n    </text>\n  </svg>;\n};\n\nClearedCrystalsCounter.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nexport default memo(ClearedCrystalsCounter);\n","import React, {PureComponent} from 'react';\nimport {connect} from 'react-redux';\n\nimport {selectors} from '../../../../domains/game-status';\n\nimport ClearedCrystalsCounter from '../components/ClearedCrystalsCounter';\n\nclass LeftPart extends PureComponent {\n  render() {\n    const {clearedCrystalsCount} = this.props;\n    return <div key=\"div\"\n      style={{\n        position: 'absolute',\n        left: '5px',\n        top: '120px',\n      }}>\n      <ClearedCrystalsCounter\n        key=\"counter\"\n        value={clearedCrystalsCount}\n      />\n    </div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    clearedCrystalsCount: selectors.selectClearedCrystalsCount(state),\n  };\n};\n\nexport default connect(mapStateToProps, null)(LeftPart);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {selectors as movingCrystalSelectors} from '../../../../domains/moving-crystals';\nimport {AnimatedCrystalMatrix, constants as crystalConstants} from '../../../crystal';\n\nclass MovingCrystalsContainer extends React.PureComponent {\n  render() {\n    const {position, crystals} = this.props;\n    return <div\n      key=\"div\"\n      style={{\n        position: 'absolute',\n        top: `${position.y - (crystalConstants.CELL_SIZE * 2)}px`,\n        left: `${position.x}px`,\n      }}>\n      <AnimatedCrystalMatrix\n        key=\"matrix\"\n        matrixCrystals={crystals}\n      />\n    </div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    crystals: movingCrystalSelectors.selectCrystals(state),\n    position: movingCrystalSelectors.selectPosition(state, crystalConstants.CELL_SIZE),\n  };\n};\n\nconst mapDispatchToProps = null;\n\nexport default connect(\n    mapStateToProps, mapDispatchToProps\n)(MovingCrystalsContainer);\n","import MovingCrystalsContainer\n  from './internal/containers/MovingCrystalsContainer';\n\nexport default MovingCrystalsContainer\n;\n","import React, {PureComponent} from 'react';\n\nimport CrystalBoardContainer from '../../../crystal-board/';\nimport MovingCrystalsContainer from '../../../moving-crystals/';\n\nclass MiddlePart extends PureComponent {\n  render() {\n    return <div key=\"div\" style={{\n      position: 'absolute',\n      overflow: 'hidden',\n      height: '100%',\n      width: '100%',\n    }}>\n      <CrystalBoardContainer key=\"board\" />\n      <MovingCrystalsContainer key=\"movingCrystals\" />\n    </div>;\n  }\n}\n\nexport default MiddlePart\n;\n","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {constants as crystalConstants} from '../../../crystal';\n\nconst generateGridPath = (rows) => {\n  let path = '';\n\n  const halfStrokeWidth = 1 / 2;\n\n  let y = 0;\n  for (let r = 0; r <= rows; r++) {\n    path += `M${0},${halfStrokeWidth + y}`;\n    path += `L${crystalConstants.CELL_SIZE},${halfStrokeWidth + y}`;\n    y += crystalConstants.CELL_SIZE;\n  }\n\n  path += 'Z';\n\n  return path;\n};\n\nconst Background = ({rows}) => {\n  const gridPath = generateGridPath(rows);\n  return (\n    <div key=\"div\" style={{position: 'absolute'}}>\n      <svg key=\"svg\" width={crystalConstants.CELL_SIZE} height={rows * crystalConstants.CELL_SIZE}>\n        <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"lightGray\" />\n        <g stroke=\"white\" fill=\"none\" strokeWidth=\"1\">\n          <path d={gridPath} />\n        </g>\n        <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"darkGray\" strokeWidth=\"2\" />\n      </svg>\n    </div>\n  );\n};\n\nBackground.propTypes = {\n  rows: PropTypes.number,\n};\n\nBackground.defaultProps = {\n  rows: 1,\n};\n\nexport default memo(Background)\n;","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {\n  selectors as statusSelectors,\n  constants as statusConstants,\n} from '../../../../domains/game-status';\nimport {\n  selectors as previewSelectors,\n} from '../../../../domains/crystals-preview';\nimport {AnimatedCrystalMatrix} from '../../../crystal';\n\nimport Background from '../components/Background';\n\nclass CrystalsPreviewContainer extends React.PureComponent {\n  render() {\n    const {animate, crystals} = this.props;\n    return <div key=\"div\">\n      <Background\n        key=\"background\"\n        rows={3}\n      />\n      <AnimatedCrystalMatrix\n        key=\"matrix\"\n        animate={animate}\n        matrixCrystals={crystals}\n      />\n    </div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    crystals: previewSelectors.selectCrystals(state),\n    animate: statusSelectors.selectGameStatus(state) === statusConstants.GameStatus.RUNNING,\n  };\n};\n\nexport default connect(mapStateToProps, null)(CrystalsPreviewContainer)\n;","import CrystalsPreviewContainer from './internal/containers/CrystalsPreviewContainer';\n\nexport default CrystalsPreviewContainer\n;\n","import React, {memo} from 'react';\nimport PropTypes from 'prop-types';\n\nconst formatValue = (value) => {\n  const str = '000' + value;\n  return str.substring(str.length - 3);\n};\n\nconst LevelCounter = ({value}) => {\n  return <svg width=\"100%\" height=\"100%\" >\n    <defs>\n      <linearGradient id=\"textgrad\" x2=\"0\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor=\"white\" />\n        <stop offset=\"50%\" stopColor=\"magenta\" />\n        <stop offset=\"100%\" stopColor=\"pink\" />\n      </linearGradient>\n    </defs>\n    <text fill=\"url(#textgrad)\"\n      stroke=\"black\"\n      strokeWidth=\"1px\"\n      strokeLinejoin=\"round\"\n      dominantBaseline=\"hanging\">\n      <tspan\n        fontSize='29'\n        fontWeight='bold'>Level</tspan>\n      <tspan\n        y='1em'\n        fontSize='32'\n        fontWeight='normal'\n        textAnchor=\"end\">{formatValue(value)}</tspan>\n    </text>\n  </svg>;\n};\n\nLevelCounter.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nexport default memo(LevelCounter);\n","import React, {PureComponent} from 'react';\nimport {connect} from 'react-redux';\n\nimport CrystalsPreviewContainer from '../../../crystals-preview';\nimport {selectors} from '../../../../domains/game-status';\n\nimport LevelCounter from '../components/LevelCounter';\n\nclass RightPart extends PureComponent {\n  render() {\n    const {levelCount} = this.props;\n    return <div style={{margin: '0 auto'}}>\n      <div key=\"previewDiv\"\n        style={{\n          position: 'absolute',\n          left: '50px',\n          top: '20px',\n        }}>\n        <CrystalsPreviewContainer\n          key=\"preview\"\n        />\n      </div>\n      <div key=\"counterDiv\"\n        style={{\n          position: 'absolute',\n          left: '25px',\n          top: '250px',\n        }}>\n        <LevelCounter\n          key=\"counter\"\n          value={levelCount}\n        />\n      </div>\n    </div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    levelCount: selectors.selectLevelCount(state),\n  };\n};\n\nexport default connect(mapStateToProps, null)(RightPart);\n","import React, {memo} from 'react';\nimport {Keyframes, animated, config, interpolate} from 'react-spring/renderprops';\n\nconst getRandomValue = (minValue, maxValue) => {\n  return minValue + Math.floor(Math.random() * (maxValue - minValue));\n};\nconst Content = Keyframes.Spring(async (next, cancel, ownProps) => {\n  const maxColor = 0xee;\n  const minColor = 0x11;\n\n  const animConfig = {\n    from: {\n      r: getRandomValue(minColor, maxColor),\n      g: getRandomValue(minColor, maxColor),\n      b: getRandomValue(minColor, maxColor),\n    },\n    config: {...config.slow, duration: 10000},\n  };\n  while (true) {\n    await next({\n      ...animConfig,\n      to: {\n        r: getRandomValue(minColor, maxColor),\n        g: getRandomValue(minColor, maxColor),\n        b: getRandomValue(minColor, maxColor),\n      },\n    });\n  }\n});\n\nconst ColorBackground = () => {\n  return <Content\n    key=\"content\"\n    native>\n    {\n      ({r, g, b}) => <animated.div\n        key=\"div\"\n        style={{\n          position: 'absolute',\n          width: '100%',\n          height: '100%',\n          backgroundColor: interpolate([r, g, b], (r, g, b) => {\n            return `rgba(${Math.floor(r)},${Math.floor(g)},${Math.floor(b)},0.2)`;\n          }),\n        }}>\n      </animated.div>\n    }\n  </Content>;\n};\n\nexport default memo(ColorBackground)\n;","import Screen from './internal/containers/Screen';\n\nexport default Screen\n;\n","import React, {memo} from 'react';\n\nimport LeftPart from './LeftPart';\nimport MiddlePart from './MiddlePart';\nimport RightPart from './RightPart';\nimport ColorBackgound from '../components/animations/ColorBackgound';\n\nconst Screen = () => {\n  const leftPartWidth = 125;\n  const middlePartWidth = 217;\n  const rightPartWidth = 125;\n  return <div key=\"mainDiv\" style={{\n    position: 'absolute',\n    height: '352px',\n    width: `${leftPartWidth + middlePartWidth + rightPartWidth}px`,\n    border: '6px solid white',\n    boxShadow: '0 0 10px rgba(0,0,0,.4)',\n  }}>\n    <ColorBackgound key=\"background\" />\n    <div\n      key=\"leftDiv\"\n      style={{\n        position: 'absolute',\n        width: `${leftPartWidth}px`,\n        height: '100%',\n      }}>\n      <LeftPart key=\"leftPart\" />\n    </div>\n    <div key=\"middleDiv\"\n      style={{\n        position: 'absolute',\n        top: '5px',\n        left: `${leftPartWidth}px`,\n        width: `${middlePartWidth}px`,\n        height: '100%',\n      }}>\n      <MiddlePart key=\"middlePart\" />\n    </div>\n    <div key=\"rightDiv\"\n      style={{\n        position: 'absolute',\n        left: `${leftPartWidth + middlePartWidth}px`,\n        width: `${rightPartWidth}px`,\n        height: '100%',\n      }}>\n      <RightPart key=\"rightPart\" />\n    </div>\n  </div>;\n};\n\nexport default memo(Screen)\n;","import React, {PureComponent} from 'react';\nimport {connect} from 'react-redux';\nimport {actionCreators as gameActionCreators} from './features/game';\nimport KeyState from './features/utils/KeyState';\nimport Screen from './features/game-screen';\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.intervalId = null;\n  }\n\n  componentDidMount() {\n    this.requestNextFrame();\n    KeyState.init(document);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.intervalId);\n  }\n\n  requestNextFrame = () => {\n    window.requestAnimationFrame(this.props.updateGame);\n    this.intervalId = setTimeout(this.requestNextFrame, 1000 / 20);\n  }\n\n  render() {\n    return (\n      <Screen key=\"screen\" />\n    );\n  }\n}\n\n/*\nconst mapDispatchToProps = dispatch => ({\n  updateGame: () => dispatch(gameActionCreators.update()),\n})\n*/\n\nconst mapDispatchToProps = {\n  updateGame: gameActionCreators.update,\n};\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(App);\n","\nconst reducers = {};\nconst registerReducer = (storeKey, reducer) => {\n  reducers[storeKey] = reducer;\n};\n\nconst getReducers = () => ({...reducers});\n\nexport default {\n  registerReducer,\n  getReducers,\n}\n;\n","import {combineReducers, createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {enableBatching} from 'redux-batched-actions';\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\nimport {registerDomain as registerCrystalBoardDomain}\n  from '../domains/crystal-board';\nimport {registerDomain as registerMovingCrystalsDomain}\n  from '../domains/moving-crystals';\nimport {registerDomain as registerGameStatusDomain}\n  from '../domains/game-status';\nimport {registerDomain as registerCrystalsPreviewDomain}\n  from '../domains/crystals-preview';\n\nimport registry from './DomainRegistry';\n\n// register domains\nregisterCrystalBoardDomain(registry);\nregisterMovingCrystalsDomain(registry);\nregisterGameStatusDomain(registry);\nregisterCrystalsPreviewDomain(registry);\n\nconst createReducer = () => {\n  return combineReducers({\n    ...registry.getReducers(),\n  });\n};\n\nexport const configureStore = () => {\n  const store = createStore(\n      enableBatching(createReducer()),\n      composeWithDevTools(\n          applyMiddleware(thunk))\n  );\n\n  return store;\n};\n","import {LOCAL_STATE_KEY} from './internal/constants';\nimport reducer from './internal/reducer';\nimport * as constants from './internal/constants';\nimport * as utils from './internal/utils';\nimport * as selectors from './internal/selectors';\nimport * as converters from './internal/converters';\nimport {actionCreators} from './internal/actions';\n\nconst registerDomain = (registry) => {\n  registry.registerReducer(LOCAL_STATE_KEY, reducer);\n};\n\nexport {\n  registerDomain,\n  actionCreators,\n  selectors,\n  converters,\n  constants,\n  utils,\n};\n","import {LOCAL_STATE_KEY} from './internal/constants';\nimport reducer from './internal/reducer';\nimport * as constants from './internal/constants';\nimport * as selectors from './internal/selectors';\nimport {actionCreators} from './internal/actions';\n\nconst registerDomain = (registry) => {\n  registry.registerReducer(LOCAL_STATE_KEY, reducer);\n};\n\nexport {registerDomain, selectors, actionCreators, constants};\n","import {LOCAL_STATE_KEY} from './internal/constants';\nimport reducer from './internal/reducer';\nimport * as constants from './internal/constants';\nimport * as selectors from './internal/selectors';\nimport {actionCreators} from './internal/actions';\n\nconst registerDomain = (registry) => {\n  registry.registerReducer(LOCAL_STATE_KEY, reducer);\n};\n\n\nexport {registerDomain, constants, actionCreators, selectors};\n","import {LOCAL_STATE_KEY} from './internal/constants';\nimport reducer from './internal/reducer';\nimport * as constants from './internal/constants';\nimport * as selectors from './internal/selectors';\nimport {actionCreators} from './internal/actions';\n\nconst registerDomain = (registry) => {\n  registry.registerReducer(LOCAL_STATE_KEY, reducer);\n};\n\nexport {registerDomain, selectors, constants, actionCreators}\n;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport {render} from 'react-dom';\nimport {Provider} from 'react-redux';\nimport './index.css';\n\nimport App from './App';\nimport {configureStore} from './store/Store';\nimport * as serviceWorker from './serviceWorker';\nimport {actionCreators as gameActionCreators} from './features/game';\n\nconst store = configureStore();\nstore.dispatch(gameActionCreators.init());\nstore.dispatch(gameActionCreators.start());\n\nrender(\n    <Provider store={store}>\n      <div key=\"div\" style={{\n        margin: '0 auto',\n        width: '467px',\n        paddingTop: '80px',\n      }}>\n        <App key=\"App\" />\n      </div>\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n\n"],"sourceRoot":""}